<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="pdoc 14.1.0" name="generator"/>
    <title>open_precision.external.bno055_serial_driver API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */
    *, ::after, ::before {
        box-sizing: border-box
    }

    @media (prefers-reduced-motion: no-preference) {
        :root {
            scroll-behavior: smooth
        }
    }

    body {
        margin: 0;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        color: #212529;
        background-color: #fff;
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent
    }

    hr {
        margin: 1rem 0;
        color: inherit;
        background-color: currentColor;
        border: 0;
        opacity: .25
    }

    hr:not([size]) {
        height: 1px
    }

    h1, h2, h3, h4, h5, h6 {
        margin-top: 0;
        margin-bottom: .5rem;
        font-weight: 500;
        line-height: 1.2
    }

    h1 {
        font-size: calc(1.375rem + 1.5vw)
    }

    @media (min-width: 1200px) {
        h1 {
            font-size: 2.5rem
        }
    }

    h2 {
        font-size: calc(1.325rem + .9vw)
    }

    @media (min-width: 1200px) {
        h2 {
            font-size: 2rem
        }
    }

    h3 {
        font-size: calc(1.3rem + .6vw)
    }

    @media (min-width: 1200px) {
        h3 {
            font-size: 1.75rem
        }
    }

    h4 {
        font-size: calc(1.275rem + .3vw)
    }

    @media (min-width: 1200px) {
        h4 {
            font-size: 1.5rem
        }
    }

    h5 {
        font-size: 1.25rem
    }

    h6 {
        font-size: 1rem
    }

    p {
        margin-top: 0;
        margin-bottom: 1rem
    }

    abbr[data-bs-original-title], abbr[title] {
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
        cursor: help;
        -webkit-text-decoration-skip-ink: none;
        text-decoration-skip-ink: none
    }

    address {
        margin-bottom: 1rem;
        font-style: normal;
        line-height: inherit
    }

    ol, ul {
        padding-left: 2rem
    }

    dl, ol, ul {
        margin-top: 0;
        margin-bottom: 1rem
    }

    ol ol, ol ul, ul ol, ul ul {
        margin-bottom: 0
    }

    dt {
        font-weight: 700
    }

    dd {
        margin-bottom: .5rem;
        margin-left: 0
    }

    blockquote {
        margin: 0 0 1rem
    }

    b, strong {
        font-weight: bolder
    }

    small {
        font-size: .875em
    }

    mark {
        padding: .2em;
        background-color: #fcf8e3
    }

    sub, sup {
        position: relative;
        font-size: .75em;
        line-height: 0;
        vertical-align: baseline
    }

    sub {
        bottom: -.25em
    }

    sup {
        top: -.5em
    }

    a {
        color: #0d6efd;
        text-decoration: underline
    }

    a:hover {
        color: #0a58ca
    }

    a:not([href]):not([class]), a:not([href]):not([class]):hover {
        color: inherit;
        text-decoration: none
    }

    code, kbd, pre, samp {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 1em;
        direction: ltr;
        unicode-bidi: bidi-override
    }

    pre {
        display: block;
        margin-top: 0;
        margin-bottom: 1rem;
        overflow: auto;
        font-size: .875em
    }

    pre code {
        font-size: inherit;
        color: inherit;
        word-break: normal
    }

    code {
        font-size: .875em;
        color: #d63384;
        word-wrap: break-word
    }

    a > code {
        color: inherit
    }

    kbd {
        padding: .2rem .4rem;
        font-size: .875em;
        color: #fff;
        background-color: #212529;
        border-radius: .2rem
    }

    kbd kbd {
        padding: 0;
        font-size: 1em;
        font-weight: 700
    }

    figure {
        margin: 0 0 1rem
    }

    img, svg {
        vertical-align: middle
    }

    table {
        caption-side: bottom;
        border-collapse: collapse
    }

    caption {
        padding-top: .5rem;
        padding-bottom: .5rem;
        color: #6c757d;
        text-align: left
    }

    th {
        text-align: inherit;
        text-align: -webkit-match-parent
    }

    tbody, td, tfoot, th, thead, tr {
        border-color: inherit;
        border-style: solid;
        border-width: 0
    }

    label {
        display: inline-block
    }

    button {
        border-radius: 0
    }

    button:focus:not(:focus-visible) {
        outline: 0
    }

    button, input, optgroup, select, textarea {
        margin: 0;
        font-family: inherit;
        font-size: inherit;
        line-height: inherit
    }

    button, select {
        text-transform: none
    }

    [role=button] {
        cursor: pointer
    }

    select {
        word-wrap: normal
    }

    select:disabled {
        opacity: 1
    }

    [list]::-webkit-calendar-picker-indicator {
        display: none
    }

    [type=button], [type=reset], [type=submit], button {
        -webkit-appearance: button
    }

    [type=button]:not(:disabled), [type=reset]:not(:disabled), [type=submit]:not(:disabled), button:not(:disabled) {
        cursor: pointer
    }

    ::-moz-focus-inner {
        padding: 0;
        border-style: none
    }

    textarea {
        resize: vertical
    }

    fieldset {
        min-width: 0;
        padding: 0;
        margin: 0;
        border: 0
    }

    legend {
        float: left;
        width: 100%;
        padding: 0;
        margin-bottom: .5rem;
        font-size: calc(1.275rem + .3vw);
        line-height: inherit
    }

    @media (min-width: 1200px) {
        legend {
            font-size: 1.5rem
        }
    }

    legend + * {
        clear: left
    }

    ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-fields-wrapper, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-text, ::-webkit-datetime-edit-year-field {
        padding: 0
    }

    ::-webkit-inner-spin-button {
        height: auto
    }

    [type=search] {
        outline-offset: -2px;
        -webkit-appearance: textfield
    }

    ::-webkit-search-decoration {
        -webkit-appearance: none
    }

    ::-webkit-color-swatch-wrapper {
        padding: 0
    }

    ::file-selector-button {
        font: inherit
    }

    ::-webkit-file-upload-button {
        font: inherit;
        -webkit-appearance: button
    }

    output {
        display: inline-block
    }

    iframe {
        border: 0
    }

    summary {
        display: list-item;
        cursor: pointer
    }

    progress {
        vertical-align: baseline
    }

    [hidden] {
        display: none !important
    }</style>
    <style>/*! syntax-highlighting.css */
    pre {
        line-height: 125%;
    }

    td.linenos .normal {
        color: inherit;
        background-color: transparent;
        padding-left: 5px;
        padding-right: 5px;
    }

    span.linenos {
        color: inherit;
        background-color: transparent;
        padding-left: 5px;
        padding-right: 5px;
    }

    td.linenos .special {
        color: #000000;
        background-color: #ffffc0;
        padding-left: 5px;
        padding-right: 5px;
    }

    span.linenos.special {
        color: #000000;
        background-color: #ffffc0;
        padding-left: 5px;
        padding-right: 5px;
    }

    body .hll {
        background-color: #ffffcc
    }

    body {
        background: #ffffff;
    }

    body .c {
        color: #9E9E9E;
        font-style: italic
    }

    body .k {
        color: #2494BF;
        font-weight: bold
    }

    body .ch {
        color: #9E9E9E;
        font-style: italic
    }

    body .cm {
        color: #9E9E9E;
        font-style: italic
    }

    body .cp {
        color: #9E9E9E;
        font-style: italic
    }

    body .cpf {
        color: #9E9E9E;
        font-style: italic
    }

    body .c1 {
        color: #9E9E9E;
        font-style: italic
    }

    body .cs {
        color: #9E9E9E;
        font-style: italic
    }

    body .kc {
        color: #2494BF;
        font-weight: bold
    }

    body .kd {
        color: #2494BF;
        font-weight: bold
    }

    body .kn {
        color: #2494BF;
        font-weight: bold
    }

    body .kp {
        color: #2494BF;
        font-weight: bold
    }

    body .kr {
        color: #2494BF;
        font-weight: bold
    }

    body .kt {
        color: #2494BF;
        font-weight: bold
    }

    body .s {
        color: #009688
    }

    body .nb {
        color: #3949AB
    }

    body .nc {
        color: #800080;
        font-weight: bold
    }

    body .nf {
        color: #800080
    }

    body .nv {
        color: #D81B60
    }

    body .ow {
        color: #00897B;
        font-weight: bold
    }

    body .sa {
        color: #009688
    }

    body .sb {
        color: #009688
    }

    body .sc {
        color: #009688
    }

    body .dl {
        color: #009688
    }

    body .sd {
        color: #9E9E9E;
        font-style: italic
    }

    body .s2 {
        color: #009688
    }

    body .se {
        color: #009688
    }

    body .sh {
        color: #009688
    }

    body .si {
        color: #009688
    }

    body .sx {
        color: #009688
    }

    body .sr {
        color: #009688
    }

    body .s1 {
        color: #009688
    }

    body .ss {
        color: #009688
    }

    body .bp {
        color: #3949AB
    }

    body .fm {
        color: #800080
    }

    body .vc {
        color: #D81B60
    }

    body .vg {
        color: #D81B60
    }

    body .vi {
        color: #D81B60
    }

    body .vm {
        color: #D81B60
    }</style>
    <style>/*! theme.css */
    .pdoc {
        --link: purple;
        --link-hover: #03A9F4;
        --active: #F3E5F5;
        --accent: #e0e0e0;
        --name: purple;
    }

    pre {
        line-height: 125%;
    }

    td.linenos .normal {
        color: #CFD8DC;
        background-color: transparent;
        padding-left: 5px;
        padding-right: 20px;
    }

    span.linenos {
        color: #CFD8DC;
        background-color: transparent;
        padding-left: 5px;
        padding-right: 20px;
    }

    td.linenos .special {
        color: #000000;
        background-color: #ffffc0;
        padding-left: 5px;
        padding-right: 5px;
    }

    span.linenos.special {
        color: #000000;
        background-color: #ffffc0;
        padding-left: 5px;
        padding-right: 5px;
    }</style>
    <style>/*! layout.css */
    html, body {
        width: 100%;
        height: 100%;
    }

    html, main {
        scroll-behavior: smooth;
    }

    body {
        background-color: var(--pdoc-background);
    }

    @media (max-width: 769px) {
        #navtoggle {
            cursor: pointer;
            position: absolute;
            width: 50px;
            height: 40px;
            top: 1rem;
            right: 1rem;
            border-color: var(--text);
            color: var(--text);
            display: flex;
            opacity: 0.8;
            z-index: 999;
        }

        #navtoggle:hover {
            opacity: 1;
        }

        #togglestate + div {
            display: none;
        }

        #togglestate:checked + div {
            display: inherit;
        }

        main, header {
            padding: 2rem 3vw;
        }

        header + main {
            margin-top: -3rem;
        }

        .git-button {
            display: none !important;
        }

        nav input[type="search"] {
            max-width: 77%;
        }

        nav input[type="search"]:first-child {
            margin-top: -6px;
        }

        nav input[type="search"]:valid ~ * {
            display: none !important;
        }
    }

    @media (min-width: 770px) {
        :root {
            --sidebar-width: clamp(12.5rem, 28vw, 22rem);
        }

        nav {
            position: fixed;
            overflow: auto;
            height: 100vh;
            width: var(--sidebar-width);
        }

        main, header {
            padding: 3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);
            width: calc(54rem + var(--sidebar-width));
            max-width: 100%;
        }

        header + main {
            margin-top: -4rem;
        }

        #navtoggle {
            display: none;
        }
    }

    #togglestate {
        position: absolute;
        height: 0;
        opacity: 0;
    }

    nav.pdoc {
        --pad: clamp(0.5rem, 2vw, 1.75rem);
        --indent: 1.5rem;
        background-color: var(--accent);
        border-right: 1px solid var(--accent2);
        box-shadow: 0 0 20px rgba(50, 50, 50, .2) inset;
        padding: 0 0 0 var(--pad);
        overflow-wrap: anywhere;
        scrollbar-width: thin;
        scrollbar-color: var(--accent2) transparent;
        z-index: 1
    }

    nav.pdoc::-webkit-scrollbar {
        width: .4rem;
    }

    nav.pdoc::-webkit-scrollbar-thumb {
        background-color: var(--accent2);
    }

    nav.pdoc > div {
        padding: var(--pad) 0;
    }

    nav.pdoc .module-list-button {
        display: inline-flex;
        align-items: center;
        color: var(--text);
        border-color: var(--muted);
        margin-bottom: 1rem;
    }

    nav.pdoc .module-list-button:hover {
        border-color: var(--text);
    }

    nav.pdoc input[type=search] {
        display: block;
        outline-offset: 0;
        width: calc(100% - var(--pad));
    }

    nav.pdoc .logo {
        max-width: calc(100% - var(--pad));
        max-height: 35vh;
        display: block;
        margin: 0 auto 1rem;
        transform: translate(calc(-.5 * var(--pad)), 0);
    }

    nav.pdoc ul {
        list-style: none;
        padding-left: 0;
    }

    nav.pdoc > div > ul {
        margin-left: calc(0px - var(--pad));
    }

    nav.pdoc li a {
        padding: .2rem 0 .2rem calc(var(--pad) + var(--indent));
    }

    nav.pdoc > div > ul > li > a {
        padding-left: var(--pad);
    }

    nav.pdoc li {
        transition: all 100ms;
    }

    nav.pdoc li:hover {
        background-color: var(--nav-hover);
    }

    nav.pdoc a, nav.pdoc a:hover {
        color: var(--text);
    }

    nav.pdoc a {
        display: block;
    }

    nav.pdoc > h2:first-of-type {
        margin-top: 1.5rem;
    }

    nav.pdoc .class:before {
        content: "class ";
        color: var(--muted);
    }

    nav.pdoc .function:after {
        content: "()";
        color: var(--muted);
    }

    nav.pdoc footer:before {
        content: "";
        display: block;
        width: calc(100% - var(--pad));
        border-top: solid var(--accent2) 1px;
        margin-top: 1.5rem;
        padding-top: .5rem;
    }

    nav.pdoc footer {
        font-size: small;
    }</style>
    <style>/*! content.css */
    .pdoc {
        color: var(--text);
        box-sizing: border-box;
        line-height: 1.5;
        background: none;
    }

    .pdoc .pdoc-button {
        cursor: pointer;
        display: inline-block;
        border: solid black 1px;
        border-radius: 2px;
        font-size: .75rem;
        padding: calc(0.5em - 1px) 1em;
        transition: 100ms all;
    }

    .pdoc .pdoc-alert {
        padding: 1rem 1rem 1rem calc(1.5rem + 24px);
        border: 1px solid transparent;
        border-radius: .25rem;
        background-repeat: no-repeat;
        background-position: 1rem center;
        margin-bottom: 1rem;
    }

    .pdoc .pdoc-alert > *:last-child {
        margin-bottom: 0;
    }

    .pdoc .pdoc-alert-note {
        color: #084298;
        background-color: #cfe2ff;
        border-color: #b6d4fe;
        background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");
    }

    .pdoc .pdoc-alert-warning {
        color: #664d03;
        background-color: #fff3cd;
        border-color: #ffecb5;
        background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");
    }

    .pdoc .pdoc-alert-danger {
        color: #842029;
        background-color: #f8d7da;
        border-color: #f5c2c7;
        background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");
    }

    .pdoc .visually-hidden {
        position: absolute !important;
        width: 1px !important;
        height: 1px !important;
        padding: 0 !important;
        margin: -1px !important;
        overflow: hidden !important;
        clip: rect(0, 0, 0, 0) !important;
        white-space: nowrap !important;
        border: 0 !important;
    }

    .pdoc h1, .pdoc h2, .pdoc h3 {
        font-weight: 300;
        margin: .3em 0;
        padding: .2em 0;
    }

    .pdoc > section:not(.module-info) h1 {
        font-size: 1.5rem;
        font-weight: 500;
    }

    .pdoc > section:not(.module-info) h2 {
        font-size: 1.4rem;
        font-weight: 500;
    }

    .pdoc > section:not(.module-info) h3 {
        font-size: 1.3rem;
        font-weight: 500;
    }

    .pdoc > section:not(.module-info) h4 {
        font-size: 1.2rem;
    }

    .pdoc > section:not(.module-info) h5 {
        font-size: 1.1rem;
    }

    .pdoc a {
        text-decoration: none;
        color: var(--link);
    }

    .pdoc a:hover {
        color: var(--link-hover);
    }

    .pdoc blockquote {
        margin-left: 2rem;
    }

    .pdoc pre {
        border-top: 1px solid var(--accent2);
        border-bottom: 1px solid var(--accent2);
        margin-top: 0;
        margin-bottom: 1em;
        padding: .5rem 0 .5rem .5rem;
        overflow-x: auto;
        background-color: var(--code);
    }

    .pdoc code {
        color: var(--text);
        padding: .2em .4em;
        margin: 0;
        font-size: 85%;
        background-color: var(--accent);
        border-radius: 6px;
    }

    .pdoc a > code {
        color: inherit;
    }

    .pdoc pre > code {
        display: inline-block;
        font-size: inherit;
        background: none;
        border: none;
        padding: 0;
    }

    .pdoc > section:not(.module-info) {
        margin-bottom: 1.5rem;
    }

    .pdoc .modulename {
        margin-top: 0;
        font-weight: bold;
    }

    .pdoc .modulename a {
        color: var(--link);
        transition: 100ms all;
    }

    .pdoc .git-button {
        float: right;
        border: solid var(--link) 1px;
    }

    .pdoc .git-button:hover {
        background-color: var(--link);
        color: var(--pdoc-background);
    }

    .view-source-toggle-state, .view-source-toggle-state ~ .pdoc-code {
        display: none;
    }

    .view-source-toggle-state:checked ~ .pdoc-code {
        display: block;
    }

    .view-source-button {
        display: inline-block;
        float: right;
        font-size: .75rem;
        line-height: 1.5rem;
        color: var(--muted);
        padding: 0 .4rem 0 1.3rem;
        cursor: pointer;
        text-indent: -2px;
    }

    .view-source-button > span {
        visibility: hidden;
    }

    .module-info .view-source-button {
        float: none;
        display: flex;
        justify-content: flex-end;
        margin: -1.2rem .4rem -.2rem 0;
    }

    .view-source-button::before {
        position: absolute;
        content: "View Source";
        display: list-item;
        list-style-type: disclosure-closed;
    }

    .view-source-toggle-state:checked ~ .attr .view-source-button::before, .view-source-toggle-state:checked ~ .view-source-button::before {
        list-style-type: disclosure-open;
    }

    .pdoc .docstring {
        margin-bottom: 1.5rem;
    }

    .pdoc section:not(.module-info) .docstring {
        margin-left: clamp(0rem, 5vw - 2rem, 1rem);
    }

    .pdoc .docstring .pdoc-code {
        margin-left: 1em;
        margin-right: 1em;
    }

    .pdoc h1:target, .pdoc h2:target, .pdoc h3:target, .pdoc h4:target, .pdoc h5:target, .pdoc h6:target, .pdoc .pdoc-code > pre > span:target {
        background-color: var(--active);
        box-shadow: -1rem 0 0 0 var(--active);
    }

    .pdoc .pdoc-code > pre > span:target {
        display: block;
    }

    .pdoc div:target > .attr, .pdoc section:target > .attr, .pdoc dd:target > a {
        background-color: var(--active);
    }

    .pdoc * {
        scroll-margin: 2rem;
    }

    .pdoc .pdoc-code .linenos {
        user-select: none;
    }

    .pdoc .attr:hover {
        filter: contrast(0.95);
    }

    .pdoc section, .pdoc .classattr {
        position: relative;
    }

    .pdoc .headerlink {
        --width: clamp(1rem, 3vw, 2rem);
        position: absolute;
        top: 0;
        left: calc(0rem - var(--width));
        transition: all 100ms ease-in-out;
        opacity: 0;
    }

    .pdoc .headerlink::before {
        content: "#";
        display: block;
        text-align: center;
        width: var(--width);
        height: 2.3rem;
        line-height: 2.3rem;
        font-size: 1.5rem;
    }

    .pdoc .attr:hover ~ .headerlink, .pdoc *:target > .headerlink, .pdoc .headerlink:hover {
        opacity: 1;
    }

    .pdoc .attr {
        display: block;
        margin: .5rem 0 .5rem;
        padding: .4rem .4rem .4rem 1rem;
        background-color: var(--accent);
        overflow-x: auto;
    }

    .pdoc .classattr {
        margin-left: 2rem;
    }

    .pdoc .name {
        color: var(--name);
        font-weight: bold;
    }

    .pdoc .def {
        color: var(--def);
        font-weight: bold;
    }

    .pdoc .signature {
        background-color: transparent;
    }

    .pdoc .param, .pdoc .return-annotation {
        white-space: pre;
    }

    .pdoc .signature.multiline .param {
        display: block;
    }

    .pdoc .signature.condensed .param {
        display: inline-block;
    }

    .pdoc .annotation {
        color: var(--annotation);
    }

    .pdoc .view-value-toggle-state, .pdoc .view-value-toggle-state ~ .default_value {
        display: none;
    }

    .pdoc .view-value-toggle-state:checked ~ .default_value {
        display: inherit;
    }

    .pdoc .view-value-button {
        font-size: .5rem;
        vertical-align: middle;
        border-style: dashed;
        margin-top: -0.1rem;
    }

    .pdoc .view-value-button:hover {
        background: white;
    }

    .pdoc .view-value-button::before {
        content: "show";
        text-align: center;
        width: 2.2em;
        display: inline-block;
    }

    .pdoc .view-value-toggle-state:checked ~ .view-value-button::before {
        content: "hide";
    }

    .pdoc .inherited {
        margin-left: 2rem;
    }

    .pdoc .inherited dt {
        font-weight: 700;
    }

    .pdoc .inherited dt, .pdoc .inherited dd {
        display: inline;
        margin-left: 0;
        margin-bottom: .5rem;
    }

    .pdoc .inherited dd:not(:last-child):after {
        content: ", ";
    }

    .pdoc .inherited .class:before {
        content: "class ";
    }

    .pdoc .inherited .function a:after {
        content: "()";
    }

    .pdoc .search-result .docstring {
        overflow: auto;
        max-height: 25vh;
    }

    .pdoc .search-result.focused > .attr {
        background-color: var(--active);
    }

    .pdoc .attribution {
        margin-top: 2rem;
        display: block;
        opacity: 0.5;
        transition: all 200ms;
        filter: grayscale(100%);
    }

    .pdoc .attribution:hover {
        opacity: 1;
        filter: grayscale(0%);
    }

    .pdoc .attribution img {
        margin-left: 5px;
        height: 35px;
        vertical-align: middle;
        width: 70px;
        transition: all 200ms;
    }

    .pdoc table {
        display: block;
        width: max-content;
        max-width: 100%;
        overflow: auto;
        margin-bottom: 1rem;
    }

    .pdoc table th {
        font-weight: 600;
    }

    .pdoc table th, .pdoc table td {
        padding: 6px 13px;
        border: 1px solid var(--accent2);
    }</style>
    <style>/*! custom.css */
    @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;500;600;700;800&display=swap');

    .modulename {
        color: #4A148C;
    }

    .pdoc img {
        max-width: 500px;
        max-height: 800px;
        width: 100%;
        object-fit: 100%;
    }

    .pdoc img[alt=nimage] {
        width: 350px;
    }

    .pdoc img[alt=wimage] {
        max-width: 800px;
    }

    .pdoc code {
        font-family: 'Source Code Pro', monospace !important;
        font-weight: 400;
        color: var(--text);
        padding: .2em .4em;
        margin: 0;
        font-size: 85%;
        background-color: var(--accent);
        border-radius: 6px;
    }

    .pdoc .view-source-button {
        font-family: sans-serif;
    }

    .pdoc .docstring .pdoc-code {
        font-family: 'Source Code Pro', monospace !important;
        margin-left: 1em;
        margin-right: 1em;
    }

    .pdoc .pdoc-code pre {
        font-family: 'Source Code Pro', monospace !important;
        font-size: 80%;
        margin-left: 1em;
        margin-right: 1em;
    }

    .pdoc .name {
        font-weight: 800;
    }

    .pdoc .attr.function {
        font-family: 'Source Code Pro', monospace;
        font-weight: 400;
        font-size: 90%;
        display: block;
        margin: .5rem 0 .5rem;
        padding: .4rem .4rem .4rem 1rem;
        background-color: #F5F5F5;
        overflow-x: auto;
    }

    .pdoc .attr:hover {
        background-color: #E1BEE7;
    }

    .pdoc .def {
        font-weight: 600;
    }

    .pdoc a.function {
        font-family: 'Source Code Pro', monospace !important;
        font-size: 90%;
        font-weight: 500;
    }

    .pdoc a.class {
        font-family: 'Source Code Pro', monospace !important;
        font-size: 90%;
        font-weight: 500;
    }

    .pdoc a.variable {
        font-family: 'Source Code Pro', monospace !important;
        font-size: 90%;
        font-weight: 500;
    }

    nav.pdoc {
        --pad: clamp(0.5rem, 2vw, 1.75rem);
        --indent: 1.5rem;
        background-color: #FFFFFF;
        border-right: 1px solid var(--accent2);
        box-shadow: 0 0 0px rgba(50, 50, 50, .2) inset;
        padding: 0 0 0 var(--pad);
        overflow-wrap: anywhere;
    }

    nav.pdoc input[type=search] {
        display: block;
        outline-offset: 0;
        width: calc(100% - var(--pad));
        border: none;
    }

    .pdoc .pdoc-button {
        border: none;
    }

    .pdoc .attribution {
        font-size: 80%;
    }</style>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        /* Re-invoke MathJax when DOM content changes, for example during search. */
        document.addEventListener("DOMContentLoaded", () => {
            new MutationObserver(() => MathJax.typeset()).observe(
                document.querySelector("main.pdoc").parentNode,
                {childList: true}
            );
        })
    </script>
    <style>
        mjx-container {
            overflow-x: auto;
        }
    </style>
    <style>
        .pdoc .mermaid-pre {
            border: none;
            background: none;
        }
    </style>
    <script defer type="module">
        import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";

        /* Re-invoke Mermaid when DOM content changes, for example during search. */
        document.addEventListener("DOMContentLoaded", () => {
            new MutationObserver(() => mermaid.run()).observe(
                document.querySelector("main.pdoc").parentNode,
                {childList: true}
            );
        })
    </script>
</head>
<body>
<nav class="pdoc">
    <label class="pdoc-button" for="togglestate" id="navtoggle">
        <svg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'>
            <path d='M4 7h22M4 15h22M4 23h22' stroke="currentColor" stroke-linecap='round' stroke-miterlimit='10'
                  stroke-width='2'/>
        </svg>
    </label>
    <input aria-hidden="true" id="togglestate" tabindex="-1" type="checkbox">
    <div><a class="pdoc-button module-list-button" href="../external.html">
        <svg class="bi bi-box-arrow-in-left" fill="currentColor" height="16" viewBox="0 0 16 16"
             width="16" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"
                  fill-rule="evenodd"/>
            <path d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"
                  fill-rule="evenodd"/>
        </svg> &nbsp;open_precision.external</a>


        <input aria-label="search" pattern=".+" placeholder="Search..." required
               role="searchbox" type="search">


        <h2>API Documentation</h2>
        <ul class="memberlist">
            <li>
                <a class="variable" href="#BNO055_ADDRESS_A">BNO055_ADDRESS_A</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ADDRESS_B">BNO055_ADDRESS_B</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ID">BNO055_ID</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_PAGE_ID_ADDR">BNO055_PAGE_ID_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_CHIP_ID_ADDR">BNO055_CHIP_ID_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ACCEL_REV_ID_ADDR">BNO055_ACCEL_REV_ID_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_MAG_REV_ID_ADDR">BNO055_MAG_REV_ID_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GYRO_REV_ID_ADDR">BNO055_GYRO_REV_ID_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SW_REV_ID_LSB_ADDR">BNO055_SW_REV_ID_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SW_REV_ID_MSB_ADDR">BNO055_SW_REV_ID_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_BL_REV_ID_ADDR">BNO055_BL_REV_ID_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ACCEL_DATA_X_LSB_ADDR">BNO055_ACCEL_DATA_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ACCEL_DATA_X_MSB_ADDR">BNO055_ACCEL_DATA_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ACCEL_DATA_Y_LSB_ADDR">BNO055_ACCEL_DATA_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ACCEL_DATA_Y_MSB_ADDR">BNO055_ACCEL_DATA_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ACCEL_DATA_Z_LSB_ADDR">BNO055_ACCEL_DATA_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_ACCEL_DATA_Z_MSB_ADDR">BNO055_ACCEL_DATA_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_MAG_DATA_X_LSB_ADDR">BNO055_MAG_DATA_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_MAG_DATA_X_MSB_ADDR">BNO055_MAG_DATA_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_MAG_DATA_Y_LSB_ADDR">BNO055_MAG_DATA_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_MAG_DATA_Y_MSB_ADDR">BNO055_MAG_DATA_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_MAG_DATA_Z_LSB_ADDR">BNO055_MAG_DATA_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_MAG_DATA_Z_MSB_ADDR">BNO055_MAG_DATA_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GYRO_DATA_X_LSB_ADDR">BNO055_GYRO_DATA_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GYRO_DATA_X_MSB_ADDR">BNO055_GYRO_DATA_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GYRO_DATA_Y_LSB_ADDR">BNO055_GYRO_DATA_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GYRO_DATA_Y_MSB_ADDR">BNO055_GYRO_DATA_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GYRO_DATA_Z_LSB_ADDR">BNO055_GYRO_DATA_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GYRO_DATA_Z_MSB_ADDR">BNO055_GYRO_DATA_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_EULER_H_LSB_ADDR">BNO055_EULER_H_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_EULER_H_MSB_ADDR">BNO055_EULER_H_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_EULER_R_LSB_ADDR">BNO055_EULER_R_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_EULER_R_MSB_ADDR">BNO055_EULER_R_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_EULER_P_LSB_ADDR">BNO055_EULER_P_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_EULER_P_MSB_ADDR">BNO055_EULER_P_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_QUATERNION_DATA_W_LSB_ADDR">BNO055_QUATERNION_DATA_W_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_QUATERNION_DATA_W_MSB_ADDR">BNO055_QUATERNION_DATA_W_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_QUATERNION_DATA_X_LSB_ADDR">BNO055_QUATERNION_DATA_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_QUATERNION_DATA_X_MSB_ADDR">BNO055_QUATERNION_DATA_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_QUATERNION_DATA_Y_LSB_ADDR">BNO055_QUATERNION_DATA_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_QUATERNION_DATA_Y_MSB_ADDR">BNO055_QUATERNION_DATA_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_QUATERNION_DATA_Z_LSB_ADDR">BNO055_QUATERNION_DATA_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_QUATERNION_DATA_Z_MSB_ADDR">BNO055_QUATERNION_DATA_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR">BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_LINEAR_ACCEL_DATA_X_MSB_ADDR">BNO055_LINEAR_ACCEL_DATA_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_LINEAR_ACCEL_DATA_Y_LSB_ADDR">BNO055_LINEAR_ACCEL_DATA_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_LINEAR_ACCEL_DATA_Y_MSB_ADDR">BNO055_LINEAR_ACCEL_DATA_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_LINEAR_ACCEL_DATA_Z_LSB_ADDR">BNO055_LINEAR_ACCEL_DATA_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_LINEAR_ACCEL_DATA_Z_MSB_ADDR">BNO055_LINEAR_ACCEL_DATA_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GRAVITY_DATA_X_LSB_ADDR">BNO055_GRAVITY_DATA_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GRAVITY_DATA_X_MSB_ADDR">BNO055_GRAVITY_DATA_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GRAVITY_DATA_Y_LSB_ADDR">BNO055_GRAVITY_DATA_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GRAVITY_DATA_Y_MSB_ADDR">BNO055_GRAVITY_DATA_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GRAVITY_DATA_Z_LSB_ADDR">BNO055_GRAVITY_DATA_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_GRAVITY_DATA_Z_MSB_ADDR">BNO055_GRAVITY_DATA_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_TEMP_ADDR">BNO055_TEMP_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_CALIB_STAT_ADDR">BNO055_CALIB_STAT_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SELFTEST_RESULT_ADDR">BNO055_SELFTEST_RESULT_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_INTR_STAT_ADDR">BNO055_INTR_STAT_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SYS_CLK_STAT_ADDR">BNO055_SYS_CLK_STAT_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SYS_STAT_ADDR">BNO055_SYS_STAT_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SYS_ERR_ADDR">BNO055_SYS_ERR_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_UNIT_SEL_ADDR">BNO055_UNIT_SEL_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_DATA_SELECT_ADDR">BNO055_DATA_SELECT_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_OPR_MODE_ADDR">BNO055_OPR_MODE_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_PWR_MODE_ADDR">BNO055_PWR_MODE_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SYS_TRIGGER_ADDR">BNO055_SYS_TRIGGER_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_TEMP_SOURCE_ADDR">BNO055_TEMP_SOURCE_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_AXIS_MAP_CONFIG_ADDR">BNO055_AXIS_MAP_CONFIG_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_AXIS_MAP_SIGN_ADDR">BNO055_AXIS_MAP_SIGN_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#AXIS_REMAP_X">AXIS_REMAP_X</a>
            </li>
            <li>
                <a class="variable" href="#AXIS_REMAP_Y">AXIS_REMAP_Y</a>
            </li>
            <li>
                <a class="variable" href="#AXIS_REMAP_Z">AXIS_REMAP_Z</a>
            </li>
            <li>
                <a class="variable" href="#AXIS_REMAP_POSITIVE">AXIS_REMAP_POSITIVE</a>
            </li>
            <li>
                <a class="variable" href="#AXIS_REMAP_NEGATIVE">AXIS_REMAP_NEGATIVE</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_0_LSB_ADDR">BNO055_SIC_MATRIX_0_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_0_MSB_ADDR">BNO055_SIC_MATRIX_0_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_1_LSB_ADDR">BNO055_SIC_MATRIX_1_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_1_MSB_ADDR">BNO055_SIC_MATRIX_1_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_2_LSB_ADDR">BNO055_SIC_MATRIX_2_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_2_MSB_ADDR">BNO055_SIC_MATRIX_2_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_3_LSB_ADDR">BNO055_SIC_MATRIX_3_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_3_MSB_ADDR">BNO055_SIC_MATRIX_3_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_4_LSB_ADDR">BNO055_SIC_MATRIX_4_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_4_MSB_ADDR">BNO055_SIC_MATRIX_4_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_5_LSB_ADDR">BNO055_SIC_MATRIX_5_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_5_MSB_ADDR">BNO055_SIC_MATRIX_5_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_6_LSB_ADDR">BNO055_SIC_MATRIX_6_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_6_MSB_ADDR">BNO055_SIC_MATRIX_6_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_7_LSB_ADDR">BNO055_SIC_MATRIX_7_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_7_MSB_ADDR">BNO055_SIC_MATRIX_7_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_8_LSB_ADDR">BNO055_SIC_MATRIX_8_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#BNO055_SIC_MATRIX_8_MSB_ADDR">BNO055_SIC_MATRIX_8_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#ACCEL_OFFSET_X_LSB_ADDR">ACCEL_OFFSET_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#ACCEL_OFFSET_X_MSB_ADDR">ACCEL_OFFSET_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#ACCEL_OFFSET_Y_LSB_ADDR">ACCEL_OFFSET_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#ACCEL_OFFSET_Y_MSB_ADDR">ACCEL_OFFSET_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#ACCEL_OFFSET_Z_LSB_ADDR">ACCEL_OFFSET_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#ACCEL_OFFSET_Z_MSB_ADDR">ACCEL_OFFSET_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#MAG_OFFSET_X_LSB_ADDR">MAG_OFFSET_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#MAG_OFFSET_X_MSB_ADDR">MAG_OFFSET_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#MAG_OFFSET_Y_LSB_ADDR">MAG_OFFSET_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#MAG_OFFSET_Y_MSB_ADDR">MAG_OFFSET_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#MAG_OFFSET_Z_LSB_ADDR">MAG_OFFSET_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#MAG_OFFSET_Z_MSB_ADDR">MAG_OFFSET_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#GYRO_OFFSET_X_LSB_ADDR">GYRO_OFFSET_X_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#GYRO_OFFSET_X_MSB_ADDR">GYRO_OFFSET_X_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#GYRO_OFFSET_Y_LSB_ADDR">GYRO_OFFSET_Y_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#GYRO_OFFSET_Y_MSB_ADDR">GYRO_OFFSET_Y_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#GYRO_OFFSET_Z_LSB_ADDR">GYRO_OFFSET_Z_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#GYRO_OFFSET_Z_MSB_ADDR">GYRO_OFFSET_Z_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#ACCEL_RADIUS_LSB_ADDR">ACCEL_RADIUS_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#ACCEL_RADIUS_MSB_ADDR">ACCEL_RADIUS_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#MAG_RADIUS_LSB_ADDR">MAG_RADIUS_LSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#MAG_RADIUS_MSB_ADDR">MAG_RADIUS_MSB_ADDR</a>
            </li>
            <li>
                <a class="variable" href="#POWER_MODE_NORMAL">POWER_MODE_NORMAL</a>
            </li>
            <li>
                <a class="variable" href="#POWER_MODE_LOWPOWER">POWER_MODE_LOWPOWER</a>
            </li>
            <li>
                <a class="variable" href="#POWER_MODE_SUSPEND">POWER_MODE_SUSPEND</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_CONFIG">OPERATION_MODE_CONFIG</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_ACCONLY">OPERATION_MODE_ACCONLY</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_MAGONLY">OPERATION_MODE_MAGONLY</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_GYRONLY">OPERATION_MODE_GYRONLY</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_ACCMAG">OPERATION_MODE_ACCMAG</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_ACCGYRO">OPERATION_MODE_ACCGYRO</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_MAGGYRO">OPERATION_MODE_MAGGYRO</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_AMG">OPERATION_MODE_AMG</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_IMUPLUS">OPERATION_MODE_IMUPLUS</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_COMPASS">OPERATION_MODE_COMPASS</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_M4G">OPERATION_MODE_M4G</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_NDOF_FMC_OFF">OPERATION_MODE_NDOF_FMC_OFF</a>
            </li>
            <li>
                <a class="variable" href="#OPERATION_MODE_NDOF">OPERATION_MODE_NDOF</a>
            </li>
            <li>
                <a class="variable" href="#logger">logger</a>
            </li>
            <li>
                <a class="class" href="#BNO055">BNO055</a>
                <ul class="memberlist">
                    <li>
                        <a class="function" href="#BNO055.__init__">BNO055</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.begin">begin</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.set_mode">set_mode</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.get_revision">get_revision</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.set_external_crystal">set_external_crystal</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.get_system_status">get_system_status</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.get_calibration_status">get_calibration_status</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.get_calibration">get_calibration</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.set_calibration">set_calibration</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.get_axis_remap">get_axis_remap</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.set_axis_remap">set_axis_remap</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.read_euler">read_euler</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.read_magnetometer">read_magnetometer</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.read_gyroscope">read_gyroscope</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.read_accelerometer">read_accelerometer</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.read_linear_acceleration">read_linear_acceleration</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.read_gravity">read_gravity</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.read_quaternion">read_quaternion</a>
                    </li>
                    <li>
                        <a class="function" href="#BNO055.read_temp">read_temp</a>
                    </li>
                </ul>

            </li>
        </ul>


        <a class="attribution" href="https://pdoc.dev" target="_blank" title="pdoc: Python API documentation generator">built
            with pdoc
        </a>
    </div>
</nav>
<main class="pdoc">
    <section class="module-info">
        <h1 class="modulename">
            <a href="./../../open_precision.html">open_precision</a>
            <wbr>
            .<a href="./../external.html">external</a>
            <wbr>
            .bno055_serial_driver
        </h1>


        <input aria-hidden="true" class="view-source-toggle-state" id="mod-bno055_serial_driver-view-source"
               tabindex="-1" type="checkbox">

        <label class="view-source-button" for="mod-bno055_serial_driver-view-source"><span>View Source</span></label>

        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span
                class="linenos">  1</span></a><span class="c1"># Bosh BNO055 Absolute Orientation Sensor Library</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="c1"># Copyright (c) 2019 Elements Works</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="c1"># Author: Michele Grassi, simplifying code by Tony DiCola</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="c1">#</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="c1"># Permission is hereby granted, free of charge, to any person obtaining a copy</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="c1"># of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="c1"># in the Software without restriction, including without limitation the rights</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="c1"># to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="c1"># copies of the Software, and to permit persons to whom the Software is</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="c1"># furnished to do so, subject to the following conditions:</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="c1">#</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="c1"># The above copyright notice and this permission notice shall be included in</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="c1"># all copies or substantial portions of the Software.</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="c1">#</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="c1"># THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="c1"># IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="c1"># FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="c1"># AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="c1"># LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="c1"># OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="c1"># THE SOFTWARE.</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="kn">import</span> <span
                class="nn">binascii</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">import</span> <span
                class="nn">logging</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="kn">import</span> <span
                class="nn">time</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="kn">import</span> <span
                class="nn">serial</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="c1"># I2C addresses</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="n">BNO055_ADDRESS_A</span> <span
                class="o">=</span> <span class="mh">0x28</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="n">BNO055_ADDRESS_B</span> <span
                class="o">=</span> <span class="mh">0x29</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="n">BNO055_ID</span> <span
                class="o">=</span> <span class="mh">0xA0</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="c1"># Page id register definition</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span
                class="n">BNO055_PAGE_ID_ADDR</span> <span class="o">=</span> <span class="mh">0x07</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="c1"># PAGE0 REGISTER DEFINITION START</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span
                class="n">BNO055_CHIP_ID_ADDR</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span
                class="n">BNO055_ACCEL_REV_ID_ADDR</span> <span class="o">=</span> <span class="mh">0x01</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="n">BNO055_MAG_REV_ID_ADDR</span> <span
                class="o">=</span> <span class="mh">0x02</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span
                class="n">BNO055_GYRO_REV_ID_ADDR</span> <span class="o">=</span> <span class="mh">0x03</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span
                class="n">BNO055_SW_REV_ID_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x04</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span
                class="n">BNO055_SW_REV_ID_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x05</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a><span class="n">BNO055_BL_REV_ID_ADDR</span> <span
                class="o">=</span> <span class="mh">0x06</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="c1"># Accel data register</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span
                class="n">BNO055_ACCEL_DATA_X_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x08</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span
                class="n">BNO055_ACCEL_DATA_X_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x09</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span
                class="n">BNO055_ACCEL_DATA_Y_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x0A</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span
                class="n">BNO055_ACCEL_DATA_Y_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x0B</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span
                class="n">BNO055_ACCEL_DATA_Z_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x0C</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span
                class="n">BNO055_ACCEL_DATA_Z_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x0D</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="c1"># Mag data register</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span
                class="n">BNO055_MAG_DATA_X_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x0E</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span
                class="n">BNO055_MAG_DATA_X_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x0F</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span
                class="n">BNO055_MAG_DATA_Y_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x10</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span
                class="n">BNO055_MAG_DATA_Y_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x11</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span
                class="n">BNO055_MAG_DATA_Z_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x12</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span
                class="n">BNO055_MAG_DATA_Z_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x13</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="c1"># Gyro data registers</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span
                class="n">BNO055_GYRO_DATA_X_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x14</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span
                class="n">BNO055_GYRO_DATA_X_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x15</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span
                class="n">BNO055_GYRO_DATA_Y_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x16</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span
                class="n">BNO055_GYRO_DATA_Y_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x17</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span
                class="n">BNO055_GYRO_DATA_Z_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x18</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span
                class="n">BNO055_GYRO_DATA_Z_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x19</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span
                class="c1"># Euler data registers</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a><span
                class="n">BNO055_EULER_H_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x1A</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span
                class="n">BNO055_EULER_H_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x1B</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span
                class="n">BNO055_EULER_R_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x1C</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span
                class="n">BNO055_EULER_R_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x1D</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span
                class="n">BNO055_EULER_P_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x1E</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span
                class="n">BNO055_EULER_P_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x1F</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span
                class="c1"># Quaternion data registers</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="n">BNO055_QUATERNION_DATA_W_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x20</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="n">BNO055_QUATERNION_DATA_W_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x21</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="n">BNO055_QUATERNION_DATA_X_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x22</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="n">BNO055_QUATERNION_DATA_X_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x23</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="n">BNO055_QUATERNION_DATA_Y_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x24</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="n">BNO055_QUATERNION_DATA_Y_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x25</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="n">BNO055_QUATERNION_DATA_Z_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x26</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a><span class="n">BNO055_QUATERNION_DATA_Z_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x27</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a><span class="c1"># Linear acceleration data registers</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a><span class="n">BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x28</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a><span class="n">BNO055_LINEAR_ACCEL_DATA_X_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x29</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a><span class="n">BNO055_LINEAR_ACCEL_DATA_Y_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x2A</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="n">BNO055_LINEAR_ACCEL_DATA_Y_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x2B</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="n">BNO055_LINEAR_ACCEL_DATA_Z_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x2C</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="n">BNO055_LINEAR_ACCEL_DATA_Z_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x2D</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span
                class="c1"># Gravity data registers</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="n">BNO055_GRAVITY_DATA_X_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x2E</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="n">BNO055_GRAVITY_DATA_X_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x2F</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="n">BNO055_GRAVITY_DATA_Y_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x30</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="n">BNO055_GRAVITY_DATA_Y_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x31</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="n">BNO055_GRAVITY_DATA_Z_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x32</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a><span class="n">BNO055_GRAVITY_DATA_Z_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x33</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a><span class="c1"># Temperature data register</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a><span
                class="n">BNO055_TEMP_ADDR</span> <span class="o">=</span> <span class="mh">0x34</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a><span class="c1"># Status registers</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a><span
                class="n">BNO055_CALIB_STAT_ADDR</span> <span class="o">=</span> <span class="mh">0x35</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a><span
                class="n">BNO055_SELFTEST_RESULT_ADDR</span> <span class="o">=</span> <span class="mh">0x36</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a><span
                class="n">BNO055_INTR_STAT_ADDR</span> <span class="o">=</span> <span class="mh">0x37</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a><span
                class="n">BNO055_SYS_CLK_STAT_ADDR</span> <span class="o">=</span> <span class="mh">0x38</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a><span class="n">BNO055_SYS_STAT_ADDR</span> <span
                class="o">=</span> <span class="mh">0x39</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a><span class="n">BNO055_SYS_ERR_ADDR</span> <span
                class="o">=</span> <span class="mh">0x3A</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a><span
                class="c1"># Unit selection register</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="n">BNO055_UNIT_SEL_ADDR</span> <span
                class="o">=</span> <span class="mh">0x3B</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span
                class="n">BNO055_DATA_SELECT_ADDR</span> <span class="o">=</span> <span class="mh">0x3C</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="c1"># Mode registers</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="n">BNO055_OPR_MODE_ADDR</span> <span
                class="o">=</span> <span class="mh">0x3D</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="n">BNO055_PWR_MODE_ADDR</span> <span
                class="o">=</span> <span class="mh">0x3E</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span> <span class="o">=</span> <span class="mh">0x3F</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a><span
                class="n">BNO055_TEMP_SOURCE_ADDR</span> <span class="o">=</span> <span class="mh">0x40</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span
                class="c1"># Axis remap registers</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span
                class="n">BNO055_AXIS_MAP_CONFIG_ADDR</span> <span class="o">=</span> <span class="mh">0x41</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a><span
                class="n">BNO055_AXIS_MAP_SIGN_ADDR</span> <span class="o">=</span> <span class="mh">0x42</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a><span class="c1"># Axis remap values</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a><span class="n">AXIS_REMAP_X</span> <span
                class="o">=</span> <span class="mh">0x00</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a><span class="n">AXIS_REMAP_Y</span> <span
                class="o">=</span> <span class="mh">0x01</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a><span class="n">AXIS_REMAP_Z</span> <span
                class="o">=</span> <span class="mh">0x02</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a><span class="n">AXIS_REMAP_POSITIVE</span> <span
                class="o">=</span> <span class="mh">0x00</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a><span class="n">AXIS_REMAP_NEGATIVE</span> <span
                class="o">=</span> <span class="mh">0x01</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a><span class="c1"># SIC registers</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a><span class="n">BNO055_SIC_MATRIX_0_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x43</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a><span class="n">BNO055_SIC_MATRIX_0_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x44</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a><span class="n">BNO055_SIC_MATRIX_1_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x45</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a><span class="n">BNO055_SIC_MATRIX_1_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x46</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a><span class="n">BNO055_SIC_MATRIX_2_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x47</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a><span class="n">BNO055_SIC_MATRIX_2_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x48</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="n">BNO055_SIC_MATRIX_3_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x49</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="n">BNO055_SIC_MATRIX_3_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x4A</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a><span class="n">BNO055_SIC_MATRIX_4_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x4B</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="n">BNO055_SIC_MATRIX_4_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x4C</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a><span class="n">BNO055_SIC_MATRIX_5_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x4D</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a><span class="n">BNO055_SIC_MATRIX_5_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x4E</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a><span class="n">BNO055_SIC_MATRIX_6_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x4F</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="n">BNO055_SIC_MATRIX_6_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x50</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="n">BNO055_SIC_MATRIX_7_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x51</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a><span class="n">BNO055_SIC_MATRIX_7_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x52</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a><span class="n">BNO055_SIC_MATRIX_8_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x53</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a><span class="n">BNO055_SIC_MATRIX_8_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x54</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="c1"># Accelerometer Offset registers</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a><span
                class="n">ACCEL_OFFSET_X_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x55</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a><span
                class="n">ACCEL_OFFSET_X_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x56</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span
                class="n">ACCEL_OFFSET_Y_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x57</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a><span
                class="n">ACCEL_OFFSET_Y_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x58</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a><span
                class="n">ACCEL_OFFSET_Z_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x59</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a><span
                class="n">ACCEL_OFFSET_Z_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x5A</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a><span class="c1"># Magnetometer Offset registers</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span
                class="n">MAG_OFFSET_X_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x5B</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span
                class="n">MAG_OFFSET_X_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x5C</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a><span
                class="n">MAG_OFFSET_Y_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x5D</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a><span
                class="n">MAG_OFFSET_Y_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x5E</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a><span
                class="n">MAG_OFFSET_Z_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x5F</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a><span
                class="n">MAG_OFFSET_Z_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x60</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="c1"># Gyroscope Offset register s</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span
                class="n">GYRO_OFFSET_X_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x61</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a><span
                class="n">GYRO_OFFSET_X_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x62</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a><span
                class="n">GYRO_OFFSET_Y_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x63</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a><span
                class="n">GYRO_OFFSET_Y_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x64</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a><span
                class="n">GYRO_OFFSET_Z_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x65</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a><span
                class="n">GYRO_OFFSET_Z_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x66</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a><span class="c1"># Radius registers</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a><span
                class="n">ACCEL_RADIUS_LSB_ADDR</span> <span class="o">=</span> <span class="mh">0x67</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a><span
                class="n">ACCEL_RADIUS_MSB_ADDR</span> <span class="o">=</span> <span class="mh">0x68</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a><span class="n">MAG_RADIUS_LSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x69</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a><span class="n">MAG_RADIUS_MSB_ADDR</span> <span
                class="o">=</span> <span class="mh">0x6A</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a><span class="c1"># Power modes</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span
                class="n">POWER_MODE_NORMAL</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="n">POWER_MODE_LOWPOWER</span> <span
                class="o">=</span> <span class="mh">0x01</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span
                class="n">POWER_MODE_SUSPEND</span> <span class="o">=</span> <span class="mh">0x02</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a><span
                class="c1"># Operation mode settings</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span
                class="n">OPERATION_MODE_CONFIG</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a><span
                class="n">OPERATION_MODE_ACCONLY</span> <span class="o">=</span> <span class="mh">0x01</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a><span
                class="n">OPERATION_MODE_MAGONLY</span> <span class="o">=</span> <span class="mh">0x02</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span
                class="n">OPERATION_MODE_GYRONLY</span> <span class="o">=</span> <span class="mh">0x03</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span
                class="n">OPERATION_MODE_ACCMAG</span> <span class="o">=</span> <span class="mh">0x04</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span
                class="n">OPERATION_MODE_ACCGYRO</span> <span class="o">=</span> <span class="mh">0x05</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a><span
                class="n">OPERATION_MODE_MAGGYRO</span> <span class="o">=</span> <span class="mh">0x06</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span
                class="n">OPERATION_MODE_AMG</span> <span class="o">=</span> <span class="mh">0x07</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a><span
                class="n">OPERATION_MODE_IMUPLUS</span> <span class="o">=</span> <span class="mh">0x08</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span
                class="n">OPERATION_MODE_COMPASS</span> <span class="o">=</span> <span class="mh">0x09</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a><span
                class="n">OPERATION_MODE_M4G</span> <span class="o">=</span> <span class="mh">0x0A</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a><span
                class="n">OPERATION_MODE_NDOF_FMC_OFF</span> <span class="o">=</span> <span class="mh">0x0B</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a><span class="n">OPERATION_MODE_NDOF</span> <span
                class="o">=</span> <span class="mh">0x0C</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a><span class="n">logger</span> <span
                class="o">=</span> <span class="n">logging</span><span class="o">.</span><span
                class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span
                class="p">)</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a><span class="k">class</span> <span
                class="nc">BNO055</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>	<span class="k">def</span> <span
                class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">serial_port</span><span class="o">=</span><span
                class="kc">None</span><span class="p">,</span> <span class="n">serial_timeout_sec</span><span class="o">=</span><span
                class="mi">5</span><span class="p">):</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>		<span class="c1"># Use serial communication if serial_port name is provided.</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>		<span class="c1"># Open the serial port at 115200 baud, 8N1.  Add a 5 second timeout</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>		<span class="c1"># to prevent hanging if device is disconnected.</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_serial</span> <span class="o">=</span> <span
                class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>			<span
                class="n">serial_port</span><span class="p">,</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>			<span
                class="mi">115200</span><span class="p">,</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>			<span
                class="n">timeout</span><span class="o">=</span><span class="n">serial_timeout_sec</span><span
                class="p">,</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>			<span
                class="n">writeTimeout</span><span class="o">=</span><span class="n">serial_timeout_sec</span><span
                class="p">,</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>		<span class="p">)</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>	<span class="k">def</span> <span
                class="nf">_serial_send</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">command</span><span class="p">,</span> <span
                class="n">ack</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span
                class="n">max_attempts</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>		<span class="c1"># Send a serial command and automatically handle if it needs to be resent</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>		<span class="c1"># because of a bus error.  If ack is True then an ackowledgement is</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>		<span class="c1"># expected and only up to the maximum specified attempts will be made</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>		<span class="c1"># to get a good acknowledgement (default is 5).  If ack is False then</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>		<span class="c1"># no acknowledgement is expected (like when resetting the device).</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>		<span
                class="n">attempts</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>		<span class="k">while</span> <span
                class="kc">True</span><span class="p">:</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>			<span class="c1"># Flush any pending received data to get into a clean state.</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_serial</span><span
                class="o">.</span><span class="n">flushInput</span><span class="p">()</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>			<span class="c1"># Send the data.</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_serial</span><span
                class="o">.</span><span class="n">write</span><span class="p">(</span><span
                class="n">command</span><span class="p">)</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>			<span
                class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span
                class="s2">&quot;Serial send: 0x</span><span class="si">{0}</span><span class="s2">&quot;</span><span
                class="o">.</span><span class="n">format</span><span class="p">(</span><span
                class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span
                class="p">(</span><span class="n">command</span><span class="p">)))</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>			<span class="c1"># Stop if no acknowledgment is expected.</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>			<span class="k">if</span> <span
                class="ow">not</span> <span class="n">ack</span><span class="p">:</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>				<span
                class="k">return</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>			<span class="c1"># Read acknowledgement response (2 bytes).</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>			<span
                class="n">resp</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span
                class="bp">self</span><span class="o">.</span><span class="n">_serial</span><span
                class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span
                class="p">))</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>			<span
                class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span
                class="s2">&quot;Serial receive: 0x</span><span class="si">{0}</span><span class="s2">&quot;</span><span
                class="o">.</span><span class="n">format</span><span class="p">(</span><span
                class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span
                class="p">(</span><span class="n">resp</span><span class="p">)))</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>			<span class="k">if</span> <span
                class="n">resp</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span
                class="nb">len</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span
                class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>				<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>					<span class="s2">&quot;Timeout waiting for serial acknowledge, is the BNO055 connected?&quot;</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>				<span class="p">)</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>			<span class="c1"># Stop if there&#39;s no bus error (0xEE07 response) and return response bytes.</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>			<span class="k">if</span> <span
                class="ow">not</span> <span class="p">(</span><span class="n">resp</span><span class="p">[</span><span
                class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mh">0xEE</span> <span
                class="ow">and</span> <span class="n">resp</span><span class="p">[</span><span class="mi">1</span><span
                class="p">]</span> <span class="o">==</span> <span class="mh">0x07</span><span class="p">):</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>				<span
                class="k">return</span> <span class="n">resp</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>			<span class="c1"># Else there was a bus error so resend, as recommended in UART app</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>			<span
                class="c1"># note at:</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>			<span class="c1">#   http://ae-bst.resource.bosch.com/media/products/dokumente/bno055/BST-BNO055-AN012-00.pdf</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>			<span class="n">attempts</span> <span
                class="o">+=</span> <span class="mi">1</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>			<span class="k">if</span> <span
                class="n">attempts</span> <span class="o">&gt;=</span> <span class="n">max_attempts</span><span
                class="p">:</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>				<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>					<span class="s2">&quot;Exceeded maximum attempts to acknowledge serial command without bus error!&quot;</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>				<span class="p">)</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>	<span class="k">def</span> <span
                class="nf">_write_bytes</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">address</span><span class="p">,</span> <span
                class="n">data</span><span class="p">,</span> <span class="n">ack</span><span class="o">=</span><span
                class="kc">True</span><span class="p">):</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>		<span class="c1"># Write a list of 8-bit values starting at the provided register address.</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>		<span class="c1"># Build and send serial register write command.</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>		<span
                class="n">command</span> <span class="o">=</span> <span class="nb">bytearray</span><span
                class="p">(</span><span class="mi">4</span> <span class="o">+</span> <span class="nb">len</span><span
                class="p">(</span><span class="n">data</span><span class="p">))</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span
                class="mh">0xAA</span>  <span class="c1"># Start byte</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span
                class="mh">0x00</span>  <span class="c1"># Write</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span
                class="n">address</span> <span class="o">&amp;</span> <span class="mh">0xFF</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span
                class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span
                class="o">&amp;</span> <span class="mh">0xFF</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">4</span><span class="p">:]</span> <span class="o">=</span> <span
                class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span
                class="p">:</span> <span class="n">x</span> <span class="o">&amp;</span> <span
                class="mh">0xFF</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>		<span class="n">resp</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_serial_send</span><span class="p">(</span><span class="n">command</span><span
                class="p">,</span> <span class="n">ack</span><span class="o">=</span><span class="n">ack</span><span
                class="p">)</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>		<span class="c1"># Verify register write succeeded if there was an acknowledgement.</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>		<span class="k">if</span> <span
                class="n">resp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                class="o">!=</span> <span class="mh">0xEE</span> <span class="ow">and</span> <span class="n">resp</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span
                class="mh">0x01</span><span class="p">:</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>			<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>				<span class="s2">&quot;Register write error: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">resp</span><span class="p">))</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>			<span class="p">)</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>	<span class="k">def</span> <span
                class="nf">_write_byte</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">address</span><span class="p">,</span> <span
                class="n">value</span><span class="p">,</span> <span class="n">ack</span><span class="o">=</span><span
                class="kc">True</span><span class="p">):</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>		<span class="c1"># Write an 8-bit value to the provided register address.  If ack is True</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>		<span class="c1"># then expect an acknowledgement in serial mode, otherwise ignore any</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>		<span class="c1"># acknowledgement (necessary when resetting the device).</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>		<span class="c1"># Build and send serial register write command.</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>		<span
                class="n">command</span> <span class="o">=</span> <span class="nb">bytearray</span><span
                class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span
                class="mh">0xAA</span>  <span class="c1"># Start byte</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span
                class="mh">0x00</span>  <span class="c1"># Write</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span
                class="n">address</span> <span class="o">&amp;</span> <span class="mh">0xFF</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span
                class="mi">1</span>  <span class="c1"># Length (1 byte)</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span
                class="n">value</span> <span class="o">&amp;</span> <span class="mh">0xFF</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>		<span class="n">resp</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_serial_send</span><span class="p">(</span><span class="n">command</span><span
                class="p">,</span> <span class="n">ack</span><span class="o">=</span><span class="n">ack</span><span
                class="p">)</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>		<span class="c1"># Verify register write succeeded if there was an acknowledgement.</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>		<span class="k">if</span> <span
                class="n">ack</span> <span class="ow">and</span> <span class="n">resp</span><span
                class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span
                class="mh">0xEE</span> <span class="ow">and</span> <span class="n">resp</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span
                class="mh">0x01</span><span class="p">:</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>			<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>				<span class="s2">&quot;Register write error: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">resp</span><span class="p">))</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>			<span class="p">)</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>	<span class="k">def</span> <span
                class="nf">_read_bytes</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">address</span><span class="p">,</span> <span
                class="n">length</span><span class="p">):</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>		<span class="c1"># Read a number of unsigned byte values starting from the provided address.</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>		<span class="c1"># Build and send serial register read command.</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>		<span
                class="n">command</span> <span class="o">=</span> <span class="nb">bytearray</span><span
                class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span
                class="mh">0xAA</span>  <span class="c1"># Start byte</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span
                class="mh">0x01</span>  <span class="c1"># Read</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span
                class="n">address</span> <span class="o">&amp;</span> <span class="mh">0xFF</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>		<span class="n">command</span><span
                class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span
                class="n">length</span> <span class="o">&amp;</span> <span class="mh">0xFF</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>		<span class="n">resp</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_serial_send</span><span class="p">(</span><span class="n">command</span><span
                class="p">)</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>		<span class="c1"># Verify register read succeeded.</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>		<span class="k">if</span> <span
                class="n">resp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                class="o">!=</span> <span class="mh">0xBB</span><span class="p">:</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>			<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>				<span class="s2">&quot;Register read error: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">resp</span><span class="p">))</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>			<span class="p">)</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>		<span class="c1"># Read the returned bytes.</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>		<span class="n">length</span> <span
                class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="mi">1</span><span
                class="p">]</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>		<span class="n">resp</span> <span
                class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="bp">self</span><span
                class="o">.</span><span class="n">_serial</span><span class="o">.</span><span class="n">read</span><span
                class="p">(</span><span class="n">length</span><span class="p">))</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>		<span class="n">logger</span><span
                class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Received: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">resp</span><span class="p">)))</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>		<span class="k">if</span> <span
                class="n">resp</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span
                class="nb">len</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span
                class="o">!=</span> <span class="n">length</span><span class="p">:</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>			<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Timeout waiting to read data, is the BNO055 connected?&quot;</span><span
                class="p">)</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>		<span class="k">return</span> <span
                class="n">resp</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>	<span class="k">def</span> <span
                class="nf">_read_byte</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span
                class="n">address</span><span class="p">):</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>		<span class="c1"># Read an 8-bit unsigned value from the provided register address.</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>		<span class="k">return</span> <span
                class="bp">self</span><span class="o">.</span><span class="n">_read_bytes</span><span class="p">(</span><span
                class="n">address</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span
                class="mi">0</span><span class="p">]</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>	<span class="k">def</span> <span
                class="nf">_read_signed_byte</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">address</span><span class="p">):</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>		<span class="c1"># Read an 8-bit signed value from the provided register address.</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>		<span class="n">data</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">address</span><span class="p">)</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>		<span class="k">if</span> <span
                class="n">data</span> <span class="o">&gt;</span> <span class="mi">127</span><span class="p">:</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>			<span
                class="k">return</span> <span class="n">data</span> <span class="o">-</span> <span class="mi">256</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>		<span class="k">else</span><span
                class="p">:</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>			<span
                class="k">return</span> <span class="n">data</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>	<span class="k">def</span> <span
                class="nf">_config_mode</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>		<span class="c1"># Enter configuration mode.</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">set_mode</span><span class="p">(</span><span class="n">OPERATION_MODE_CONFIG</span><span
                class="p">)</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>	<span class="k">def</span> <span
                class="nf">_operation_mode</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>		<span class="c1"># Enter operation mode to read sensor data.</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">set_mode</span><span class="p">(</span><span
                class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">)</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>	<span class="k">def</span> <span
                class="nf">begin</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">OPERATION_MODE_NDOF</span><span
                class="p">):</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Initialize the BNO055 sensor.  Must be called once before any other</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a><span class="sd">		BNO055 library functions.  Will return True if the BNO055 was</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a><span class="sd">		successfully initialized, and False otherwise.</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>		<span class="c1"># Save the desired normal operation mode.</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>		<span class="c1"># First send a thow-away command and ignore any response or I2C errors</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>		<span class="c1"># just to make sure the BNO is in a good state and ready to accept</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>		<span class="c1"># commands (this seems to be necessary after a hard power down).</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>		<span class="k">try</span><span
                class="p">:</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_PAGE_ID_ADDR</span><span class="p">,</span> <span class="mi">0</span><span
                class="p">,</span> <span class="n">ack</span><span class="o">=</span><span class="kc">False</span><span
                class="p">)</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>		<span class="k">except</span> <span
                class="ne">IOError</span><span class="p">:</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>			<span class="c1"># Swallow an IOError that might be raised by an I2C issue.  Only do</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>			<span class="c1"># this for this very first command to help get the BNO and board&#39;s</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>			<span class="c1"># I2C into a clear state ready to accept the next commands.</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>			<span class="k">pass</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>		<span class="c1"># Make sure we&#39;re in config mode and on page 0.</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_config_mode</span><span class="p">()</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span class="n">BNO055_PAGE_ID_ADDR</span><span
                class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>		<span class="c1"># Check the chip ID</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>		<span class="n">bno_id</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_CHIP_ID_ADDR</span><span class="p">)</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>		<span class="n">logger</span><span
                class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Read chip ID: 0x</span><span
                class="si">{0:02X}</span><span class="s2">&quot;</span><span class="o">.</span><span
                class="n">format</span><span class="p">(</span><span class="n">bno_id</span><span class="p">))</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>		<span class="k">if</span> <span
                class="n">bno_id</span> <span class="o">!=</span> <span class="n">BNO055_ID</span><span
                class="p">:</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>			<span
                class="k">return</span> <span class="kc">False</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>		<span class="c1"># Reset the device.</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>		<span class="c1"># Else use the reset command.  Note that ack=False is sent because</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>		<span class="c1"># the chip doesn&#39;t seem to ack a reset in serial mode (by design?).</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span class="n">BNO055_SYS_TRIGGER_ADDR</span><span
                class="p">,</span> <span class="mh">0x20</span><span class="p">,</span> <span class="n">ack</span><span
                class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>		<span class="c1"># Wait 650ms after reset for chip to be ready (as suggested</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>		<span
                class="c1"># in datasheet).</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>		<span class="n">time</span><span
                class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.65</span><span
                class="p">)</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>		<span class="c1"># Set to normal power mode.</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span class="n">BNO055_PWR_MODE_ADDR</span><span
                class="p">,</span> <span class="n">POWER_MODE_NORMAL</span><span class="p">)</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>		<span class="c1"># Default to internal oscillator.</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span class="n">BNO055_SYS_TRIGGER_ADDR</span><span
                class="p">,</span> <span class="mh">0x0</span><span class="p">)</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>		<span class="c1"># Enter normal operation mode.</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>		<span class="k">return</span> <span
                class="kc">True</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>	<span class="k">def</span> <span
                class="nf">set_mode</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">mode</span><span class="p">):</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Set operation mode for BNO055 sensor.&quot;&quot;&quot;</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span class="n">BNO055_OPR_MODE_ADDR</span><span
                class="p">,</span> <span class="n">mode</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span
                class="p">)</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>		<span class="c1"># Delay for 30 milliseconds (datsheet recommends 19ms, but a little more</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>		<span class="c1"># can&#39;t hurt and the kernel is going to spend some unknown amount of time</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>		<span class="c1"># too).</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>		<span class="n">time</span><span
                class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.03</span><span
                class="p">)</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>	<span class="k">def</span> <span
                class="nf">get_revision</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return a tuple with revision information about the BNO055 chip.  Will</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a><span
                class="sd">		return 5 values:</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a><span class="sd">		  - Software revision</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a><span class="sd">		  - Bootloader version</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a><span class="sd">		  - Accelerometer ID</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a><span class="sd">		  - Magnetometer ID</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a><span class="sd">		  - Gyro ID</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>		<span class="c1"># Read revision values.</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>		<span class="n">accel</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_ACCEL_REV_ID_ADDR</span><span class="p">)</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>		<span class="n">mag</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_MAG_REV_ID_ADDR</span><span class="p">)</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>		<span class="n">gyro</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_GYRO_REV_ID_ADDR</span><span class="p">)</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>		<span class="n">bl</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_BL_REV_ID_ADDR</span><span class="p">)</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>		<span class="n">sw_lsb</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_SW_REV_ID_LSB_ADDR</span><span class="p">)</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>		<span class="n">sw_msb</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_SW_REV_ID_MSB_ADDR</span><span class="p">)</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>		<span class="n">sw</span> <span
                class="o">=</span> <span class="p">((</span><span class="n">sw_msb</span> <span
                class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span
                class="o">|</span> <span class="n">sw_lsb</span><span class="p">)</span> <span
                class="o">&amp;</span> <span class="mh">0xFFFF</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>		<span class="c1"># Return the results as a tuple of all 5 values.</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>		<span class="k">return</span> <span
                class="p">(</span><span class="n">sw</span><span class="p">,</span> <span class="n">bl</span><span
                class="p">,</span> <span class="n">accel</span><span class="p">,</span> <span class="n">mag</span><span
                class="p">,</span> <span class="n">gyro</span><span class="p">)</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>	<span class="k">def</span> <span
                class="nf">set_external_crystal</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">external_crystal</span><span class="p">):</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Set if an external crystal is being used by passing True, otherwise</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a><span class="sd">		use the internal oscillator by passing False (the default behavior).</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>		<span class="c1"># Switch to configuration mode.</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_config_mode</span><span class="p">()</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>		<span class="c1"># Set the clock bit appropriately in the SYS_TRIGGER register.</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>		<span class="k">if</span> <span
                class="n">external_crystal</span><span class="p">:</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span class="mh">0x80</span><span
                class="p">)</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>		<span class="k">else</span><span
                class="p">:</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span class="mh">0x00</span><span
                class="p">)</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>	<span class="k">def</span> <span
                class="nf">get_system_status</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">run_self_test</span><span class="o">=</span><span
                class="kc">True</span><span class="p">):</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return a tuple with status information.  Three values will be returned:</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a><span class="sd">		  - System status register value with the following meaning:</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a><span
                class="sd">		      0 = Idle</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a><span class="sd">		      1 = System Error</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a><span class="sd">		      2 = Initializing Peripherals</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a><span class="sd">		      3 = System Initialization</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a><span class="sd">		      4 = Executing Self-Test</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a><span class="sd">		      5 = Sensor fusion algorithm running</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a><span class="sd">		      6 = System running without fusion algorithms</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a><span class="sd">		  - Self test result register value with the following meaning:</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a><span class="sd">		      Bit value: 1 = test passed, 0 = test failed</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a><span class="sd">		      Bit 0 = Accelerometer self test</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a><span class="sd">		      Bit 1 = Magnetometer self test</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a><span class="sd">		      Bit 2 = Gyroscope self test</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a><span class="sd">		      Bit 3 = MCU self test</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a><span class="sd">		      Value of 0x0F = all good!</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a><span class="sd">		  - System error register value with the following meaning:</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a><span
                class="sd">		      0 = No error</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a><span class="sd">		      1 = Peripheral initialization error</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a><span class="sd">		      2 = System initialization error</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a><span class="sd">		      3 = Self test result failed</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a><span class="sd">		      4 = Register map value out of range</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a><span class="sd">		      5 = Register map address out of range</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a><span class="sd">		      6 = Register map write error</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a><span class="sd">		      7 = BNO low power mode not available for selected operation mode</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a><span class="sd">		      8 = Accelerometer power mode not available</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a><span class="sd">		      9 = Fusion algorithm configuration error</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a><span class="sd">		     10 = Sensor configuration error</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a><span class="sd">		If run_self_test is passed in as False then no self test is performed and</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a><span class="sd">		None will be returned for the self test result.  Note that running a</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a><span class="sd">		self test requires going into config mode which will stop the fusion</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a><span class="sd">		engine from running.</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>		<span
                class="n">self_test</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>		<span class="k">if</span> <span
                class="n">run_self_test</span><span class="p">:</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>			<span class="c1"># Switch to configuration mode if running self test.</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                class="p">()</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>			<span class="c1"># Perform a self test.</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>			<span
                class="n">sys_trigger</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SYS_TRIGGER_ADDR</span><span
                class="p">)</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span
                class="n">sys_trigger</span> <span class="o">|</span> <span class="mh">0x1</span><span
                class="p">)</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>			<span class="c1"># Wait for self test to finish.</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>			<span
                class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span
                class="mf">1.0</span><span class="p">)</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>			<span class="c1"># Read test result.</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>			<span
                class="n">self_test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_byte</span><span class="p">(</span><span
                class="n">BNO055_SELFTEST_RESULT_ADDR</span><span class="p">)</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>			<span class="c1"># Go back to operation mode.</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span
                class="p">()</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>		<span class="c1"># Now read status and error registers.</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>		<span class="n">status</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_SYS_STAT_ADDR</span><span class="p">)</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>		<span class="n">error</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_SYS_ERR_ADDR</span><span class="p">)</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>		<span class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>		<span class="k">return</span> <span
                class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">self_test</span><span
                class="p">,</span> <span class="n">error</span><span class="p">)</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>	<span class="k">def</span> <span
                class="nf">get_calibration_status</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Read the calibration status of the sensors and return a 4 tuple with</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a><span class="sd">		calibration status as follows:</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a><span class="sd">		  - System, 3=fully calibrated, 0=not calibrated</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a><span class="sd">		  - Gyroscope, 3=fully calibrated, 0=not calibrated</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a><span class="sd">		  - Accelerometer, 3=fully calibrated, 0=not calibrated</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a><span class="sd">		  - Magnetometer, 3=fully calibrated, 0=not calibrated</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>		<span class="c1"># Return the calibration status register value.</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>		<span
                class="n">cal_status</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_CALIB_STAT_ADDR</span><span
                class="p">)</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>		<span class="n">sys</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">cal_status</span> <span
                class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>		<span class="n">gyro</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">cal_status</span> <span
                class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>		<span class="n">accel</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">cal_status</span> <span
                class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>		<span class="n">mag</span> <span
                class="o">=</span> <span class="n">cal_status</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>		<span class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>		<span class="k">return</span> <span
                class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="n">gyro</span><span
                class="p">,</span> <span class="n">accel</span><span class="p">,</span> <span class="n">mag</span><span
                class="p">)</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>	<span class="k">def</span> <span
                class="nf">get_calibration</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the sensor&#39;s calibration data and return it as an array of</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a><span class="sd">		22 bytes. Can be saved and then reloaded with the set_calibration function</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a><span class="sd">		to quickly calibrate from a previously calculated set of calibration data.</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>		<span class="c1"># Switch to configuration mode, as mentioned in section 3.10.4 of datasheet.</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_config_mode</span><span class="p">()</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>		<span class="c1"># Read the 22 bytes of calibration data and convert it to a list (from</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>		<span class="c1"># a bytearray) so it&#39;s more easily serialized should the caller want to</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>		<span class="c1"># store it.</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>		<span
                class="n">cal_data</span> <span class="o">=</span> <span class="nb">list</span><span
                class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_read_bytes</span><span
                class="p">(</span><span class="n">ACCEL_OFFSET_X_LSB_ADDR</span><span class="p">,</span> <span
                class="mi">22</span><span class="p">))</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>		<span class="k">return</span> <span
                class="n">cal_data</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>	<span class="k">def</span> <span
                class="nf">set_calibration</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Set the sensor&#39;s calibration data using a list of 22 bytes that</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="sd">		represent the sensor offsets and calibration data.  This data should be</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a><span class="sd">		a value that was previously retrieved with get_calibration (and then</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a><span class="sd">		perhaps persisted to disk or other location until needed again).</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>		<span class="c1"># Check that 22 bytes were passed in with calibration data.</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>		<span class="k">if</span> <span
                class="n">data</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span
                class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span
                class="o">!=</span> <span class="mi">22</span><span class="p">:</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>			<span
                class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Expected a list of 22 bytes for calibration data.&quot;</span><span
                class="p">)</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>		<span class="c1"># Switch to configuration mode, as mentioned in section 3.10.4 of datasheet.</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_config_mode</span><span class="p">()</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>		<span class="c1"># Set the 22 bytes of calibration data.</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_write_bytes</span><span class="p">(</span><span class="n">ACCEL_OFFSET_X_LSB_ADDR</span><span
                class="p">,</span> <span class="n">data</span><span class="p">)</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>	<span class="k">def</span> <span
                class="nf">get_axis_remap</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return a tuple with the axis remap register values.  This will return</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a><span class="sd">		6 values with the following meaning:</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a><span class="sd">		  - X axis remap (a value of AXIS_REMAP_X, AXIS_REMAP_Y, or AXIS_REMAP_Z.</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a><span class="sd">		                  which indicates that the physical X axis of the chip</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a><span class="sd">		                  is remapped to a different axis)</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a><span class="sd">		  - Y axis remap (see above)</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a><span class="sd">		  - Z axis remap (see above)</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a><span class="sd">		  - X axis sign (a value of AXIS_REMAP_POSITIVE or AXIS_REMAP_NEGATIVE</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a><span class="sd">		                 which indicates if the X axis values should be positive/</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a><span class="sd">		                 normal or negative/inverted.  The default is positive.)</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a><span class="sd">		  - Y axis sign (see above)</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a><span class="sd">		  - Z axis sign (see above)</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a><span class="sd">		Note that by default the axis orientation of the BNO chip looks like</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a><span class="sd">		the following (taken from section 3.4, page 24 of the datasheet).  Notice</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a><span class="sd">		the dot in the corner that corresponds to the dot on the BNO chip:</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a><span class="sd">		                   | Z axis</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a><span class="sd">		                   |</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a><span class="sd">		                   |   / X axis</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a><span class="sd">		               ____|__/____</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a><span class="sd">		  Y axis     / *   | /    /|</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a><span class="sd">		  _________ /______|/    //</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a><span class="sd">		           /___________ //</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a><span class="sd">		          |____________|/</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>		<span class="c1"># Get the axis remap register value.</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>		<span
                class="n">map_config</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_AXIS_MAP_CONFIG_ADDR</span><span
                class="p">)</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>		<span class="n">z</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">map_config</span> <span
                class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>		<span class="n">y</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">map_config</span> <span
                class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>		<span class="n">x</span> <span
                class="o">=</span> <span class="n">map_config</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>		<span class="c1"># Get the axis remap sign register value.</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>		<span class="n">sign_config</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_AXIS_MAP_SIGN_ADDR</span><span class="p">)</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>		<span class="n">x_sign</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">sign_config</span> <span
                class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x01</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>		<span class="n">y_sign</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">sign_config</span> <span
                class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x01</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>		<span class="n">z_sign</span> <span
                class="o">=</span> <span class="n">sign_config</span> <span class="o">&amp;</span> <span
                class="mh">0x01</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>		<span class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>		<span class="k">return</span> <span
                class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span
                class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">x_sign</span><span
                class="p">,</span> <span class="n">y_sign</span><span class="p">,</span> <span
                class="n">z_sign</span><span class="p">)</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>	<span class="k">def</span> <span
                class="nf">set_axis_remap</span><span class="p">(</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>		<span class="bp">self</span><span
                class="p">,</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>		<span class="n">x</span><span
                class="p">,</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>		<span class="n">y</span><span
                class="p">,</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>		<span class="n">z</span><span
                class="p">,</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>		<span class="n">x_sign</span><span
                class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span class="p">,</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>		<span class="n">y_sign</span><span
                class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span class="p">,</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>		<span class="n">z_sign</span><span
                class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span class="p">,</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>	<span class="p">):</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Set axis remap for each axis.  The x, y, z parameter values should</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a><span class="sd">		be set to one of AXIS_REMAP_X, AXIS_REMAP_Y, or AXIS_REMAP_Z and will</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a><span class="sd">		change the BNO&#39;s axis to represent another axis.  Note that two axises</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a><span class="sd">		cannot be mapped to the same axis, so the x, y, z params should be a</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a><span class="sd">		unique combination of AXIS_REMAP_X, AXIS_REMAP_Y, AXIS_REMAP_Z values.</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a><span class="sd">		The x_sign, y_sign, z_sign values represent if the axis should be positive</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a><span class="sd">		or negative (inverted).</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a><span class="sd">		See the get_axis_remap documentation for information on the orientation</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a><span class="sd">		of the axises on the chip, and consult section 3.4 of the datasheet.</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>		<span class="c1"># Switch to configuration mode.</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_config_mode</span><span class="p">()</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>		<span class="c1"># Set the axis remap register value.</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>		<span
                class="n">map_config</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>		<span
                class="n">map_config</span> <span class="o">|=</span> <span class="p">(</span><span
                class="n">z</span> <span class="o">&amp;</span> <span class="mh">0x03</span><span
                class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>		<span
                class="n">map_config</span> <span class="o">|=</span> <span class="p">(</span><span
                class="n">y</span> <span class="o">&amp;</span> <span class="mh">0x03</span><span
                class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>		<span
                class="n">map_config</span> <span class="o">|=</span> <span class="n">x</span> <span
                class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span class="n">BNO055_AXIS_MAP_CONFIG_ADDR</span><span
                class="p">,</span> <span class="n">map_config</span><span class="p">)</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>		<span class="c1"># Set the axis remap sign register value.</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>		<span class="n">sign_config</span> <span
                class="o">=</span> <span class="mh">0x00</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>		<span class="n">sign_config</span> <span
                class="o">|=</span> <span class="p">(</span><span class="n">x_sign</span> <span
                class="o">&amp;</span> <span class="mh">0x01</span><span class="p">)</span> <span
                class="o">&lt;&lt;</span> <span class="mi">2</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>		<span class="n">sign_config</span> <span
                class="o">|=</span> <span class="p">(</span><span class="n">y_sign</span> <span
                class="o">&amp;</span> <span class="mh">0x01</span><span class="p">)</span> <span
                class="o">&lt;&lt;</span> <span class="mi">1</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>		<span class="n">sign_config</span> <span
                class="o">|=</span> <span class="n">z_sign</span> <span class="o">&amp;</span> <span
                class="mh">0x01</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span class="n">BNO055_AXIS_MAP_SIGN_ADDR</span><span
                class="p">,</span> <span class="n">sign_config</span><span class="p">)</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>		<span class="bp">self</span><span
                class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>	<span class="k">def</span> <span
                class="nf">_read_vector</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">address</span><span class="p">,</span> <span
                class="n">count</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>		<span class="c1"># Read count number of 16-bit signed values starting from the provided</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a>		<span class="c1"># address. Returns a tuple of the values that were read.</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>		<span class="n">data</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_bytes</span><span class="p">(</span><span class="n">address</span><span
                class="p">,</span> <span class="n">count</span> <span class="o">*</span> <span class="mi">2</span><span
                class="p">)</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a>		<span class="n">result</span> <span
                class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                class="o">*</span> <span class="n">count</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a>		<span class="k">for</span> <span
                class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span
                class="n">count</span><span class="p">):</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a>			<span
                class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span
                class="o">=</span> <span class="p">((</span><span class="n">data</span><span class="p">[</span><span
                class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span
                class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span
                class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="n">data</span><span
                class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span
                class="p">])</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a>			<span class="k">if</span> <span
                class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span
                class="o">&gt;</span> <span class="mi">32767</span><span class="p">:</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a>				<span
                class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span
                class="o">-=</span> <span class="mi">65536</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>		<span class="k">return</span> <span
                class="n">result</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>	<span class="k">def</span> <span
                class="nf">read_euler</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the current absolute orientation as a tuple of heading, roll,</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a><span class="sd">		and pitch euler angles in degrees.</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a>		<span class="n">heading</span><span
                class="p">,</span> <span class="n">roll</span><span class="p">,</span> <span
                class="n">pitch</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_vector</span><span class="p">(</span><span class="n">BNO055_EULER_H_LSB_ADDR</span><span
                class="p">)</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>		<span class="k">return</span> <span
                class="n">heading</span> <span class="o">/</span> <span class="mf">16.0</span><span
                class="p">,</span> <span class="n">roll</span> <span class="o">/</span> <span
                class="mf">16.0</span><span class="p">,</span> <span class="n">pitch</span> <span
                class="o">/</span> <span class="mf">16.0</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>	<span class="k">def</span> <span
                class="nf">read_magnetometer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the current magnetometer reading as a tuple of X, Y, Z values</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a><span
                class="sd">		in micro-Teslas.</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a>		<span class="n">x</span><span
                class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span
                class="n">BNO055_MAG_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>		<span class="k">return</span> <span
                class="n">x</span> <span class="o">/</span> <span class="mf">16.0</span><span class="p">,</span> <span
                class="n">y</span> <span class="o">/</span> <span class="mf">16.0</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">/</span> <span class="mf">16.0</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a>	<span class="k">def</span> <span
                class="nf">read_gyroscope</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the current gyroscope (angular velocity) reading as a tuple of</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a><span class="sd">		X, Y, Z values in degrees per second.</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a>		<span class="n">x</span><span
                class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span
                class="n">BNO055_GYRO_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a>		<span class="k">return</span> <span
                class="n">x</span> <span class="o">/</span> <span class="mf">900.0</span><span class="p">,</span> <span
                class="n">y</span> <span class="o">/</span> <span class="mf">900.0</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">/</span> <span class="mf">900.0</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a>	<span class="k">def</span> <span
                class="nf">read_accelerometer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the current accelerometer reading as a tuple of X, Y, Z values</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a><span class="sd">		in meters/second^2.</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>		<span class="n">x</span><span
                class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span class="n">BNO055_ACCEL_DATA_X_LSB_ADDR</span><span
                class="p">)</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>		<span class="k">return</span> <span
                class="n">x</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                class="n">y</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">/</span> <span class="mf">100.0</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>	<span class="k">def</span> <span
                class="nf">read_linear_acceleration</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the current linear acceleration (acceleration from movement,</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a><span class="sd">		not from gravity) reading as a tuple of X, Y, Z values in meters/second^2.</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a>		<span class="n">x</span><span
                class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span
                class="n">BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>		<span class="k">return</span> <span
                class="n">x</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                class="n">y</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">/</span> <span class="mf">100.0</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>	<span class="k">def</span> <span
                class="nf">read_gravity</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the current gravity acceleration reading as a tuple of X, Y, Z</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a><span class="sd">		values in meters/second^2.</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>		<span class="n">x</span><span
                class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span
                class="n">BNO055_GRAVITY_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>		<span class="k">return</span> <span
                class="n">x</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                class="n">y</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">/</span> <span class="mf">100.0</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>	<span class="k">def</span> <span
                class="nf">read_quaternion</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the current orientation as a tuple of X, Y, Z, W quaternion</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a><span class="sd">		values.</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a><span
                class="sd">		&quot;&quot;&quot;</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a>		<span class="n">w</span><span
                class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span
                class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_vector</span><span class="p">(</span><span class="n">BNO055_QUATERNION_DATA_W_LSB_ADDR</span><span
                class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>		<span class="c1"># Scale values, see 3.6.5.5 in the datasheet.</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a>		<span class="n">scale</span> <span
                class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span
                class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">14</span><span class="p">)</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a>		<span class="k">return</span> <span
                class="n">x</span> <span class="o">*</span> <span class="n">scale</span><span class="p">,</span> <span
                class="n">y</span> <span class="o">*</span> <span class="n">scale</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">*</span> <span class="n">scale</span><span class="p">,</span> <span
                class="n">w</span> <span class="o">*</span> <span class="n">scale</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>	<span class="k">def</span> <span
                class="nf">read_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a><span class="w">		</span><span
                class="sd">&quot;&quot;&quot;Return the current temperature in Celsius.&quot;&quot;&quot;</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a>		<span class="k">return</span> <span
                class="bp">self</span><span class="o">.</span><span class="n">_read_signed_byte</span><span
                class="p">(</span><span class="n">BNO055_TEMP_ADDR</span><span class="p">)</span>
</span></pre>
        </div>


    </section>
    <section id="BNO055_ADDRESS_A">
        <div class="attr variable">
            <span class="name">BNO055_ADDRESS_A</span> =
            <span class="default_value">40</span>


        </div>
        <a class="headerlink" href="#BNO055_ADDRESS_A"></a>


    </section>
    <section id="BNO055_ADDRESS_B">
        <div class="attr variable">
            <span class="name">BNO055_ADDRESS_B</span> =
            <span class="default_value">41</span>


        </div>
        <a class="headerlink" href="#BNO055_ADDRESS_B"></a>


    </section>
    <section id="BNO055_ID">
        <div class="attr variable">
            <span class="name">BNO055_ID</span> =
            <span class="default_value">160</span>


        </div>
        <a class="headerlink" href="#BNO055_ID"></a>


    </section>
    <section id="BNO055_PAGE_ID_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_PAGE_ID_ADDR</span> =
            <span class="default_value">7</span>


        </div>
        <a class="headerlink" href="#BNO055_PAGE_ID_ADDR"></a>


    </section>
    <section id="BNO055_CHIP_ID_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_CHIP_ID_ADDR</span> =
            <span class="default_value">0</span>


        </div>
        <a class="headerlink" href="#BNO055_CHIP_ID_ADDR"></a>


    </section>
    <section id="BNO055_ACCEL_REV_ID_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_ACCEL_REV_ID_ADDR</span> =
            <span class="default_value">1</span>


        </div>
        <a class="headerlink" href="#BNO055_ACCEL_REV_ID_ADDR"></a>


    </section>
    <section id="BNO055_MAG_REV_ID_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_MAG_REV_ID_ADDR</span> =
            <span class="default_value">2</span>


        </div>
        <a class="headerlink" href="#BNO055_MAG_REV_ID_ADDR"></a>


    </section>
    <section id="BNO055_GYRO_REV_ID_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GYRO_REV_ID_ADDR</span> =
            <span class="default_value">3</span>


        </div>
        <a class="headerlink" href="#BNO055_GYRO_REV_ID_ADDR"></a>


    </section>
    <section id="BNO055_SW_REV_ID_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SW_REV_ID_LSB_ADDR</span> =
            <span class="default_value">4</span>


        </div>
        <a class="headerlink" href="#BNO055_SW_REV_ID_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SW_REV_ID_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SW_REV_ID_MSB_ADDR</span> =
            <span class="default_value">5</span>


        </div>
        <a class="headerlink" href="#BNO055_SW_REV_ID_MSB_ADDR"></a>


    </section>
    <section id="BNO055_BL_REV_ID_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_BL_REV_ID_ADDR</span> =
            <span class="default_value">6</span>


        </div>
        <a class="headerlink" href="#BNO055_BL_REV_ID_ADDR"></a>


    </section>
    <section id="BNO055_ACCEL_DATA_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_ACCEL_DATA_X_LSB_ADDR</span> =
            <span class="default_value">8</span>


        </div>
        <a class="headerlink" href="#BNO055_ACCEL_DATA_X_LSB_ADDR"></a>


    </section>
    <section id="BNO055_ACCEL_DATA_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_ACCEL_DATA_X_MSB_ADDR</span> =
            <span class="default_value">9</span>


        </div>
        <a class="headerlink" href="#BNO055_ACCEL_DATA_X_MSB_ADDR"></a>


    </section>
    <section id="BNO055_ACCEL_DATA_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_ACCEL_DATA_Y_LSB_ADDR</span> =
            <span class="default_value">10</span>


        </div>
        <a class="headerlink" href="#BNO055_ACCEL_DATA_Y_LSB_ADDR"></a>


    </section>
    <section id="BNO055_ACCEL_DATA_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_ACCEL_DATA_Y_MSB_ADDR</span> =
            <span class="default_value">11</span>


        </div>
        <a class="headerlink" href="#BNO055_ACCEL_DATA_Y_MSB_ADDR"></a>


    </section>
    <section id="BNO055_ACCEL_DATA_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_ACCEL_DATA_Z_LSB_ADDR</span> =
            <span class="default_value">12</span>


        </div>
        <a class="headerlink" href="#BNO055_ACCEL_DATA_Z_LSB_ADDR"></a>


    </section>
    <section id="BNO055_ACCEL_DATA_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_ACCEL_DATA_Z_MSB_ADDR</span> =
            <span class="default_value">13</span>


        </div>
        <a class="headerlink" href="#BNO055_ACCEL_DATA_Z_MSB_ADDR"></a>


    </section>
    <section id="BNO055_MAG_DATA_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_MAG_DATA_X_LSB_ADDR</span> =
            <span class="default_value">14</span>


        </div>
        <a class="headerlink" href="#BNO055_MAG_DATA_X_LSB_ADDR"></a>


    </section>
    <section id="BNO055_MAG_DATA_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_MAG_DATA_X_MSB_ADDR</span> =
            <span class="default_value">15</span>


        </div>
        <a class="headerlink" href="#BNO055_MAG_DATA_X_MSB_ADDR"></a>


    </section>
    <section id="BNO055_MAG_DATA_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_MAG_DATA_Y_LSB_ADDR</span> =
            <span class="default_value">16</span>


        </div>
        <a class="headerlink" href="#BNO055_MAG_DATA_Y_LSB_ADDR"></a>


    </section>
    <section id="BNO055_MAG_DATA_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_MAG_DATA_Y_MSB_ADDR</span> =
            <span class="default_value">17</span>


        </div>
        <a class="headerlink" href="#BNO055_MAG_DATA_Y_MSB_ADDR"></a>


    </section>
    <section id="BNO055_MAG_DATA_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_MAG_DATA_Z_LSB_ADDR</span> =
            <span class="default_value">18</span>


        </div>
        <a class="headerlink" href="#BNO055_MAG_DATA_Z_LSB_ADDR"></a>


    </section>
    <section id="BNO055_MAG_DATA_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_MAG_DATA_Z_MSB_ADDR</span> =
            <span class="default_value">19</span>


        </div>
        <a class="headerlink" href="#BNO055_MAG_DATA_Z_MSB_ADDR"></a>


    </section>
    <section id="BNO055_GYRO_DATA_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GYRO_DATA_X_LSB_ADDR</span> =
            <span class="default_value">20</span>


        </div>
        <a class="headerlink" href="#BNO055_GYRO_DATA_X_LSB_ADDR"></a>


    </section>
    <section id="BNO055_GYRO_DATA_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GYRO_DATA_X_MSB_ADDR</span> =
            <span class="default_value">21</span>


        </div>
        <a class="headerlink" href="#BNO055_GYRO_DATA_X_MSB_ADDR"></a>


    </section>
    <section id="BNO055_GYRO_DATA_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GYRO_DATA_Y_LSB_ADDR</span> =
            <span class="default_value">22</span>


        </div>
        <a class="headerlink" href="#BNO055_GYRO_DATA_Y_LSB_ADDR"></a>


    </section>
    <section id="BNO055_GYRO_DATA_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GYRO_DATA_Y_MSB_ADDR</span> =
            <span class="default_value">23</span>


        </div>
        <a class="headerlink" href="#BNO055_GYRO_DATA_Y_MSB_ADDR"></a>


    </section>
    <section id="BNO055_GYRO_DATA_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GYRO_DATA_Z_LSB_ADDR</span> =
            <span class="default_value">24</span>


        </div>
        <a class="headerlink" href="#BNO055_GYRO_DATA_Z_LSB_ADDR"></a>


    </section>
    <section id="BNO055_GYRO_DATA_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GYRO_DATA_Z_MSB_ADDR</span> =
            <span class="default_value">25</span>


        </div>
        <a class="headerlink" href="#BNO055_GYRO_DATA_Z_MSB_ADDR"></a>


    </section>
    <section id="BNO055_EULER_H_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_EULER_H_LSB_ADDR</span> =
            <span class="default_value">26</span>


        </div>
        <a class="headerlink" href="#BNO055_EULER_H_LSB_ADDR"></a>


    </section>
    <section id="BNO055_EULER_H_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_EULER_H_MSB_ADDR</span> =
            <span class="default_value">27</span>


        </div>
        <a class="headerlink" href="#BNO055_EULER_H_MSB_ADDR"></a>


    </section>
    <section id="BNO055_EULER_R_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_EULER_R_LSB_ADDR</span> =
            <span class="default_value">28</span>


        </div>
        <a class="headerlink" href="#BNO055_EULER_R_LSB_ADDR"></a>


    </section>
    <section id="BNO055_EULER_R_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_EULER_R_MSB_ADDR</span> =
            <span class="default_value">29</span>


        </div>
        <a class="headerlink" href="#BNO055_EULER_R_MSB_ADDR"></a>


    </section>
    <section id="BNO055_EULER_P_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_EULER_P_LSB_ADDR</span> =
            <span class="default_value">30</span>


        </div>
        <a class="headerlink" href="#BNO055_EULER_P_LSB_ADDR"></a>


    </section>
    <section id="BNO055_EULER_P_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_EULER_P_MSB_ADDR</span> =
            <span class="default_value">31</span>


        </div>
        <a class="headerlink" href="#BNO055_EULER_P_MSB_ADDR"></a>


    </section>
    <section id="BNO055_QUATERNION_DATA_W_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_QUATERNION_DATA_W_LSB_ADDR</span> =
            <span class="default_value">32</span>


        </div>
        <a class="headerlink" href="#BNO055_QUATERNION_DATA_W_LSB_ADDR"></a>


    </section>
    <section id="BNO055_QUATERNION_DATA_W_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_QUATERNION_DATA_W_MSB_ADDR</span> =
            <span class="default_value">33</span>


        </div>
        <a class="headerlink" href="#BNO055_QUATERNION_DATA_W_MSB_ADDR"></a>


    </section>
    <section id="BNO055_QUATERNION_DATA_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_QUATERNION_DATA_X_LSB_ADDR</span> =
            <span class="default_value">34</span>


        </div>
        <a class="headerlink" href="#BNO055_QUATERNION_DATA_X_LSB_ADDR"></a>


    </section>
    <section id="BNO055_QUATERNION_DATA_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_QUATERNION_DATA_X_MSB_ADDR</span> =
            <span class="default_value">35</span>


        </div>
        <a class="headerlink" href="#BNO055_QUATERNION_DATA_X_MSB_ADDR"></a>


    </section>
    <section id="BNO055_QUATERNION_DATA_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_QUATERNION_DATA_Y_LSB_ADDR</span> =
            <span class="default_value">36</span>


        </div>
        <a class="headerlink" href="#BNO055_QUATERNION_DATA_Y_LSB_ADDR"></a>


    </section>
    <section id="BNO055_QUATERNION_DATA_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_QUATERNION_DATA_Y_MSB_ADDR</span> =
            <span class="default_value">37</span>


        </div>
        <a class="headerlink" href="#BNO055_QUATERNION_DATA_Y_MSB_ADDR"></a>


    </section>
    <section id="BNO055_QUATERNION_DATA_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_QUATERNION_DATA_Z_LSB_ADDR</span> =
            <span class="default_value">38</span>


        </div>
        <a class="headerlink" href="#BNO055_QUATERNION_DATA_Z_LSB_ADDR"></a>


    </section>
    <section id="BNO055_QUATERNION_DATA_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_QUATERNION_DATA_Z_MSB_ADDR</span> =
            <span class="default_value">39</span>


        </div>
        <a class="headerlink" href="#BNO055_QUATERNION_DATA_Z_MSB_ADDR"></a>


    </section>
    <section id="BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR</span> =
            <span class="default_value">40</span>


        </div>
        <a class="headerlink" href="#BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR"></a>


    </section>
    <section id="BNO055_LINEAR_ACCEL_DATA_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_LINEAR_ACCEL_DATA_X_MSB_ADDR</span> =
            <span class="default_value">41</span>


        </div>
        <a class="headerlink" href="#BNO055_LINEAR_ACCEL_DATA_X_MSB_ADDR"></a>


    </section>
    <section id="BNO055_LINEAR_ACCEL_DATA_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_LINEAR_ACCEL_DATA_Y_LSB_ADDR</span> =
            <span class="default_value">42</span>


        </div>
        <a class="headerlink" href="#BNO055_LINEAR_ACCEL_DATA_Y_LSB_ADDR"></a>


    </section>
    <section id="BNO055_LINEAR_ACCEL_DATA_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_LINEAR_ACCEL_DATA_Y_MSB_ADDR</span> =
            <span class="default_value">43</span>


        </div>
        <a class="headerlink" href="#BNO055_LINEAR_ACCEL_DATA_Y_MSB_ADDR"></a>


    </section>
    <section id="BNO055_LINEAR_ACCEL_DATA_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_LINEAR_ACCEL_DATA_Z_LSB_ADDR</span> =
            <span class="default_value">44</span>


        </div>
        <a class="headerlink" href="#BNO055_LINEAR_ACCEL_DATA_Z_LSB_ADDR"></a>


    </section>
    <section id="BNO055_LINEAR_ACCEL_DATA_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_LINEAR_ACCEL_DATA_Z_MSB_ADDR</span> =
            <span class="default_value">45</span>


        </div>
        <a class="headerlink" href="#BNO055_LINEAR_ACCEL_DATA_Z_MSB_ADDR"></a>


    </section>
    <section id="BNO055_GRAVITY_DATA_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GRAVITY_DATA_X_LSB_ADDR</span> =
            <span class="default_value">46</span>


        </div>
        <a class="headerlink" href="#BNO055_GRAVITY_DATA_X_LSB_ADDR"></a>


    </section>
    <section id="BNO055_GRAVITY_DATA_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GRAVITY_DATA_X_MSB_ADDR</span> =
            <span class="default_value">47</span>


        </div>
        <a class="headerlink" href="#BNO055_GRAVITY_DATA_X_MSB_ADDR"></a>


    </section>
    <section id="BNO055_GRAVITY_DATA_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GRAVITY_DATA_Y_LSB_ADDR</span> =
            <span class="default_value">48</span>


        </div>
        <a class="headerlink" href="#BNO055_GRAVITY_DATA_Y_LSB_ADDR"></a>


    </section>
    <section id="BNO055_GRAVITY_DATA_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GRAVITY_DATA_Y_MSB_ADDR</span> =
            <span class="default_value">49</span>


        </div>
        <a class="headerlink" href="#BNO055_GRAVITY_DATA_Y_MSB_ADDR"></a>


    </section>
    <section id="BNO055_GRAVITY_DATA_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GRAVITY_DATA_Z_LSB_ADDR</span> =
            <span class="default_value">50</span>


        </div>
        <a class="headerlink" href="#BNO055_GRAVITY_DATA_Z_LSB_ADDR"></a>


    </section>
    <section id="BNO055_GRAVITY_DATA_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_GRAVITY_DATA_Z_MSB_ADDR</span> =
            <span class="default_value">51</span>


        </div>
        <a class="headerlink" href="#BNO055_GRAVITY_DATA_Z_MSB_ADDR"></a>


    </section>
    <section id="BNO055_TEMP_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_TEMP_ADDR</span> =
            <span class="default_value">52</span>


        </div>
        <a class="headerlink" href="#BNO055_TEMP_ADDR"></a>


    </section>
    <section id="BNO055_CALIB_STAT_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_CALIB_STAT_ADDR</span> =
            <span class="default_value">53</span>


        </div>
        <a class="headerlink" href="#BNO055_CALIB_STAT_ADDR"></a>


    </section>
    <section id="BNO055_SELFTEST_RESULT_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SELFTEST_RESULT_ADDR</span> =
            <span class="default_value">54</span>


        </div>
        <a class="headerlink" href="#BNO055_SELFTEST_RESULT_ADDR"></a>


    </section>
    <section id="BNO055_INTR_STAT_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_INTR_STAT_ADDR</span> =
            <span class="default_value">55</span>


        </div>
        <a class="headerlink" href="#BNO055_INTR_STAT_ADDR"></a>


    </section>
    <section id="BNO055_SYS_CLK_STAT_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SYS_CLK_STAT_ADDR</span> =
            <span class="default_value">56</span>


        </div>
        <a class="headerlink" href="#BNO055_SYS_CLK_STAT_ADDR"></a>


    </section>
    <section id="BNO055_SYS_STAT_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SYS_STAT_ADDR</span> =
            <span class="default_value">57</span>


        </div>
        <a class="headerlink" href="#BNO055_SYS_STAT_ADDR"></a>


    </section>
    <section id="BNO055_SYS_ERR_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SYS_ERR_ADDR</span> =
            <span class="default_value">58</span>


        </div>
        <a class="headerlink" href="#BNO055_SYS_ERR_ADDR"></a>


    </section>
    <section id="BNO055_UNIT_SEL_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_UNIT_SEL_ADDR</span> =
            <span class="default_value">59</span>


        </div>
        <a class="headerlink" href="#BNO055_UNIT_SEL_ADDR"></a>


    </section>
    <section id="BNO055_DATA_SELECT_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_DATA_SELECT_ADDR</span> =
            <span class="default_value">60</span>


        </div>
        <a class="headerlink" href="#BNO055_DATA_SELECT_ADDR"></a>


    </section>
    <section id="BNO055_OPR_MODE_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_OPR_MODE_ADDR</span> =
            <span class="default_value">61</span>


        </div>
        <a class="headerlink" href="#BNO055_OPR_MODE_ADDR"></a>


    </section>
    <section id="BNO055_PWR_MODE_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_PWR_MODE_ADDR</span> =
            <span class="default_value">62</span>


        </div>
        <a class="headerlink" href="#BNO055_PWR_MODE_ADDR"></a>


    </section>
    <section id="BNO055_SYS_TRIGGER_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SYS_TRIGGER_ADDR</span> =
            <span class="default_value">63</span>


        </div>
        <a class="headerlink" href="#BNO055_SYS_TRIGGER_ADDR"></a>


    </section>
    <section id="BNO055_TEMP_SOURCE_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_TEMP_SOURCE_ADDR</span> =
            <span class="default_value">64</span>


        </div>
        <a class="headerlink" href="#BNO055_TEMP_SOURCE_ADDR"></a>


    </section>
    <section id="BNO055_AXIS_MAP_CONFIG_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_AXIS_MAP_CONFIG_ADDR</span> =
            <span class="default_value">65</span>


        </div>
        <a class="headerlink" href="#BNO055_AXIS_MAP_CONFIG_ADDR"></a>


    </section>
    <section id="BNO055_AXIS_MAP_SIGN_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_AXIS_MAP_SIGN_ADDR</span> =
            <span class="default_value">66</span>


        </div>
        <a class="headerlink" href="#BNO055_AXIS_MAP_SIGN_ADDR"></a>


    </section>
    <section id="AXIS_REMAP_X">
        <div class="attr variable">
            <span class="name">AXIS_REMAP_X</span> =
            <span class="default_value">0</span>


        </div>
        <a class="headerlink" href="#AXIS_REMAP_X"></a>


    </section>
    <section id="AXIS_REMAP_Y">
        <div class="attr variable">
            <span class="name">AXIS_REMAP_Y</span> =
            <span class="default_value">1</span>


        </div>
        <a class="headerlink" href="#AXIS_REMAP_Y"></a>


    </section>
    <section id="AXIS_REMAP_Z">
        <div class="attr variable">
            <span class="name">AXIS_REMAP_Z</span> =
            <span class="default_value">2</span>


        </div>
        <a class="headerlink" href="#AXIS_REMAP_Z"></a>


    </section>
    <section id="AXIS_REMAP_POSITIVE">
        <div class="attr variable">
            <span class="name">AXIS_REMAP_POSITIVE</span> =
            <span class="default_value">0</span>


        </div>
        <a class="headerlink" href="#AXIS_REMAP_POSITIVE"></a>


    </section>
    <section id="AXIS_REMAP_NEGATIVE">
        <div class="attr variable">
            <span class="name">AXIS_REMAP_NEGATIVE</span> =
            <span class="default_value">1</span>


        </div>
        <a class="headerlink" href="#AXIS_REMAP_NEGATIVE"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_0_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_0_LSB_ADDR</span> =
            <span class="default_value">67</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_0_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_0_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_0_MSB_ADDR</span> =
            <span class="default_value">68</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_0_MSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_1_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_1_LSB_ADDR</span> =
            <span class="default_value">69</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_1_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_1_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_1_MSB_ADDR</span> =
            <span class="default_value">70</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_1_MSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_2_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_2_LSB_ADDR</span> =
            <span class="default_value">71</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_2_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_2_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_2_MSB_ADDR</span> =
            <span class="default_value">72</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_2_MSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_3_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_3_LSB_ADDR</span> =
            <span class="default_value">73</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_3_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_3_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_3_MSB_ADDR</span> =
            <span class="default_value">74</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_3_MSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_4_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_4_LSB_ADDR</span> =
            <span class="default_value">75</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_4_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_4_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_4_MSB_ADDR</span> =
            <span class="default_value">76</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_4_MSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_5_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_5_LSB_ADDR</span> =
            <span class="default_value">77</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_5_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_5_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_5_MSB_ADDR</span> =
            <span class="default_value">78</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_5_MSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_6_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_6_LSB_ADDR</span> =
            <span class="default_value">79</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_6_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_6_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_6_MSB_ADDR</span> =
            <span class="default_value">80</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_6_MSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_7_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_7_LSB_ADDR</span> =
            <span class="default_value">81</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_7_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_7_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_7_MSB_ADDR</span> =
            <span class="default_value">82</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_7_MSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_8_LSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_8_LSB_ADDR</span> =
            <span class="default_value">83</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_8_LSB_ADDR"></a>


    </section>
    <section id="BNO055_SIC_MATRIX_8_MSB_ADDR">
        <div class="attr variable">
            <span class="name">BNO055_SIC_MATRIX_8_MSB_ADDR</span> =
            <span class="default_value">84</span>


        </div>
        <a class="headerlink" href="#BNO055_SIC_MATRIX_8_MSB_ADDR"></a>


    </section>
    <section id="ACCEL_OFFSET_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">ACCEL_OFFSET_X_LSB_ADDR</span> =
            <span class="default_value">85</span>


        </div>
        <a class="headerlink" href="#ACCEL_OFFSET_X_LSB_ADDR"></a>


    </section>
    <section id="ACCEL_OFFSET_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">ACCEL_OFFSET_X_MSB_ADDR</span> =
            <span class="default_value">86</span>


        </div>
        <a class="headerlink" href="#ACCEL_OFFSET_X_MSB_ADDR"></a>


    </section>
    <section id="ACCEL_OFFSET_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">ACCEL_OFFSET_Y_LSB_ADDR</span> =
            <span class="default_value">87</span>


        </div>
        <a class="headerlink" href="#ACCEL_OFFSET_Y_LSB_ADDR"></a>


    </section>
    <section id="ACCEL_OFFSET_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">ACCEL_OFFSET_Y_MSB_ADDR</span> =
            <span class="default_value">88</span>


        </div>
        <a class="headerlink" href="#ACCEL_OFFSET_Y_MSB_ADDR"></a>


    </section>
    <section id="ACCEL_OFFSET_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">ACCEL_OFFSET_Z_LSB_ADDR</span> =
            <span class="default_value">89</span>


        </div>
        <a class="headerlink" href="#ACCEL_OFFSET_Z_LSB_ADDR"></a>


    </section>
    <section id="ACCEL_OFFSET_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">ACCEL_OFFSET_Z_MSB_ADDR</span> =
            <span class="default_value">90</span>


        </div>
        <a class="headerlink" href="#ACCEL_OFFSET_Z_MSB_ADDR"></a>


    </section>
    <section id="MAG_OFFSET_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">MAG_OFFSET_X_LSB_ADDR</span> =
            <span class="default_value">91</span>


        </div>
        <a class="headerlink" href="#MAG_OFFSET_X_LSB_ADDR"></a>


    </section>
    <section id="MAG_OFFSET_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">MAG_OFFSET_X_MSB_ADDR</span> =
            <span class="default_value">92</span>


        </div>
        <a class="headerlink" href="#MAG_OFFSET_X_MSB_ADDR"></a>


    </section>
    <section id="MAG_OFFSET_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">MAG_OFFSET_Y_LSB_ADDR</span> =
            <span class="default_value">93</span>


        </div>
        <a class="headerlink" href="#MAG_OFFSET_Y_LSB_ADDR"></a>


    </section>
    <section id="MAG_OFFSET_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">MAG_OFFSET_Y_MSB_ADDR</span> =
            <span class="default_value">94</span>


        </div>
        <a class="headerlink" href="#MAG_OFFSET_Y_MSB_ADDR"></a>


    </section>
    <section id="MAG_OFFSET_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">MAG_OFFSET_Z_LSB_ADDR</span> =
            <span class="default_value">95</span>


        </div>
        <a class="headerlink" href="#MAG_OFFSET_Z_LSB_ADDR"></a>


    </section>
    <section id="MAG_OFFSET_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">MAG_OFFSET_Z_MSB_ADDR</span> =
            <span class="default_value">96</span>


        </div>
        <a class="headerlink" href="#MAG_OFFSET_Z_MSB_ADDR"></a>


    </section>
    <section id="GYRO_OFFSET_X_LSB_ADDR">
        <div class="attr variable">
            <span class="name">GYRO_OFFSET_X_LSB_ADDR</span> =
            <span class="default_value">97</span>


        </div>
        <a class="headerlink" href="#GYRO_OFFSET_X_LSB_ADDR"></a>


    </section>
    <section id="GYRO_OFFSET_X_MSB_ADDR">
        <div class="attr variable">
            <span class="name">GYRO_OFFSET_X_MSB_ADDR</span> =
            <span class="default_value">98</span>


        </div>
        <a class="headerlink" href="#GYRO_OFFSET_X_MSB_ADDR"></a>


    </section>
    <section id="GYRO_OFFSET_Y_LSB_ADDR">
        <div class="attr variable">
            <span class="name">GYRO_OFFSET_Y_LSB_ADDR</span> =
            <span class="default_value">99</span>


        </div>
        <a class="headerlink" href="#GYRO_OFFSET_Y_LSB_ADDR"></a>


    </section>
    <section id="GYRO_OFFSET_Y_MSB_ADDR">
        <div class="attr variable">
            <span class="name">GYRO_OFFSET_Y_MSB_ADDR</span> =
            <span class="default_value">100</span>


        </div>
        <a class="headerlink" href="#GYRO_OFFSET_Y_MSB_ADDR"></a>


    </section>
    <section id="GYRO_OFFSET_Z_LSB_ADDR">
        <div class="attr variable">
            <span class="name">GYRO_OFFSET_Z_LSB_ADDR</span> =
            <span class="default_value">101</span>


        </div>
        <a class="headerlink" href="#GYRO_OFFSET_Z_LSB_ADDR"></a>


    </section>
    <section id="GYRO_OFFSET_Z_MSB_ADDR">
        <div class="attr variable">
            <span class="name">GYRO_OFFSET_Z_MSB_ADDR</span> =
            <span class="default_value">102</span>


        </div>
        <a class="headerlink" href="#GYRO_OFFSET_Z_MSB_ADDR"></a>


    </section>
    <section id="ACCEL_RADIUS_LSB_ADDR">
        <div class="attr variable">
            <span class="name">ACCEL_RADIUS_LSB_ADDR</span> =
            <span class="default_value">103</span>


        </div>
        <a class="headerlink" href="#ACCEL_RADIUS_LSB_ADDR"></a>


    </section>
    <section id="ACCEL_RADIUS_MSB_ADDR">
        <div class="attr variable">
            <span class="name">ACCEL_RADIUS_MSB_ADDR</span> =
            <span class="default_value">104</span>


        </div>
        <a class="headerlink" href="#ACCEL_RADIUS_MSB_ADDR"></a>


    </section>
    <section id="MAG_RADIUS_LSB_ADDR">
        <div class="attr variable">
            <span class="name">MAG_RADIUS_LSB_ADDR</span> =
            <span class="default_value">105</span>


        </div>
        <a class="headerlink" href="#MAG_RADIUS_LSB_ADDR"></a>


    </section>
    <section id="MAG_RADIUS_MSB_ADDR">
        <div class="attr variable">
            <span class="name">MAG_RADIUS_MSB_ADDR</span> =
            <span class="default_value">106</span>


        </div>
        <a class="headerlink" href="#MAG_RADIUS_MSB_ADDR"></a>


    </section>
    <section id="POWER_MODE_NORMAL">
        <div class="attr variable">
            <span class="name">POWER_MODE_NORMAL</span> =
            <span class="default_value">0</span>


        </div>
        <a class="headerlink" href="#POWER_MODE_NORMAL"></a>


    </section>
    <section id="POWER_MODE_LOWPOWER">
        <div class="attr variable">
            <span class="name">POWER_MODE_LOWPOWER</span> =
            <span class="default_value">1</span>


        </div>
        <a class="headerlink" href="#POWER_MODE_LOWPOWER"></a>


    </section>
    <section id="POWER_MODE_SUSPEND">
        <div class="attr variable">
            <span class="name">POWER_MODE_SUSPEND</span> =
            <span class="default_value">2</span>


        </div>
        <a class="headerlink" href="#POWER_MODE_SUSPEND"></a>


    </section>
    <section id="OPERATION_MODE_CONFIG">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_CONFIG</span> =
            <span class="default_value">0</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_CONFIG"></a>


    </section>
    <section id="OPERATION_MODE_ACCONLY">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_ACCONLY</span> =
            <span class="default_value">1</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_ACCONLY"></a>


    </section>
    <section id="OPERATION_MODE_MAGONLY">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_MAGONLY</span> =
            <span class="default_value">2</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_MAGONLY"></a>


    </section>
    <section id="OPERATION_MODE_GYRONLY">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_GYRONLY</span> =
            <span class="default_value">3</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_GYRONLY"></a>


    </section>
    <section id="OPERATION_MODE_ACCMAG">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_ACCMAG</span> =
            <span class="default_value">4</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_ACCMAG"></a>


    </section>
    <section id="OPERATION_MODE_ACCGYRO">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_ACCGYRO</span> =
            <span class="default_value">5</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_ACCGYRO"></a>


    </section>
    <section id="OPERATION_MODE_MAGGYRO">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_MAGGYRO</span> =
            <span class="default_value">6</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_MAGGYRO"></a>


    </section>
    <section id="OPERATION_MODE_AMG">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_AMG</span> =
            <span class="default_value">7</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_AMG"></a>


    </section>
    <section id="OPERATION_MODE_IMUPLUS">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_IMUPLUS</span> =
            <span class="default_value">8</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_IMUPLUS"></a>


    </section>
    <section id="OPERATION_MODE_COMPASS">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_COMPASS</span> =
            <span class="default_value">9</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_COMPASS"></a>


    </section>
    <section id="OPERATION_MODE_M4G">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_M4G</span> =
            <span class="default_value">10</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_M4G"></a>


    </section>
    <section id="OPERATION_MODE_NDOF_FMC_OFF">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_NDOF_FMC_OFF</span> =
            <span class="default_value">11</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_NDOF_FMC_OFF"></a>


    </section>
    <section id="OPERATION_MODE_NDOF">
        <div class="attr variable">
            <span class="name">OPERATION_MODE_NDOF</span> =
            <span class="default_value">12</span>


        </div>
        <a class="headerlink" href="#OPERATION_MODE_NDOF"></a>


    </section>
    <section id="logger">
        <div class="attr variable">
            <span class="name">logger</span> =
            <span class="default_value">&lt;Logger <a href="">open_precision.external.bno055_serial_driver</a> (WARNING)&gt;</span>


        </div>
        <a class="headerlink" href="#logger"></a>


    </section>
    <section id="BNO055">
        <input aria-hidden="true" class="view-source-toggle-state" id="BNO055-view-source" tabindex="-1"
               type="checkbox">
        <div class="attr class">

            <span class="def">class</span>
            <span class="name">BNO055</span>:

            <label class="view-source-button" for="BNO055-view-source"><span>View Source</span></label>

        </div>
        <a class="headerlink" href="#BNO055"></a>
        <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055-211"><a href="#BNO055-211"><span
                class="linenos">211</span></a><span class="k">class</span> <span class="nc">BNO055</span><span
                class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="BNO055-212"><a href="#BNO055-212"><span class="linenos">212</span></a>	<span
                class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">serial_port</span><span
                class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">serial_timeout_sec</span><span
                class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="BNO055-213"><a href="#BNO055-213"><span class="linenos">213</span></a>		<span class="c1"># Use serial communication if serial_port name is provided.</span>
</span><span id="BNO055-214"><a href="#BNO055-214"><span class="linenos">214</span></a>		<span class="c1"># Open the serial port at 115200 baud, 8N1.  Add a 5 second timeout</span>
</span><span id="BNO055-215"><a href="#BNO055-215"><span class="linenos">215</span></a>		<span class="c1"># to prevent hanging if device is disconnected.</span>
</span><span id="BNO055-216"><a href="#BNO055-216"><span class="linenos">216</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_serial</span> <span
                class="o">=</span> <span class="n">serial</span><span class="o">.</span><span
                class="n">Serial</span><span class="p">(</span>
</span><span id="BNO055-217"><a href="#BNO055-217"><span class="linenos">217</span></a>			<span class="n">serial_port</span><span
                class="p">,</span>
</span><span id="BNO055-218"><a href="#BNO055-218"><span class="linenos">218</span></a>			<span class="mi">115200</span><span
                class="p">,</span>
</span><span id="BNO055-219"><a href="#BNO055-219"><span class="linenos">219</span></a>			<span class="n">timeout</span><span
                class="o">=</span><span class="n">serial_timeout_sec</span><span class="p">,</span>
</span><span id="BNO055-220"><a href="#BNO055-220"><span class="linenos">220</span></a>			<span class="n">writeTimeout</span><span
                class="o">=</span><span class="n">serial_timeout_sec</span><span class="p">,</span>
</span><span id="BNO055-221"><a href="#BNO055-221"><span class="linenos">221</span></a>		<span class="p">)</span>
</span><span id="BNO055-222"><a href="#BNO055-222"><span class="linenos">222</span></a>
</span><span id="BNO055-223"><a href="#BNO055-223"><span class="linenos">223</span></a>	<span
                class="k">def</span> <span class="nf">_serial_send</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">command</span><span
                class="p">,</span> <span class="n">ack</span><span class="o">=</span><span class="kc">True</span><span
                class="p">,</span> <span class="n">max_attempts</span><span class="o">=</span><span
                class="mi">5</span><span class="p">):</span>
</span><span id="BNO055-224"><a href="#BNO055-224"><span class="linenos">224</span></a>		<span class="c1"># Send a serial command and automatically handle if it needs to be resent</span>
</span><span id="BNO055-225"><a href="#BNO055-225"><span class="linenos">225</span></a>		<span class="c1"># because of a bus error.  If ack is True then an ackowledgement is</span>
</span><span id="BNO055-226"><a href="#BNO055-226"><span class="linenos">226</span></a>		<span class="c1"># expected and only up to the maximum specified attempts will be made</span>
</span><span id="BNO055-227"><a href="#BNO055-227"><span class="linenos">227</span></a>		<span class="c1"># to get a good acknowledgement (default is 5).  If ack is False then</span>
</span><span id="BNO055-228"><a href="#BNO055-228"><span class="linenos">228</span></a>		<span class="c1"># no acknowledgement is expected (like when resetting the device).</span>
</span><span id="BNO055-229"><a href="#BNO055-229"><span class="linenos">229</span></a>		<span
                class="n">attempts</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="BNO055-230"><a href="#BNO055-230"><span class="linenos">230</span></a>		<span
                class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="BNO055-231"><a href="#BNO055-231"><span class="linenos">231</span></a>			<span class="c1"># Flush any pending received data to get into a clean state.</span>
</span><span id="BNO055-232"><a href="#BNO055-232"><span class="linenos">232</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_serial</span><span
                class="o">.</span><span class="n">flushInput</span><span class="p">()</span>
</span><span id="BNO055-233"><a href="#BNO055-233"><span class="linenos">233</span></a>			<span class="c1"># Send the data.</span>
</span><span id="BNO055-234"><a href="#BNO055-234"><span class="linenos">234</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_serial</span><span
                class="o">.</span><span class="n">write</span><span class="p">(</span><span
                class="n">command</span><span class="p">)</span>
</span><span id="BNO055-235"><a href="#BNO055-235"><span class="linenos">235</span></a>			<span class="n">logger</span><span
                class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Serial send: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">command</span><span class="p">)))</span>
</span><span id="BNO055-236"><a href="#BNO055-236"><span class="linenos">236</span></a>			<span class="c1"># Stop if no acknowledgment is expected.</span>
</span><span id="BNO055-237"><a href="#BNO055-237"><span class="linenos">237</span></a>			<span
                class="k">if</span> <span class="ow">not</span> <span class="n">ack</span><span class="p">:</span>
</span><span id="BNO055-238"><a href="#BNO055-238"><span class="linenos">238</span></a>				<span class="k">return</span>
</span><span id="BNO055-239"><a href="#BNO055-239"><span class="linenos">239</span></a>			<span class="c1"># Read acknowledgement response (2 bytes).</span>
</span><span id="BNO055-240"><a href="#BNO055-240"><span class="linenos">240</span></a>			<span
                class="n">resp</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span
                class="bp">self</span><span class="o">.</span><span class="n">_serial</span><span
                class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span
                class="p">))</span>
</span><span id="BNO055-241"><a href="#BNO055-241"><span class="linenos">241</span></a>			<span class="n">logger</span><span
                class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Serial receive: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">resp</span><span class="p">)))</span>
</span><span id="BNO055-242"><a href="#BNO055-242"><span class="linenos">242</span></a>			<span
                class="k">if</span> <span class="n">resp</span> <span class="ow">is</span> <span class="kc">None</span> <span
                class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">resp</span><span
                class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="BNO055-243"><a href="#BNO055-243"><span class="linenos">243</span></a>				<span class="k">raise</span> <span
                class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="BNO055-244"><a href="#BNO055-244"><span class="linenos">244</span></a>					<span
                class="s2">&quot;Timeout waiting for serial acknowledge, is the BNO055 connected?&quot;</span>
</span><span id="BNO055-245"><a href="#BNO055-245"><span class="linenos">245</span></a>				<span
                class="p">)</span>
</span><span id="BNO055-246"><a href="#BNO055-246"><span class="linenos">246</span></a>			<span class="c1"># Stop if there&#39;s no bus error (0xEE07 response) and return response bytes.</span>
</span><span id="BNO055-247"><a href="#BNO055-247"><span class="linenos">247</span></a>			<span
                class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">resp</span><span
                class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span
                class="mh">0xEE</span> <span class="ow">and</span> <span class="n">resp</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span
                class="mh">0x07</span><span class="p">):</span>
</span><span id="BNO055-248"><a href="#BNO055-248"><span class="linenos">248</span></a>				<span class="k">return</span> <span
                class="n">resp</span>
</span><span id="BNO055-249"><a href="#BNO055-249"><span class="linenos">249</span></a>			<span class="c1"># Else there was a bus error so resend, as recommended in UART app</span>
</span><span id="BNO055-250"><a href="#BNO055-250"><span class="linenos">250</span></a>			<span class="c1"># note at:</span>
</span><span id="BNO055-251"><a href="#BNO055-251"><span class="linenos">251</span></a>			<span class="c1">#   http://ae-bst.resource.bosch.com/media/products/dokumente/bno055/BST-BNO055-AN012-00.pdf</span>
</span><span id="BNO055-252"><a href="#BNO055-252"><span class="linenos">252</span></a>			<span class="n">attempts</span> <span
                class="o">+=</span> <span class="mi">1</span>
</span><span id="BNO055-253"><a href="#BNO055-253"><span class="linenos">253</span></a>			<span
                class="k">if</span> <span class="n">attempts</span> <span class="o">&gt;=</span> <span class="n">max_attempts</span><span
                class="p">:</span>
</span><span id="BNO055-254"><a href="#BNO055-254"><span class="linenos">254</span></a>				<span class="k">raise</span> <span
                class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="BNO055-255"><a href="#BNO055-255"><span class="linenos">255</span></a>					<span
                class="s2">&quot;Exceeded maximum attempts to acknowledge serial command without bus error!&quot;</span>
</span><span id="BNO055-256"><a href="#BNO055-256"><span class="linenos">256</span></a>				<span
                class="p">)</span>
</span><span id="BNO055-257"><a href="#BNO055-257"><span class="linenos">257</span></a>
</span><span id="BNO055-258"><a href="#BNO055-258"><span class="linenos">258</span></a>	<span
                class="k">def</span> <span class="nf">_write_bytes</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">address</span><span
                class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">ack</span><span
                class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="BNO055-259"><a href="#BNO055-259"><span class="linenos">259</span></a>		<span class="c1"># Write a list of 8-bit values starting at the provided register address.</span>
</span><span id="BNO055-260"><a href="#BNO055-260"><span class="linenos">260</span></a>		<span class="c1"># Build and send serial register write command.</span>
</span><span id="BNO055-261"><a href="#BNO055-261"><span class="linenos">261</span></a>		<span
                class="n">command</span> <span class="o">=</span> <span class="nb">bytearray</span><span
                class="p">(</span><span class="mi">4</span> <span class="o">+</span> <span class="nb">len</span><span
                class="p">(</span><span class="n">data</span><span class="p">))</span>
</span><span id="BNO055-262"><a href="#BNO055-262"><span class="linenos">262</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                class="o">=</span> <span class="mh">0xAA</span>  <span class="c1"># Start byte</span>
</span><span id="BNO055-263"><a href="#BNO055-263"><span class="linenos">263</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span
                class="o">=</span> <span class="mh">0x00</span>  <span class="c1"># Write</span>
</span><span id="BNO055-264"><a href="#BNO055-264"><span class="linenos">264</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span
                class="o">=</span> <span class="n">address</span> <span class="o">&amp;</span> <span
                class="mh">0xFF</span>
</span><span id="BNO055-265"><a href="#BNO055-265"><span class="linenos">265</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span
                class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span
                class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span>
</span><span id="BNO055-266"><a href="#BNO055-266"><span class="linenos">266</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span> <span
                class="o">=</span> <span class="nb">map</span><span class="p">(</span><span
                class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span
                class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">,</span> <span
                class="n">data</span><span class="p">)</span>
</span><span id="BNO055-267"><a href="#BNO055-267"><span class="linenos">267</span></a>		<span
                class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_serial_send</span><span class="p">(</span><span class="n">command</span><span
                class="p">,</span> <span class="n">ack</span><span class="o">=</span><span class="n">ack</span><span
                class="p">)</span>
</span><span id="BNO055-268"><a href="#BNO055-268"><span class="linenos">268</span></a>		<span class="c1"># Verify register write succeeded if there was an acknowledgement.</span>
</span><span id="BNO055-269"><a href="#BNO055-269"><span class="linenos">269</span></a>		<span class="k">if</span> <span
                class="n">resp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                class="o">!=</span> <span class="mh">0xEE</span> <span class="ow">and</span> <span class="n">resp</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span
                class="mh">0x01</span><span class="p">:</span>
</span><span id="BNO055-270"><a href="#BNO055-270"><span class="linenos">270</span></a>			<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="BNO055-271"><a href="#BNO055-271"><span class="linenos">271</span></a>				<span class="s2">&quot;Register write error: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">resp</span><span class="p">))</span>
</span><span id="BNO055-272"><a href="#BNO055-272"><span class="linenos">272</span></a>			<span
                class="p">)</span>
</span><span id="BNO055-273"><a href="#BNO055-273"><span class="linenos">273</span></a>
</span><span id="BNO055-274"><a href="#BNO055-274"><span class="linenos">274</span></a>	<span
                class="k">def</span> <span class="nf">_write_byte</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">address</span><span
                class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">ack</span><span
                class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="BNO055-275"><a href="#BNO055-275"><span class="linenos">275</span></a>		<span class="c1"># Write an 8-bit value to the provided register address.  If ack is True</span>
</span><span id="BNO055-276"><a href="#BNO055-276"><span class="linenos">276</span></a>		<span class="c1"># then expect an acknowledgement in serial mode, otherwise ignore any</span>
</span><span id="BNO055-277"><a href="#BNO055-277"><span class="linenos">277</span></a>		<span class="c1"># acknowledgement (necessary when resetting the device).</span>
</span><span id="BNO055-278"><a href="#BNO055-278"><span class="linenos">278</span></a>		<span class="c1"># Build and send serial register write command.</span>
</span><span id="BNO055-279"><a href="#BNO055-279"><span class="linenos">279</span></a>		<span
                class="n">command</span> <span class="o">=</span> <span class="nb">bytearray</span><span
                class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="BNO055-280"><a href="#BNO055-280"><span class="linenos">280</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                class="o">=</span> <span class="mh">0xAA</span>  <span class="c1"># Start byte</span>
</span><span id="BNO055-281"><a href="#BNO055-281"><span class="linenos">281</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span
                class="o">=</span> <span class="mh">0x00</span>  <span class="c1"># Write</span>
</span><span id="BNO055-282"><a href="#BNO055-282"><span class="linenos">282</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span
                class="o">=</span> <span class="n">address</span> <span class="o">&amp;</span> <span
                class="mh">0xFF</span>
</span><span id="BNO055-283"><a href="#BNO055-283"><span class="linenos">283</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span
                class="o">=</span> <span class="mi">1</span>  <span class="c1"># Length (1 byte)</span>
</span><span id="BNO055-284"><a href="#BNO055-284"><span class="linenos">284</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span
                class="o">=</span> <span class="n">value</span> <span class="o">&amp;</span> <span
                class="mh">0xFF</span>
</span><span id="BNO055-285"><a href="#BNO055-285"><span class="linenos">285</span></a>		<span
                class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_serial_send</span><span class="p">(</span><span class="n">command</span><span
                class="p">,</span> <span class="n">ack</span><span class="o">=</span><span class="n">ack</span><span
                class="p">)</span>
</span><span id="BNO055-286"><a href="#BNO055-286"><span class="linenos">286</span></a>		<span class="c1"># Verify register write succeeded if there was an acknowledgement.</span>
</span><span id="BNO055-287"><a href="#BNO055-287"><span class="linenos">287</span></a>		<span class="k">if</span> <span
                class="n">ack</span> <span class="ow">and</span> <span class="n">resp</span><span
                class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span
                class="mh">0xEE</span> <span class="ow">and</span> <span class="n">resp</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span
                class="mh">0x01</span><span class="p">:</span>
</span><span id="BNO055-288"><a href="#BNO055-288"><span class="linenos">288</span></a>			<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="BNO055-289"><a href="#BNO055-289"><span class="linenos">289</span></a>				<span class="s2">&quot;Register write error: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">resp</span><span class="p">))</span>
</span><span id="BNO055-290"><a href="#BNO055-290"><span class="linenos">290</span></a>			<span
                class="p">)</span>
</span><span id="BNO055-291"><a href="#BNO055-291"><span class="linenos">291</span></a>
</span><span id="BNO055-292"><a href="#BNO055-292"><span class="linenos">292</span></a>	<span
                class="k">def</span> <span class="nf">_read_bytes</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">address</span><span
                class="p">,</span> <span class="n">length</span><span class="p">):</span>
</span><span id="BNO055-293"><a href="#BNO055-293"><span class="linenos">293</span></a>		<span class="c1"># Read a number of unsigned byte values starting from the provided address.</span>
</span><span id="BNO055-294"><a href="#BNO055-294"><span class="linenos">294</span></a>		<span class="c1"># Build and send serial register read command.</span>
</span><span id="BNO055-295"><a href="#BNO055-295"><span class="linenos">295</span></a>		<span
                class="n">command</span> <span class="o">=</span> <span class="nb">bytearray</span><span
                class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span><span id="BNO055-296"><a href="#BNO055-296"><span class="linenos">296</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                class="o">=</span> <span class="mh">0xAA</span>  <span class="c1"># Start byte</span>
</span><span id="BNO055-297"><a href="#BNO055-297"><span class="linenos">297</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span
                class="o">=</span> <span class="mh">0x01</span>  <span class="c1"># Read</span>
</span><span id="BNO055-298"><a href="#BNO055-298"><span class="linenos">298</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span
                class="o">=</span> <span class="n">address</span> <span class="o">&amp;</span> <span
                class="mh">0xFF</span>
</span><span id="BNO055-299"><a href="#BNO055-299"><span class="linenos">299</span></a>		<span
                class="n">command</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span
                class="o">=</span> <span class="n">length</span> <span class="o">&amp;</span> <span
                class="mh">0xFF</span>
</span><span id="BNO055-300"><a href="#BNO055-300"><span class="linenos">300</span></a>		<span
                class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_serial_send</span><span class="p">(</span><span class="n">command</span><span
                class="p">)</span>
</span><span id="BNO055-301"><a href="#BNO055-301"><span class="linenos">301</span></a>		<span class="c1"># Verify register read succeeded.</span>
</span><span id="BNO055-302"><a href="#BNO055-302"><span class="linenos">302</span></a>		<span class="k">if</span> <span
                class="n">resp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                class="o">!=</span> <span class="mh">0xBB</span><span class="p">:</span>
</span><span id="BNO055-303"><a href="#BNO055-303"><span class="linenos">303</span></a>			<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="BNO055-304"><a href="#BNO055-304"><span class="linenos">304</span></a>				<span class="s2">&quot;Register read error: 0x</span><span
                class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">binascii</span><span class="o">.</span><span
                class="n">hexlify</span><span class="p">(</span><span class="n">resp</span><span class="p">))</span>
</span><span id="BNO055-305"><a href="#BNO055-305"><span class="linenos">305</span></a>			<span
                class="p">)</span>
</span><span id="BNO055-306"><a href="#BNO055-306"><span class="linenos">306</span></a>		<span class="c1"># Read the returned bytes.</span>
</span><span id="BNO055-307"><a href="#BNO055-307"><span class="linenos">307</span></a>		<span
                class="n">length</span> <span class="o">=</span> <span class="n">resp</span><span
                class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="BNO055-308"><a href="#BNO055-308"><span class="linenos">308</span></a>		<span
                class="n">resp</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span
                class="bp">self</span><span class="o">.</span><span class="n">_serial</span><span
                class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">length</span><span
                class="p">))</span>
</span><span id="BNO055-309"><a href="#BNO055-309"><span class="linenos">309</span></a>		<span
                class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span
                class="s2">&quot;Received: 0x</span><span class="si">{0}</span><span class="s2">&quot;</span><span
                class="o">.</span><span class="n">format</span><span class="p">(</span><span
                class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span
                class="p">(</span><span class="n">resp</span><span class="p">)))</span>
</span><span id="BNO055-310"><a href="#BNO055-310"><span class="linenos">310</span></a>		<span class="k">if</span> <span
                class="n">resp</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span
                class="nb">len</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span
                class="o">!=</span> <span class="n">length</span><span class="p">:</span>
</span><span id="BNO055-311"><a href="#BNO055-311"><span class="linenos">311</span></a>			<span
                class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Timeout waiting to read data, is the BNO055 connected?&quot;</span><span
                class="p">)</span>
</span><span id="BNO055-312"><a href="#BNO055-312"><span class="linenos">312</span></a>		<span
                class="k">return</span> <span class="n">resp</span>
</span><span id="BNO055-313"><a href="#BNO055-313"><span class="linenos">313</span></a>
</span><span id="BNO055-314"><a href="#BNO055-314"><span class="linenos">314</span></a>	<span
                class="k">def</span> <span class="nf">_read_byte</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">):</span>
</span><span id="BNO055-315"><a href="#BNO055-315"><span class="linenos">315</span></a>		<span class="c1"># Read an 8-bit unsigned value from the provided register address.</span>
</span><span id="BNO055-316"><a href="#BNO055-316"><span class="linenos">316</span></a>		<span
                class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_bytes</span><span class="p">(</span><span class="n">address</span><span
                class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span
                class="p">]</span>
</span><span id="BNO055-317"><a href="#BNO055-317"><span class="linenos">317</span></a>
</span><span id="BNO055-318"><a href="#BNO055-318"><span class="linenos">318</span></a>	<span
                class="k">def</span> <span class="nf">_read_signed_byte</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">address</span><span class="p">):</span>
</span><span id="BNO055-319"><a href="#BNO055-319"><span class="linenos">319</span></a>		<span class="c1"># Read an 8-bit signed value from the provided register address.</span>
</span><span id="BNO055-320"><a href="#BNO055-320"><span class="linenos">320</span></a>		<span
                class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_byte</span><span class="p">(</span><span class="n">address</span><span
                class="p">)</span>
</span><span id="BNO055-321"><a href="#BNO055-321"><span class="linenos">321</span></a>		<span class="k">if</span> <span
                class="n">data</span> <span class="o">&gt;</span> <span class="mi">127</span><span class="p">:</span>
</span><span id="BNO055-322"><a href="#BNO055-322"><span class="linenos">322</span></a>			<span class="k">return</span> <span
                class="n">data</span> <span class="o">-</span> <span class="mi">256</span>
</span><span id="BNO055-323"><a href="#BNO055-323"><span class="linenos">323</span></a>		<span
                class="k">else</span><span class="p">:</span>
</span><span id="BNO055-324"><a href="#BNO055-324"><span class="linenos">324</span></a>			<span class="k">return</span> <span
                class="n">data</span>
</span><span id="BNO055-325"><a href="#BNO055-325"><span class="linenos">325</span></a>
</span><span id="BNO055-326"><a href="#BNO055-326"><span class="linenos">326</span></a>	<span
                class="k">def</span> <span class="nf">_config_mode</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-327"><a href="#BNO055-327"><span class="linenos">327</span></a>		<span class="c1"># Enter configuration mode.</span>
</span><span id="BNO055-328"><a href="#BNO055-328"><span class="linenos">328</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">set_mode</span><span
                class="p">(</span><span class="n">OPERATION_MODE_CONFIG</span><span class="p">)</span>
</span><span id="BNO055-329"><a href="#BNO055-329"><span class="linenos">329</span></a>
</span><span id="BNO055-330"><a href="#BNO055-330"><span class="linenos">330</span></a>	<span
                class="k">def</span> <span class="nf">_operation_mode</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="BNO055-331"><a href="#BNO055-331"><span class="linenos">331</span></a>		<span class="c1"># Enter operation mode to read sensor data.</span>
</span><span id="BNO055-332"><a href="#BNO055-332"><span class="linenos">332</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">set_mode</span><span
                class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span
                class="p">)</span>
</span><span id="BNO055-333"><a href="#BNO055-333"><span class="linenos">333</span></a>
</span><span id="BNO055-334"><a href="#BNO055-334"><span class="linenos">334</span></a>	<span
                class="k">def</span> <span class="nf">begin</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span
                class="n">OPERATION_MODE_NDOF</span><span class="p">):</span>
</span><span id="BNO055-335"><a href="#BNO055-335"><span class="linenos">335</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Initialize the BNO055 sensor.  Must be called once before any other</span>
</span><span id="BNO055-336"><a href="#BNO055-336"><span class="linenos">336</span></a><span class="sd">		BNO055 library functions.  Will return True if the BNO055 was</span>
</span><span id="BNO055-337"><a href="#BNO055-337"><span class="linenos">337</span></a><span class="sd">		successfully initialized, and False otherwise.</span>
</span><span id="BNO055-338"><a href="#BNO055-338"><span class="linenos">338</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-339"><a href="#BNO055-339"><span class="linenos">339</span></a>		<span class="c1"># Save the desired normal operation mode.</span>
</span><span id="BNO055-340"><a href="#BNO055-340"><span class="linenos">340</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span
                class="o">=</span> <span class="n">mode</span>
</span><span id="BNO055-341"><a href="#BNO055-341"><span class="linenos">341</span></a>		<span class="c1"># First send a thow-away command and ignore any response or I2C errors</span>
</span><span id="BNO055-342"><a href="#BNO055-342"><span class="linenos">342</span></a>		<span class="c1"># just to make sure the BNO is in a good state and ready to accept</span>
</span><span id="BNO055-343"><a href="#BNO055-343"><span class="linenos">343</span></a>		<span class="c1"># commands (this seems to be necessary after a hard power down).</span>
</span><span id="BNO055-344"><a href="#BNO055-344"><span class="linenos">344</span></a>		<span
                class="k">try</span><span class="p">:</span>
</span><span id="BNO055-345"><a href="#BNO055-345"><span class="linenos">345</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_PAGE_ID_ADDR</span><span class="p">,</span> <span class="mi">0</span><span
                class="p">,</span> <span class="n">ack</span><span class="o">=</span><span class="kc">False</span><span
                class="p">)</span>
</span><span id="BNO055-346"><a href="#BNO055-346"><span class="linenos">346</span></a>		<span
                class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
</span><span id="BNO055-347"><a href="#BNO055-347"><span class="linenos">347</span></a>			<span class="c1"># Swallow an IOError that might be raised by an I2C issue.  Only do</span>
</span><span id="BNO055-348"><a href="#BNO055-348"><span class="linenos">348</span></a>			<span class="c1"># this for this very first command to help get the BNO and board&#39;s</span>
</span><span id="BNO055-349"><a href="#BNO055-349"><span class="linenos">349</span></a>			<span class="c1"># I2C into a clear state ready to accept the next commands.</span>
</span><span id="BNO055-350"><a href="#BNO055-350"><span class="linenos">350</span></a>			<span
                class="k">pass</span>
</span><span id="BNO055-351"><a href="#BNO055-351"><span class="linenos">351</span></a>		<span class="c1"># Make sure we&#39;re in config mode and on page 0.</span>
</span><span id="BNO055-352"><a href="#BNO055-352"><span class="linenos">352</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                class="p">()</span>
</span><span id="BNO055-353"><a href="#BNO055-353"><span class="linenos">353</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_PAGE_ID_ADDR</span><span class="p">,</span> <span class="mi">0</span><span
                class="p">)</span>
</span><span id="BNO055-354"><a href="#BNO055-354"><span class="linenos">354</span></a>		<span class="c1"># Check the chip ID</span>
</span><span id="BNO055-355"><a href="#BNO055-355"><span class="linenos">355</span></a>		<span
                class="n">bno_id</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_CHIP_ID_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-356"><a href="#BNO055-356"><span class="linenos">356</span></a>		<span
                class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span
                class="s2">&quot;Read chip ID: 0x</span><span class="si">{0:02X}</span><span
                class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                class="p">(</span><span class="n">bno_id</span><span class="p">))</span>
</span><span id="BNO055-357"><a href="#BNO055-357"><span class="linenos">357</span></a>		<span class="k">if</span> <span
                class="n">bno_id</span> <span class="o">!=</span> <span class="n">BNO055_ID</span><span
                class="p">:</span>
</span><span id="BNO055-358"><a href="#BNO055-358"><span class="linenos">358</span></a>			<span class="k">return</span> <span
                class="kc">False</span>
</span><span id="BNO055-359"><a href="#BNO055-359"><span class="linenos">359</span></a>		<span class="c1"># Reset the device.</span>
</span><span id="BNO055-360"><a href="#BNO055-360"><span class="linenos">360</span></a>		<span class="c1"># Else use the reset command.  Note that ack=False is sent because</span>
</span><span id="BNO055-361"><a href="#BNO055-361"><span class="linenos">361</span></a>		<span class="c1"># the chip doesn&#39;t seem to ack a reset in serial mode (by design?).</span>
</span><span id="BNO055-362"><a href="#BNO055-362"><span class="linenos">362</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span class="mh">0x20</span><span
                class="p">,</span> <span class="n">ack</span><span class="o">=</span><span class="kc">False</span><span
                class="p">)</span>
</span><span id="BNO055-363"><a href="#BNO055-363"><span class="linenos">363</span></a>		<span class="c1"># Wait 650ms after reset for chip to be ready (as suggested</span>
</span><span id="BNO055-364"><a href="#BNO055-364"><span class="linenos">364</span></a>		<span class="c1"># in datasheet).</span>
</span><span id="BNO055-365"><a href="#BNO055-365"><span class="linenos">365</span></a>		<span
                class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span
                class="mf">0.65</span><span class="p">)</span>
</span><span id="BNO055-366"><a href="#BNO055-366"><span class="linenos">366</span></a>		<span class="c1"># Set to normal power mode.</span>
</span><span id="BNO055-367"><a href="#BNO055-367"><span class="linenos">367</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_PWR_MODE_ADDR</span><span class="p">,</span> <span
                class="n">POWER_MODE_NORMAL</span><span class="p">)</span>
</span><span id="BNO055-368"><a href="#BNO055-368"><span class="linenos">368</span></a>		<span class="c1"># Default to internal oscillator.</span>
</span><span id="BNO055-369"><a href="#BNO055-369"><span class="linenos">369</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span class="mh">0x0</span><span
                class="p">)</span>
</span><span id="BNO055-370"><a href="#BNO055-370"><span class="linenos">370</span></a>		<span class="c1"># Enter normal operation mode.</span>
</span><span id="BNO055-371"><a href="#BNO055-371"><span class="linenos">371</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span
                class="p">()</span>
</span><span id="BNO055-372"><a href="#BNO055-372"><span class="linenos">372</span></a>		<span
                class="k">return</span> <span class="kc">True</span>
</span><span id="BNO055-373"><a href="#BNO055-373"><span class="linenos">373</span></a>
</span><span id="BNO055-374"><a href="#BNO055-374"><span class="linenos">374</span></a>	<span
                class="k">def</span> <span class="nf">set_mode</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
</span><span id="BNO055-375"><a href="#BNO055-375"><span class="linenos">375</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Set operation mode for BNO055 sensor.&quot;&quot;&quot;</span>
</span><span id="BNO055-376"><a href="#BNO055-376"><span class="linenos">376</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_OPR_MODE_ADDR</span><span class="p">,</span> <span class="n">mode</span> <span
                class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
</span><span id="BNO055-377"><a href="#BNO055-377"><span class="linenos">377</span></a>		<span class="c1"># Delay for 30 milliseconds (datsheet recommends 19ms, but a little more</span>
</span><span id="BNO055-378"><a href="#BNO055-378"><span class="linenos">378</span></a>		<span class="c1"># can&#39;t hurt and the kernel is going to spend some unknown amount of time</span>
</span><span id="BNO055-379"><a href="#BNO055-379"><span class="linenos">379</span></a>		<span
                class="c1"># too).</span>
</span><span id="BNO055-380"><a href="#BNO055-380"><span class="linenos">380</span></a>		<span
                class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span
                class="mf">0.03</span><span class="p">)</span>
</span><span id="BNO055-381"><a href="#BNO055-381"><span class="linenos">381</span></a>
</span><span id="BNO055-382"><a href="#BNO055-382"><span class="linenos">382</span></a>	<span
                class="k">def</span> <span class="nf">get_revision</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-383"><a href="#BNO055-383"><span class="linenos">383</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return a tuple with revision information about the BNO055 chip.  Will</span>
</span><span id="BNO055-384"><a href="#BNO055-384"><span class="linenos">384</span></a><span class="sd">		return 5 values:</span>
</span><span id="BNO055-385"><a href="#BNO055-385"><span class="linenos">385</span></a><span class="sd">		  - Software revision</span>
</span><span id="BNO055-386"><a href="#BNO055-386"><span class="linenos">386</span></a><span class="sd">		  - Bootloader version</span>
</span><span id="BNO055-387"><a href="#BNO055-387"><span class="linenos">387</span></a><span class="sd">		  - Accelerometer ID</span>
</span><span id="BNO055-388"><a href="#BNO055-388"><span class="linenos">388</span></a><span class="sd">		  - Magnetometer ID</span>
</span><span id="BNO055-389"><a href="#BNO055-389"><span class="linenos">389</span></a><span class="sd">		  - Gyro ID</span>
</span><span id="BNO055-390"><a href="#BNO055-390"><span class="linenos">390</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-391"><a href="#BNO055-391"><span class="linenos">391</span></a>		<span class="c1"># Read revision values.</span>
</span><span id="BNO055-392"><a href="#BNO055-392"><span class="linenos">392</span></a>		<span
                class="n">accel</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_ACCEL_REV_ID_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-393"><a href="#BNO055-393"><span class="linenos">393</span></a>		<span
                class="n">mag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_MAG_REV_ID_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-394"><a href="#BNO055-394"><span class="linenos">394</span></a>		<span
                class="n">gyro</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_GYRO_REV_ID_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-395"><a href="#BNO055-395"><span class="linenos">395</span></a>		<span class="n">bl</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_BL_REV_ID_ADDR</span><span class="p">)</span>
</span><span id="BNO055-396"><a href="#BNO055-396"><span class="linenos">396</span></a>		<span
                class="n">sw_lsb</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SW_REV_ID_LSB_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-397"><a href="#BNO055-397"><span class="linenos">397</span></a>		<span
                class="n">sw_msb</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SW_REV_ID_MSB_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-398"><a href="#BNO055-398"><span class="linenos">398</span></a>		<span class="n">sw</span> <span
                class="o">=</span> <span class="p">((</span><span class="n">sw_msb</span> <span
                class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span
                class="o">|</span> <span class="n">sw_lsb</span><span class="p">)</span> <span
                class="o">&amp;</span> <span class="mh">0xFFFF</span>
</span><span id="BNO055-399"><a href="#BNO055-399"><span class="linenos">399</span></a>		<span class="c1"># Return the results as a tuple of all 5 values.</span>
</span><span id="BNO055-400"><a href="#BNO055-400"><span class="linenos">400</span></a>		<span
                class="k">return</span> <span class="p">(</span><span class="n">sw</span><span class="p">,</span> <span
                class="n">bl</span><span class="p">,</span> <span class="n">accel</span><span class="p">,</span> <span
                class="n">mag</span><span class="p">,</span> <span class="n">gyro</span><span class="p">)</span>
</span><span id="BNO055-401"><a href="#BNO055-401"><span class="linenos">401</span></a>
</span><span id="BNO055-402"><a href="#BNO055-402"><span class="linenos">402</span></a>	<span
                class="k">def</span> <span class="nf">set_external_crystal</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">external_crystal</span><span
                class="p">):</span>
</span><span id="BNO055-403"><a href="#BNO055-403"><span class="linenos">403</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Set if an external crystal is being used by passing True, otherwise</span>
</span><span id="BNO055-404"><a href="#BNO055-404"><span class="linenos">404</span></a><span class="sd">		use the internal oscillator by passing False (the default behavior).</span>
</span><span id="BNO055-405"><a href="#BNO055-405"><span class="linenos">405</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-406"><a href="#BNO055-406"><span class="linenos">406</span></a>		<span class="c1"># Switch to configuration mode.</span>
</span><span id="BNO055-407"><a href="#BNO055-407"><span class="linenos">407</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                class="p">()</span>
</span><span id="BNO055-408"><a href="#BNO055-408"><span class="linenos">408</span></a>		<span class="c1"># Set the clock bit appropriately in the SYS_TRIGGER register.</span>
</span><span id="BNO055-409"><a href="#BNO055-409"><span class="linenos">409</span></a>		<span class="k">if</span> <span
                class="n">external_crystal</span><span class="p">:</span>
</span><span id="BNO055-410"><a href="#BNO055-410"><span class="linenos">410</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span class="mh">0x80</span><span
                class="p">)</span>
</span><span id="BNO055-411"><a href="#BNO055-411"><span class="linenos">411</span></a>		<span
                class="k">else</span><span class="p">:</span>
</span><span id="BNO055-412"><a href="#BNO055-412"><span class="linenos">412</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span class="mh">0x00</span><span
                class="p">)</span>
</span><span id="BNO055-413"><a href="#BNO055-413"><span class="linenos">413</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="BNO055-414"><a href="#BNO055-414"><span class="linenos">414</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span
                class="p">()</span>
</span><span id="BNO055-415"><a href="#BNO055-415"><span class="linenos">415</span></a>
</span><span id="BNO055-416"><a href="#BNO055-416"><span class="linenos">416</span></a>	<span
                class="k">def</span> <span class="nf">get_system_status</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">run_self_test</span><span class="o">=</span><span
                class="kc">True</span><span class="p">):</span>
</span><span id="BNO055-417"><a href="#BNO055-417"><span class="linenos">417</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return a tuple with status information.  Three values will be returned:</span>
</span><span id="BNO055-418"><a href="#BNO055-418"><span class="linenos">418</span></a><span class="sd">		  - System status register value with the following meaning:</span>
</span><span id="BNO055-419"><a href="#BNO055-419"><span class="linenos">419</span></a><span class="sd">		      0 = Idle</span>
</span><span id="BNO055-420"><a href="#BNO055-420"><span class="linenos">420</span></a><span class="sd">		      1 = System Error</span>
</span><span id="BNO055-421"><a href="#BNO055-421"><span class="linenos">421</span></a><span class="sd">		      2 = Initializing Peripherals</span>
</span><span id="BNO055-422"><a href="#BNO055-422"><span class="linenos">422</span></a><span class="sd">		      3 = System Initialization</span>
</span><span id="BNO055-423"><a href="#BNO055-423"><span class="linenos">423</span></a><span class="sd">		      4 = Executing Self-Test</span>
</span><span id="BNO055-424"><a href="#BNO055-424"><span class="linenos">424</span></a><span class="sd">		      5 = Sensor fusion algorithm running</span>
</span><span id="BNO055-425"><a href="#BNO055-425"><span class="linenos">425</span></a><span class="sd">		      6 = System running without fusion algorithms</span>
</span><span id="BNO055-426"><a href="#BNO055-426"><span class="linenos">426</span></a><span class="sd">		  - Self test result register value with the following meaning:</span>
</span><span id="BNO055-427"><a href="#BNO055-427"><span class="linenos">427</span></a><span class="sd">		      Bit value: 1 = test passed, 0 = test failed</span>
</span><span id="BNO055-428"><a href="#BNO055-428"><span class="linenos">428</span></a><span class="sd">		      Bit 0 = Accelerometer self test</span>
</span><span id="BNO055-429"><a href="#BNO055-429"><span class="linenos">429</span></a><span class="sd">		      Bit 1 = Magnetometer self test</span>
</span><span id="BNO055-430"><a href="#BNO055-430"><span class="linenos">430</span></a><span class="sd">		      Bit 2 = Gyroscope self test</span>
</span><span id="BNO055-431"><a href="#BNO055-431"><span class="linenos">431</span></a><span class="sd">		      Bit 3 = MCU self test</span>
</span><span id="BNO055-432"><a href="#BNO055-432"><span class="linenos">432</span></a><span class="sd">		      Value of 0x0F = all good!</span>
</span><span id="BNO055-433"><a href="#BNO055-433"><span class="linenos">433</span></a><span class="sd">		  - System error register value with the following meaning:</span>
</span><span id="BNO055-434"><a href="#BNO055-434"><span class="linenos">434</span></a><span class="sd">		      0 = No error</span>
</span><span id="BNO055-435"><a href="#BNO055-435"><span class="linenos">435</span></a><span class="sd">		      1 = Peripheral initialization error</span>
</span><span id="BNO055-436"><a href="#BNO055-436"><span class="linenos">436</span></a><span class="sd">		      2 = System initialization error</span>
</span><span id="BNO055-437"><a href="#BNO055-437"><span class="linenos">437</span></a><span class="sd">		      3 = Self test result failed</span>
</span><span id="BNO055-438"><a href="#BNO055-438"><span class="linenos">438</span></a><span class="sd">		      4 = Register map value out of range</span>
</span><span id="BNO055-439"><a href="#BNO055-439"><span class="linenos">439</span></a><span class="sd">		      5 = Register map address out of range</span>
</span><span id="BNO055-440"><a href="#BNO055-440"><span class="linenos">440</span></a><span class="sd">		      6 = Register map write error</span>
</span><span id="BNO055-441"><a href="#BNO055-441"><span class="linenos">441</span></a><span class="sd">		      7 = BNO low power mode not available for selected operation mode</span>
</span><span id="BNO055-442"><a href="#BNO055-442"><span class="linenos">442</span></a><span class="sd">		      8 = Accelerometer power mode not available</span>
</span><span id="BNO055-443"><a href="#BNO055-443"><span class="linenos">443</span></a><span class="sd">		      9 = Fusion algorithm configuration error</span>
</span><span id="BNO055-444"><a href="#BNO055-444"><span class="linenos">444</span></a><span class="sd">		     10 = Sensor configuration error</span>
</span><span id="BNO055-445"><a href="#BNO055-445"><span class="linenos">445</span></a>
</span><span id="BNO055-446"><a href="#BNO055-446"><span class="linenos">446</span></a><span class="sd">		If run_self_test is passed in as False then no self test is performed and</span>
</span><span id="BNO055-447"><a href="#BNO055-447"><span class="linenos">447</span></a><span class="sd">		None will be returned for the self test result.  Note that running a</span>
</span><span id="BNO055-448"><a href="#BNO055-448"><span class="linenos">448</span></a><span class="sd">		self test requires going into config mode which will stop the fusion</span>
</span><span id="BNO055-449"><a href="#BNO055-449"><span class="linenos">449</span></a><span class="sd">		engine from running.</span>
</span><span id="BNO055-450"><a href="#BNO055-450"><span class="linenos">450</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-451"><a href="#BNO055-451"><span class="linenos">451</span></a>		<span
                class="n">self_test</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="BNO055-452"><a href="#BNO055-452"><span class="linenos">452</span></a>		<span class="k">if</span> <span
                class="n">run_self_test</span><span class="p">:</span>
</span><span id="BNO055-453"><a href="#BNO055-453"><span class="linenos">453</span></a>			<span class="c1"># Switch to configuration mode if running self test.</span>
</span><span id="BNO055-454"><a href="#BNO055-454"><span class="linenos">454</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                class="p">()</span>
</span><span id="BNO055-455"><a href="#BNO055-455"><span class="linenos">455</span></a>			<span class="c1"># Perform a self test.</span>
</span><span id="BNO055-456"><a href="#BNO055-456"><span class="linenos">456</span></a>			<span class="n">sys_trigger</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">)</span>
</span><span id="BNO055-457"><a href="#BNO055-457"><span class="linenos">457</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span
                class="n">sys_trigger</span> <span class="o">|</span> <span class="mh">0x1</span><span
                class="p">)</span>
</span><span id="BNO055-458"><a href="#BNO055-458"><span class="linenos">458</span></a>			<span class="c1"># Wait for self test to finish.</span>
</span><span id="BNO055-459"><a href="#BNO055-459"><span class="linenos">459</span></a>			<span
                class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span
                class="mf">1.0</span><span class="p">)</span>
</span><span id="BNO055-460"><a href="#BNO055-460"><span class="linenos">460</span></a>			<span class="c1"># Read test result.</span>
</span><span id="BNO055-461"><a href="#BNO055-461"><span class="linenos">461</span></a>			<span class="n">self_test</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_SELFTEST_RESULT_ADDR</span><span class="p">)</span>
</span><span id="BNO055-462"><a href="#BNO055-462"><span class="linenos">462</span></a>			<span class="c1"># Go back to operation mode.</span>
</span><span id="BNO055-463"><a href="#BNO055-463"><span class="linenos">463</span></a>			<span
                class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span
                class="p">()</span>
</span><span id="BNO055-464"><a href="#BNO055-464"><span class="linenos">464</span></a>		<span class="c1"># Now read status and error registers.</span>
</span><span id="BNO055-465"><a href="#BNO055-465"><span class="linenos">465</span></a>		<span
                class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SYS_STAT_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-466"><a href="#BNO055-466"><span class="linenos">466</span></a>		<span
                class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span
                class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SYS_ERR_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-467"><a href="#BNO055-467"><span class="linenos">467</span></a>		<span class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="BNO055-468"><a href="#BNO055-468"><span class="linenos">468</span></a>		<span
                class="k">return</span> <span class="p">(</span><span class="n">status</span><span
                class="p">,</span> <span class="n">self_test</span><span class="p">,</span> <span class="n">error</span><span
                class="p">)</span>
</span><span id="BNO055-469"><a href="#BNO055-469"><span class="linenos">469</span></a>
</span><span id="BNO055-470"><a href="#BNO055-470"><span class="linenos">470</span></a>	<span
                class="k">def</span> <span class="nf">get_calibration_status</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-471"><a href="#BNO055-471"><span class="linenos">471</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Read the calibration status of the sensors and return a 4 tuple with</span>
</span><span id="BNO055-472"><a href="#BNO055-472"><span class="linenos">472</span></a><span class="sd">		calibration status as follows:</span>
</span><span id="BNO055-473"><a href="#BNO055-473"><span class="linenos">473</span></a><span class="sd">		  - System, 3=fully calibrated, 0=not calibrated</span>
</span><span id="BNO055-474"><a href="#BNO055-474"><span class="linenos">474</span></a><span class="sd">		  - Gyroscope, 3=fully calibrated, 0=not calibrated</span>
</span><span id="BNO055-475"><a href="#BNO055-475"><span class="linenos">475</span></a><span class="sd">		  - Accelerometer, 3=fully calibrated, 0=not calibrated</span>
</span><span id="BNO055-476"><a href="#BNO055-476"><span class="linenos">476</span></a><span class="sd">		  - Magnetometer, 3=fully calibrated, 0=not calibrated</span>
</span><span id="BNO055-477"><a href="#BNO055-477"><span class="linenos">477</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-478"><a href="#BNO055-478"><span class="linenos">478</span></a>		<span class="c1"># Return the calibration status register value.</span>
</span><span id="BNO055-479"><a href="#BNO055-479"><span class="linenos">479</span></a>		<span class="n">cal_status</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_CALIB_STAT_ADDR</span><span class="p">)</span>
</span><span id="BNO055-480"><a href="#BNO055-480"><span class="linenos">480</span></a>		<span
                class="n">sys</span> <span class="o">=</span> <span class="p">(</span><span class="n">cal_status</span> <span
                class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="BNO055-481"><a href="#BNO055-481"><span class="linenos">481</span></a>		<span
                class="n">gyro</span> <span class="o">=</span> <span class="p">(</span><span class="n">cal_status</span> <span
                class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="BNO055-482"><a href="#BNO055-482"><span class="linenos">482</span></a>		<span
                class="n">accel</span> <span class="o">=</span> <span class="p">(</span><span
                class="n">cal_status</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span
                class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055-483"><a href="#BNO055-483"><span class="linenos">483</span></a>		<span
                class="n">mag</span> <span class="o">=</span> <span class="n">cal_status</span> <span
                class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055-484"><a href="#BNO055-484"><span class="linenos">484</span></a>		<span class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="BNO055-485"><a href="#BNO055-485"><span class="linenos">485</span></a>		<span
                class="k">return</span> <span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span
                class="n">gyro</span><span class="p">,</span> <span class="n">accel</span><span class="p">,</span> <span
                class="n">mag</span><span class="p">)</span>
</span><span id="BNO055-486"><a href="#BNO055-486"><span class="linenos">486</span></a>
</span><span id="BNO055-487"><a href="#BNO055-487"><span class="linenos">487</span></a>	<span
                class="k">def</span> <span class="nf">get_calibration</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="BNO055-488"><a href="#BNO055-488"><span class="linenos">488</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the sensor&#39;s calibration data and return it as an array of</span>
</span><span id="BNO055-489"><a href="#BNO055-489"><span class="linenos">489</span></a><span class="sd">		22 bytes. Can be saved and then reloaded with the set_calibration function</span>
</span><span id="BNO055-490"><a href="#BNO055-490"><span class="linenos">490</span></a><span class="sd">		to quickly calibrate from a previously calculated set of calibration data.</span>
</span><span id="BNO055-491"><a href="#BNO055-491"><span class="linenos">491</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-492"><a href="#BNO055-492"><span class="linenos">492</span></a>		<span class="c1"># Switch to configuration mode, as mentioned in section 3.10.4 of datasheet.</span>
</span><span id="BNO055-493"><a href="#BNO055-493"><span class="linenos">493</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                class="p">()</span>
</span><span id="BNO055-494"><a href="#BNO055-494"><span class="linenos">494</span></a>		<span class="c1"># Read the 22 bytes of calibration data and convert it to a list (from</span>
</span><span id="BNO055-495"><a href="#BNO055-495"><span class="linenos">495</span></a>		<span class="c1"># a bytearray) so it&#39;s more easily serialized should the caller want to</span>
</span><span id="BNO055-496"><a href="#BNO055-496"><span class="linenos">496</span></a>		<span class="c1"># store it.</span>
</span><span id="BNO055-497"><a href="#BNO055-497"><span class="linenos">497</span></a>		<span
                class="n">cal_data</span> <span class="o">=</span> <span class="nb">list</span><span
                class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_read_bytes</span><span
                class="p">(</span><span class="n">ACCEL_OFFSET_X_LSB_ADDR</span><span class="p">,</span> <span
                class="mi">22</span><span class="p">))</span>
</span><span id="BNO055-498"><a href="#BNO055-498"><span class="linenos">498</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="BNO055-499"><a href="#BNO055-499"><span class="linenos">499</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span
                class="p">()</span>
</span><span id="BNO055-500"><a href="#BNO055-500"><span class="linenos">500</span></a>		<span
                class="k">return</span> <span class="n">cal_data</span>
</span><span id="BNO055-501"><a href="#BNO055-501"><span class="linenos">501</span></a>
</span><span id="BNO055-502"><a href="#BNO055-502"><span class="linenos">502</span></a>	<span
                class="k">def</span> <span class="nf">set_calibration</span><span class="p">(</span><span class="bp">self</span><span
                class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="BNO055-503"><a href="#BNO055-503"><span class="linenos">503</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Set the sensor&#39;s calibration data using a list of 22 bytes that</span>
</span><span id="BNO055-504"><a href="#BNO055-504"><span class="linenos">504</span></a><span class="sd">		represent the sensor offsets and calibration data.  This data should be</span>
</span><span id="BNO055-505"><a href="#BNO055-505"><span class="linenos">505</span></a><span class="sd">		a value that was previously retrieved with get_calibration (and then</span>
</span><span id="BNO055-506"><a href="#BNO055-506"><span class="linenos">506</span></a><span class="sd">		perhaps persisted to disk or other location until needed again).</span>
</span><span id="BNO055-507"><a href="#BNO055-507"><span class="linenos">507</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-508"><a href="#BNO055-508"><span class="linenos">508</span></a>		<span class="c1"># Check that 22 bytes were passed in with calibration data.</span>
</span><span id="BNO055-509"><a href="#BNO055-509"><span class="linenos">509</span></a>		<span class="k">if</span> <span
                class="n">data</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span
                class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span
                class="o">!=</span> <span class="mi">22</span><span class="p">:</span>
</span><span id="BNO055-510"><a href="#BNO055-510"><span class="linenos">510</span></a>			<span
                class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Expected a list of 22 bytes for calibration data.&quot;</span><span
                class="p">)</span>
</span><span id="BNO055-511"><a href="#BNO055-511"><span class="linenos">511</span></a>		<span class="c1"># Switch to configuration mode, as mentioned in section 3.10.4 of datasheet.</span>
</span><span id="BNO055-512"><a href="#BNO055-512"><span class="linenos">512</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                class="p">()</span>
</span><span id="BNO055-513"><a href="#BNO055-513"><span class="linenos">513</span></a>		<span class="c1"># Set the 22 bytes of calibration data.</span>
</span><span id="BNO055-514"><a href="#BNO055-514"><span class="linenos">514</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_bytes</span><span
                class="p">(</span><span class="n">ACCEL_OFFSET_X_LSB_ADDR</span><span class="p">,</span> <span
                class="n">data</span><span class="p">)</span>
</span><span id="BNO055-515"><a href="#BNO055-515"><span class="linenos">515</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="BNO055-516"><a href="#BNO055-516"><span class="linenos">516</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span
                class="p">()</span>
</span><span id="BNO055-517"><a href="#BNO055-517"><span class="linenos">517</span></a>
</span><span id="BNO055-518"><a href="#BNO055-518"><span class="linenos">518</span></a>	<span
                class="k">def</span> <span class="nf">get_axis_remap</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-519"><a href="#BNO055-519"><span class="linenos">519</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return a tuple with the axis remap register values.  This will return</span>
</span><span id="BNO055-520"><a href="#BNO055-520"><span class="linenos">520</span></a><span class="sd">		6 values with the following meaning:</span>
</span><span id="BNO055-521"><a href="#BNO055-521"><span class="linenos">521</span></a><span class="sd">		  - X axis remap (a value of AXIS_REMAP_X, AXIS_REMAP_Y, or AXIS_REMAP_Z.</span>
</span><span id="BNO055-522"><a href="#BNO055-522"><span class="linenos">522</span></a><span class="sd">		                  which indicates that the physical X axis of the chip</span>
</span><span id="BNO055-523"><a href="#BNO055-523"><span class="linenos">523</span></a><span class="sd">		                  is remapped to a different axis)</span>
</span><span id="BNO055-524"><a href="#BNO055-524"><span class="linenos">524</span></a><span class="sd">		  - Y axis remap (see above)</span>
</span><span id="BNO055-525"><a href="#BNO055-525"><span class="linenos">525</span></a><span class="sd">		  - Z axis remap (see above)</span>
</span><span id="BNO055-526"><a href="#BNO055-526"><span class="linenos">526</span></a><span class="sd">		  - X axis sign (a value of AXIS_REMAP_POSITIVE or AXIS_REMAP_NEGATIVE</span>
</span><span id="BNO055-527"><a href="#BNO055-527"><span class="linenos">527</span></a><span class="sd">		                 which indicates if the X axis values should be positive/</span>
</span><span id="BNO055-528"><a href="#BNO055-528"><span class="linenos">528</span></a><span class="sd">		                 normal or negative/inverted.  The default is positive.)</span>
</span><span id="BNO055-529"><a href="#BNO055-529"><span class="linenos">529</span></a><span class="sd">		  - Y axis sign (see above)</span>
</span><span id="BNO055-530"><a href="#BNO055-530"><span class="linenos">530</span></a><span class="sd">		  - Z axis sign (see above)</span>
</span><span id="BNO055-531"><a href="#BNO055-531"><span class="linenos">531</span></a>
</span><span id="BNO055-532"><a href="#BNO055-532"><span class="linenos">532</span></a><span class="sd">		Note that by default the axis orientation of the BNO chip looks like</span>
</span><span id="BNO055-533"><a href="#BNO055-533"><span class="linenos">533</span></a><span class="sd">		the following (taken from section 3.4, page 24 of the datasheet).  Notice</span>
</span><span id="BNO055-534"><a href="#BNO055-534"><span class="linenos">534</span></a><span class="sd">		the dot in the corner that corresponds to the dot on the BNO chip:</span>
</span><span id="BNO055-535"><a href="#BNO055-535"><span class="linenos">535</span></a>
</span><span id="BNO055-536"><a href="#BNO055-536"><span class="linenos">536</span></a><span class="sd">		                   | Z axis</span>
</span><span id="BNO055-537"><a href="#BNO055-537"><span class="linenos">537</span></a><span class="sd">		                   |</span>
</span><span id="BNO055-538"><a href="#BNO055-538"><span class="linenos">538</span></a><span class="sd">		                   |   / X axis</span>
</span><span id="BNO055-539"><a href="#BNO055-539"><span class="linenos">539</span></a><span class="sd">		               ____|__/____</span>
</span><span id="BNO055-540"><a href="#BNO055-540"><span class="linenos">540</span></a><span class="sd">		  Y axis     / *   | /    /|</span>
</span><span id="BNO055-541"><a href="#BNO055-541"><span class="linenos">541</span></a><span class="sd">		  _________ /______|/    //</span>
</span><span id="BNO055-542"><a href="#BNO055-542"><span class="linenos">542</span></a><span class="sd">		           /___________ //</span>
</span><span id="BNO055-543"><a href="#BNO055-543"><span class="linenos">543</span></a><span class="sd">		          |____________|/</span>
</span><span id="BNO055-544"><a href="#BNO055-544"><span class="linenos">544</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-545"><a href="#BNO055-545"><span class="linenos">545</span></a>		<span class="c1"># Get the axis remap register value.</span>
</span><span id="BNO055-546"><a href="#BNO055-546"><span class="linenos">546</span></a>		<span class="n">map_config</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_AXIS_MAP_CONFIG_ADDR</span><span class="p">)</span>
</span><span id="BNO055-547"><a href="#BNO055-547"><span class="linenos">547</span></a>		<span class="n">z</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">map_config</span> <span
                class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="BNO055-548"><a href="#BNO055-548"><span class="linenos">548</span></a>		<span class="n">y</span> <span
                class="o">=</span> <span class="p">(</span><span class="n">map_config</span> <span
                class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="BNO055-549"><a href="#BNO055-549"><span class="linenos">549</span></a>		<span class="n">x</span> <span
                class="o">=</span> <span class="n">map_config</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span>
</span><span id="BNO055-550"><a href="#BNO055-550"><span class="linenos">550</span></a>		<span class="c1"># Get the axis remap sign register value.</span>
</span><span id="BNO055-551"><a href="#BNO055-551"><span class="linenos">551</span></a>		<span class="n">sign_config</span> <span
                class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_byte</span><span
                class="p">(</span><span class="n">BNO055_AXIS_MAP_SIGN_ADDR</span><span class="p">)</span>
</span><span id="BNO055-552"><a href="#BNO055-552"><span class="linenos">552</span></a>		<span
                class="n">x_sign</span> <span class="o">=</span> <span class="p">(</span><span
                class="n">sign_config</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span
                class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x01</span>
</span><span id="BNO055-553"><a href="#BNO055-553"><span class="linenos">553</span></a>		<span
                class="n">y_sign</span> <span class="o">=</span> <span class="p">(</span><span
                class="n">sign_config</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span
                class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x01</span>
</span><span id="BNO055-554"><a href="#BNO055-554"><span class="linenos">554</span></a>		<span
                class="n">z_sign</span> <span class="o">=</span> <span class="n">sign_config</span> <span class="o">&amp;</span> <span
                class="mh">0x01</span>
</span><span id="BNO055-555"><a href="#BNO055-555"><span class="linenos">555</span></a>		<span class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="BNO055-556"><a href="#BNO055-556"><span class="linenos">556</span></a>		<span
                class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span
                class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span
                class="n">x_sign</span><span class="p">,</span> <span class="n">y_sign</span><span
                class="p">,</span> <span class="n">z_sign</span><span class="p">)</span>
</span><span id="BNO055-557"><a href="#BNO055-557"><span class="linenos">557</span></a>
</span><span id="BNO055-558"><a href="#BNO055-558"><span class="linenos">558</span></a>	<span
                class="k">def</span> <span class="nf">set_axis_remap</span><span class="p">(</span>
</span><span id="BNO055-559"><a href="#BNO055-559"><span class="linenos">559</span></a>		<span
                class="bp">self</span><span class="p">,</span>
</span><span id="BNO055-560"><a href="#BNO055-560"><span class="linenos">560</span></a>		<span
                class="n">x</span><span class="p">,</span>
</span><span id="BNO055-561"><a href="#BNO055-561"><span class="linenos">561</span></a>		<span
                class="n">y</span><span class="p">,</span>
</span><span id="BNO055-562"><a href="#BNO055-562"><span class="linenos">562</span></a>		<span
                class="n">z</span><span class="p">,</span>
</span><span id="BNO055-563"><a href="#BNO055-563"><span class="linenos">563</span></a>		<span
                class="n">x_sign</span><span class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span
                class="p">,</span>
</span><span id="BNO055-564"><a href="#BNO055-564"><span class="linenos">564</span></a>		<span
                class="n">y_sign</span><span class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span
                class="p">,</span>
</span><span id="BNO055-565"><a href="#BNO055-565"><span class="linenos">565</span></a>		<span
                class="n">z_sign</span><span class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span
                class="p">,</span>
</span><span id="BNO055-566"><a href="#BNO055-566"><span class="linenos">566</span></a>	<span class="p">):</span>
</span><span id="BNO055-567"><a href="#BNO055-567"><span class="linenos">567</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Set axis remap for each axis.  The x, y, z parameter values should</span>
</span><span id="BNO055-568"><a href="#BNO055-568"><span class="linenos">568</span></a><span class="sd">		be set to one of AXIS_REMAP_X, AXIS_REMAP_Y, or AXIS_REMAP_Z and will</span>
</span><span id="BNO055-569"><a href="#BNO055-569"><span class="linenos">569</span></a><span class="sd">		change the BNO&#39;s axis to represent another axis.  Note that two axises</span>
</span><span id="BNO055-570"><a href="#BNO055-570"><span class="linenos">570</span></a><span class="sd">		cannot be mapped to the same axis, so the x, y, z params should be a</span>
</span><span id="BNO055-571"><a href="#BNO055-571"><span class="linenos">571</span></a><span class="sd">		unique combination of AXIS_REMAP_X, AXIS_REMAP_Y, AXIS_REMAP_Z values.</span>
</span><span id="BNO055-572"><a href="#BNO055-572"><span class="linenos">572</span></a>
</span><span id="BNO055-573"><a href="#BNO055-573"><span class="linenos">573</span></a><span class="sd">		The x_sign, y_sign, z_sign values represent if the axis should be positive</span>
</span><span id="BNO055-574"><a href="#BNO055-574"><span class="linenos">574</span></a><span class="sd">		or negative (inverted).</span>
</span><span id="BNO055-575"><a href="#BNO055-575"><span class="linenos">575</span></a>
</span><span id="BNO055-576"><a href="#BNO055-576"><span class="linenos">576</span></a><span class="sd">		See the get_axis_remap documentation for information on the orientation</span>
</span><span id="BNO055-577"><a href="#BNO055-577"><span class="linenos">577</span></a><span class="sd">		of the axises on the chip, and consult section 3.4 of the datasheet.</span>
</span><span id="BNO055-578"><a href="#BNO055-578"><span class="linenos">578</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-579"><a href="#BNO055-579"><span class="linenos">579</span></a>		<span class="c1"># Switch to configuration mode.</span>
</span><span id="BNO055-580"><a href="#BNO055-580"><span class="linenos">580</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                class="p">()</span>
</span><span id="BNO055-581"><a href="#BNO055-581"><span class="linenos">581</span></a>		<span class="c1"># Set the axis remap register value.</span>
</span><span id="BNO055-582"><a href="#BNO055-582"><span class="linenos">582</span></a>		<span class="n">map_config</span> <span
                class="o">=</span> <span class="mh">0x00</span>
</span><span id="BNO055-583"><a href="#BNO055-583"><span class="linenos">583</span></a>		<span class="n">map_config</span> <span
                class="o">|=</span> <span class="p">(</span><span class="n">z</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span>
</span><span id="BNO055-584"><a href="#BNO055-584"><span class="linenos">584</span></a>		<span class="n">map_config</span> <span
                class="o">|=</span> <span class="p">(</span><span class="n">y</span> <span class="o">&amp;</span> <span
                class="mh">0x03</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span>
</span><span id="BNO055-585"><a href="#BNO055-585"><span class="linenos">585</span></a>		<span class="n">map_config</span> <span
                class="o">|=</span> <span class="n">x</span> <span class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055-586"><a href="#BNO055-586"><span class="linenos">586</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_AXIS_MAP_CONFIG_ADDR</span><span class="p">,</span> <span
                class="n">map_config</span><span class="p">)</span>
</span><span id="BNO055-587"><a href="#BNO055-587"><span class="linenos">587</span></a>		<span class="c1"># Set the axis remap sign register value.</span>
</span><span id="BNO055-588"><a href="#BNO055-588"><span class="linenos">588</span></a>		<span class="n">sign_config</span> <span
                class="o">=</span> <span class="mh">0x00</span>
</span><span id="BNO055-589"><a href="#BNO055-589"><span class="linenos">589</span></a>		<span class="n">sign_config</span> <span
                class="o">|=</span> <span class="p">(</span><span class="n">x_sign</span> <span
                class="o">&amp;</span> <span class="mh">0x01</span><span class="p">)</span> <span
                class="o">&lt;&lt;</span> <span class="mi">2</span>
</span><span id="BNO055-590"><a href="#BNO055-590"><span class="linenos">590</span></a>		<span class="n">sign_config</span> <span
                class="o">|=</span> <span class="p">(</span><span class="n">y_sign</span> <span
                class="o">&amp;</span> <span class="mh">0x01</span><span class="p">)</span> <span
                class="o">&lt;&lt;</span> <span class="mi">1</span>
</span><span id="BNO055-591"><a href="#BNO055-591"><span class="linenos">591</span></a>		<span class="n">sign_config</span> <span
                class="o">|=</span> <span class="n">z_sign</span> <span class="o">&amp;</span> <span
                class="mh">0x01</span>
</span><span id="BNO055-592"><a href="#BNO055-592"><span class="linenos">592</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span class="p">(</span><span
                class="n">BNO055_AXIS_MAP_SIGN_ADDR</span><span class="p">,</span> <span
                class="n">sign_config</span><span class="p">)</span>
</span><span id="BNO055-593"><a href="#BNO055-593"><span class="linenos">593</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="BNO055-594"><a href="#BNO055-594"><span class="linenos">594</span></a>		<span
                class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span
                class="p">()</span>
</span><span id="BNO055-595"><a href="#BNO055-595"><span class="linenos">595</span></a>
</span><span id="BNO055-596"><a href="#BNO055-596"><span class="linenos">596</span></a>	<span
                class="k">def</span> <span class="nf">_read_vector</span><span class="p">(</span><span
                class="bp">self</span><span class="p">,</span> <span class="n">address</span><span
                class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">3</span><span
                class="p">):</span>
</span><span id="BNO055-597"><a href="#BNO055-597"><span class="linenos">597</span></a>		<span class="c1"># Read count number of 16-bit signed values starting from the provided</span>
</span><span id="BNO055-598"><a href="#BNO055-598"><span class="linenos">598</span></a>		<span class="c1"># address. Returns a tuple of the values that were read.</span>
</span><span id="BNO055-599"><a href="#BNO055-599"><span class="linenos">599</span></a>		<span
                class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_bytes</span><span class="p">(</span><span class="n">address</span><span
                class="p">,</span> <span class="n">count</span> <span class="o">*</span> <span class="mi">2</span><span
                class="p">)</span>
</span><span id="BNO055-600"><a href="#BNO055-600"><span class="linenos">600</span></a>		<span
                class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span
                class="p">]</span> <span class="o">*</span> <span class="n">count</span>
</span><span id="BNO055-601"><a href="#BNO055-601"><span class="linenos">601</span></a>		<span
                class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span
                class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
</span><span id="BNO055-602"><a href="#BNO055-602"><span class="linenos">602</span></a>			<span class="n">result</span><span
                class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span
                class="p">((</span><span class="n">data</span><span class="p">[</span><span class="n">i</span> <span
                class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span
                class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span
                class="p">)</span> <span class="o">|</span> <span class="n">data</span><span class="p">[</span><span
                class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">])</span> <span
                class="o">&amp;</span> <span class="mh">0xFFFF</span>
</span><span id="BNO055-603"><a href="#BNO055-603"><span class="linenos">603</span></a>			<span
                class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="n">i</span><span
                class="p">]</span> <span class="o">&gt;</span> <span class="mi">32767</span><span class="p">:</span>
</span><span id="BNO055-604"><a href="#BNO055-604"><span class="linenos">604</span></a>				<span class="n">result</span><span
                class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-=</span> <span
                class="mi">65536</span>
</span><span id="BNO055-605"><a href="#BNO055-605"><span class="linenos">605</span></a>		<span
                class="k">return</span> <span class="n">result</span>
</span><span id="BNO055-606"><a href="#BNO055-606"><span class="linenos">606</span></a>
</span><span id="BNO055-607"><a href="#BNO055-607"><span class="linenos">607</span></a>	<span
                class="k">def</span> <span class="nf">read_euler</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-608"><a href="#BNO055-608"><span class="linenos">608</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current absolute orientation as a tuple of heading, roll,</span>
</span><span id="BNO055-609"><a href="#BNO055-609"><span class="linenos">609</span></a><span class="sd">		and pitch euler angles in degrees.</span>
</span><span id="BNO055-610"><a href="#BNO055-610"><span class="linenos">610</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-611"><a href="#BNO055-611"><span class="linenos">611</span></a>		<span
                class="n">heading</span><span class="p">,</span> <span class="n">roll</span><span
                class="p">,</span> <span class="n">pitch</span> <span class="o">=</span> <span
                class="bp">self</span><span class="o">.</span><span class="n">_read_vector</span><span
                class="p">(</span><span class="n">BNO055_EULER_H_LSB_ADDR</span><span class="p">)</span>
</span><span id="BNO055-612"><a href="#BNO055-612"><span class="linenos">612</span></a>		<span
                class="k">return</span> <span class="n">heading</span> <span class="o">/</span> <span
                class="mf">16.0</span><span class="p">,</span> <span class="n">roll</span> <span
                class="o">/</span> <span class="mf">16.0</span><span class="p">,</span> <span
                class="n">pitch</span> <span class="o">/</span> <span class="mf">16.0</span>
</span><span id="BNO055-613"><a href="#BNO055-613"><span class="linenos">613</span></a>
</span><span id="BNO055-614"><a href="#BNO055-614"><span class="linenos">614</span></a>	<span
                class="k">def</span> <span class="nf">read_magnetometer</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="BNO055-615"><a href="#BNO055-615"><span class="linenos">615</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current magnetometer reading as a tuple of X, Y, Z values</span>
</span><span id="BNO055-616"><a href="#BNO055-616"><span class="linenos">616</span></a><span class="sd">		in micro-Teslas.</span>
</span><span id="BNO055-617"><a href="#BNO055-617"><span class="linenos">617</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-618"><a href="#BNO055-618"><span class="linenos">618</span></a>		<span
                class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span
                class="n">BNO055_MAG_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="BNO055-619"><a href="#BNO055-619"><span class="linenos">619</span></a>		<span
                class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span
                class="mf">16.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">/</span> <span
                class="mf">16.0</span><span class="p">,</span> <span class="n">z</span> <span class="o">/</span> <span
                class="mf">16.0</span>
</span><span id="BNO055-620"><a href="#BNO055-620"><span class="linenos">620</span></a>
</span><span id="BNO055-621"><a href="#BNO055-621"><span class="linenos">621</span></a>	<span
                class="k">def</span> <span class="nf">read_gyroscope</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-622"><a href="#BNO055-622"><span class="linenos">622</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current gyroscope (angular velocity) reading as a tuple of</span>
</span><span id="BNO055-623"><a href="#BNO055-623"><span class="linenos">623</span></a><span class="sd">		X, Y, Z values in degrees per second.</span>
</span><span id="BNO055-624"><a href="#BNO055-624"><span class="linenos">624</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-625"><a href="#BNO055-625"><span class="linenos">625</span></a>		<span
                class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span
                class="n">BNO055_GYRO_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="BNO055-626"><a href="#BNO055-626"><span class="linenos">626</span></a>		<span
                class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span
                class="mf">900.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">/</span> <span
                class="mf">900.0</span><span class="p">,</span> <span class="n">z</span> <span class="o">/</span> <span
                class="mf">900.0</span>
</span><span id="BNO055-627"><a href="#BNO055-627"><span class="linenos">627</span></a>
</span><span id="BNO055-628"><a href="#BNO055-628"><span class="linenos">628</span></a>	<span
                class="k">def</span> <span class="nf">read_accelerometer</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="BNO055-629"><a href="#BNO055-629"><span class="linenos">629</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current accelerometer reading as a tuple of X, Y, Z values</span>
</span><span id="BNO055-630"><a href="#BNO055-630"><span class="linenos">630</span></a><span class="sd">		in meters/second^2.</span>
</span><span id="BNO055-631"><a href="#BNO055-631"><span class="linenos">631</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-632"><a href="#BNO055-632"><span class="linenos">632</span></a>		<span
                class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span class="n">BNO055_ACCEL_DATA_X_LSB_ADDR</span><span
                class="p">)</span>
</span><span id="BNO055-633"><a href="#BNO055-633"><span class="linenos">633</span></a>		<span
                class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span
                class="mf">100.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">/</span> <span
                class="mf">100.0</span><span class="p">,</span> <span class="n">z</span> <span class="o">/</span> <span
                class="mf">100.0</span>
</span><span id="BNO055-634"><a href="#BNO055-634"><span class="linenos">634</span></a>
</span><span id="BNO055-635"><a href="#BNO055-635"><span class="linenos">635</span></a>	<span
                class="k">def</span> <span class="nf">read_linear_acceleration</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-636"><a href="#BNO055-636"><span class="linenos">636</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current linear acceleration (acceleration from movement,</span>
</span><span id="BNO055-637"><a href="#BNO055-637"><span class="linenos">637</span></a><span class="sd">		not from gravity) reading as a tuple of X, Y, Z values in meters/second^2.</span>
</span><span id="BNO055-638"><a href="#BNO055-638"><span class="linenos">638</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-639"><a href="#BNO055-639"><span class="linenos">639</span></a>		<span
                class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span
                class="n">BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="BNO055-640"><a href="#BNO055-640"><span class="linenos">640</span></a>		<span
                class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span
                class="mf">100.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">/</span> <span
                class="mf">100.0</span><span class="p">,</span> <span class="n">z</span> <span class="o">/</span> <span
                class="mf">100.0</span>
</span><span id="BNO055-641"><a href="#BNO055-641"><span class="linenos">641</span></a>
</span><span id="BNO055-642"><a href="#BNO055-642"><span class="linenos">642</span></a>	<span
                class="k">def</span> <span class="nf">read_gravity</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-643"><a href="#BNO055-643"><span class="linenos">643</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current gravity acceleration reading as a tuple of X, Y, Z</span>
</span><span id="BNO055-644"><a href="#BNO055-644"><span class="linenos">644</span></a><span class="sd">		values in meters/second^2.</span>
</span><span id="BNO055-645"><a href="#BNO055-645"><span class="linenos">645</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-646"><a href="#BNO055-646"><span class="linenos">646</span></a>		<span
                class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
                class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                class="n">_read_vector</span><span class="p">(</span><span
                class="n">BNO055_GRAVITY_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="BNO055-647"><a href="#BNO055-647"><span class="linenos">647</span></a>		<span
                class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span
                class="mf">100.0</span><span class="p">,</span> <span class="n">y</span> <span class="o">/</span> <span
                class="mf">100.0</span><span class="p">,</span> <span class="n">z</span> <span class="o">/</span> <span
                class="mf">100.0</span>
</span><span id="BNO055-648"><a href="#BNO055-648"><span class="linenos">648</span></a>
</span><span id="BNO055-649"><a href="#BNO055-649"><span class="linenos">649</span></a>	<span
                class="k">def</span> <span class="nf">read_quaternion</span><span class="p">(</span><span class="bp">self</span><span
                class="p">):</span>
</span><span id="BNO055-650"><a href="#BNO055-650"><span class="linenos">650</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current orientation as a tuple of X, Y, Z, W quaternion</span>
</span><span id="BNO055-651"><a href="#BNO055-651"><span class="linenos">651</span></a><span
                class="sd">		values.</span>
</span><span id="BNO055-652"><a href="#BNO055-652"><span class="linenos">652</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055-653"><a href="#BNO055-653"><span class="linenos">653</span></a>		<span
                class="n">w</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span
                class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span
                class="bp">self</span><span class="o">.</span><span class="n">_read_vector</span><span
                class="p">(</span><span class="n">BNO055_QUATERNION_DATA_W_LSB_ADDR</span><span class="p">,</span> <span
                class="mi">4</span><span class="p">)</span>
</span><span id="BNO055-654"><a href="#BNO055-654"><span class="linenos">654</span></a>		<span class="c1"># Scale values, see 3.6.5.5 in the datasheet.</span>
</span><span id="BNO055-655"><a href="#BNO055-655"><span class="linenos">655</span></a>		<span
                class="n">scale</span> <span class="o">=</span> <span class="mf">1.0</span> <span
                class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span
                class="o">&lt;&lt;</span> <span class="mi">14</span><span class="p">)</span>
</span><span id="BNO055-656"><a href="#BNO055-656"><span class="linenos">656</span></a>		<span
                class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span
                class="n">scale</span><span class="p">,</span> <span class="n">y</span> <span class="o">*</span> <span
                class="n">scale</span><span class="p">,</span> <span class="n">z</span> <span class="o">*</span> <span
                class="n">scale</span><span class="p">,</span> <span class="n">w</span> <span class="o">*</span> <span
                class="n">scale</span>
</span><span id="BNO055-657"><a href="#BNO055-657"><span class="linenos">657</span></a>
</span><span id="BNO055-658"><a href="#BNO055-658"><span class="linenos">658</span></a>	<span
                class="k">def</span> <span class="nf">read_temp</span><span class="p">(</span><span
                class="bp">self</span><span class="p">):</span>
</span><span id="BNO055-659"><a href="#BNO055-659"><span class="linenos">659</span></a><span
                class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current temperature in Celsius.&quot;&quot;&quot;</span>
</span><span id="BNO055-660"><a href="#BNO055-660"><span class="linenos">660</span></a>		<span
                class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_signed_byte</span><span
                class="p">(</span><span class="n">BNO055_TEMP_ADDR</span><span class="p">)</span>
</span></pre>
        </div>


        <div class="classattr" id="BNO055.__init__">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.__init__-view-source" tabindex="-1"
                   type="checkbox">
            <div class="attr function">

                <span class="name">BNO055</span><span class="signature pdoc-code condensed">(<span class="param"><span
                    class="n">serial_port</span><span class="o">=</span><span class="kc">None</span>, </span><span
                    class="param"><span class="n">serial_timeout_sec</span><span class="o">=</span><span
                    class="mi">5</span></span>)</span>

                <label class="view-source-button" for="BNO055.__init__-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.__init__-212"><a
                    href="#BNO055.__init__-212"><span class="linenos">212</span></a>	<span class="k">def</span> <span
                    class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span
                    class="p">,</span> <span class="n">serial_port</span><span class="o">=</span><span
                    class="kc">None</span><span class="p">,</span> <span class="n">serial_timeout_sec</span><span
                    class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="BNO055.__init__-213"><a href="#BNO055.__init__-213"><span class="linenos">213</span></a>		<span
                    class="c1"># Use serial communication if serial_port name is provided.</span>
</span><span id="BNO055.__init__-214"><a href="#BNO055.__init__-214"><span class="linenos">214</span></a>		<span
                    class="c1"># Open the serial port at 115200 baud, 8N1.  Add a 5 second timeout</span>
</span><span id="BNO055.__init__-215"><a href="#BNO055.__init__-215"><span class="linenos">215</span></a>		<span
                    class="c1"># to prevent hanging if device is disconnected.</span>
</span><span id="BNO055.__init__-216"><a href="#BNO055.__init__-216"><span class="linenos">216</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_serial</span> <span
                    class="o">=</span> <span class="n">serial</span><span class="o">.</span><span
                    class="n">Serial</span><span class="p">(</span>
</span><span id="BNO055.__init__-217"><a href="#BNO055.__init__-217"><span
                    class="linenos">217</span></a>			<span class="n">serial_port</span><span class="p">,</span>
</span><span id="BNO055.__init__-218"><a href="#BNO055.__init__-218"><span
                    class="linenos">218</span></a>			<span class="mi">115200</span><span class="p">,</span>
</span><span id="BNO055.__init__-219"><a href="#BNO055.__init__-219"><span
                    class="linenos">219</span></a>			<span class="n">timeout</span><span
                    class="o">=</span><span class="n">serial_timeout_sec</span><span class="p">,</span>
</span><span id="BNO055.__init__-220"><a href="#BNO055.__init__-220"><span
                    class="linenos">220</span></a>			<span class="n">writeTimeout</span><span
                    class="o">=</span><span class="n">serial_timeout_sec</span><span class="p">,</span>
</span><span id="BNO055.__init__-221"><a href="#BNO055.__init__-221"><span class="linenos">221</span></a>		<span
                    class="p">)</span>
</span></pre>
            </div>


        </div>
        <div class="classattr" id="BNO055.begin">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.begin-view-source" tabindex="-1"
                   type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">begin</span><span class="signature pdoc-code condensed">(<span class="param"><span
                    class="bp">self</span>, </span><span class="param"><span class="n">mode</span><span
                    class="o">=</span><span class="mi">12</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BNO055.begin-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.begin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.begin-334"><a href="#BNO055.begin-334"><span
                    class="linenos">334</span></a>	<span class="k">def</span> <span class="nf">begin</span><span
                    class="p">(</span><span class="bp">self</span><span class="p">,</span> <span
                    class="n">mode</span><span class="o">=</span><span class="n">OPERATION_MODE_NDOF</span><span
                    class="p">):</span>
</span><span id="BNO055.begin-335"><a href="#BNO055.begin-335"><span class="linenos">335</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Initialize the BNO055 sensor.  Must be called once before any other</span>
</span><span id="BNO055.begin-336"><a href="#BNO055.begin-336"><span class="linenos">336</span></a><span class="sd">		BNO055 library functions.  Will return True if the BNO055 was</span>
</span><span id="BNO055.begin-337"><a href="#BNO055.begin-337"><span class="linenos">337</span></a><span class="sd">		successfully initialized, and False otherwise.</span>
</span><span id="BNO055.begin-338"><a href="#BNO055.begin-338"><span class="linenos">338</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.begin-339"><a href="#BNO055.begin-339"><span class="linenos">339</span></a>		<span
                    class="c1"># Save the desired normal operation mode.</span>
</span><span id="BNO055.begin-340"><a href="#BNO055.begin-340"><span class="linenos">340</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span
                    class="n">mode</span>
</span><span id="BNO055.begin-341"><a href="#BNO055.begin-341"><span class="linenos">341</span></a>		<span
                    class="c1"># First send a thow-away command and ignore any response or I2C errors</span>
</span><span id="BNO055.begin-342"><a href="#BNO055.begin-342"><span class="linenos">342</span></a>		<span
                    class="c1"># just to make sure the BNO is in a good state and ready to accept</span>
</span><span id="BNO055.begin-343"><a href="#BNO055.begin-343"><span class="linenos">343</span></a>		<span
                    class="c1"># commands (this seems to be necessary after a hard power down).</span>
</span><span id="BNO055.begin-344"><a href="#BNO055.begin-344"><span class="linenos">344</span></a>		<span
                    class="k">try</span><span class="p">:</span>
</span><span id="BNO055.begin-345"><a href="#BNO055.begin-345"><span class="linenos">345</span></a>			<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_PAGE_ID_ADDR</span><span class="p">,</span> <span
                    class="mi">0</span><span class="p">,</span> <span class="n">ack</span><span class="o">=</span><span
                    class="kc">False</span><span class="p">)</span>
</span><span id="BNO055.begin-346"><a href="#BNO055.begin-346"><span class="linenos">346</span></a>		<span
                    class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
</span><span id="BNO055.begin-347"><a href="#BNO055.begin-347"><span class="linenos">347</span></a>			<span
                    class="c1"># Swallow an IOError that might be raised by an I2C issue.  Only do</span>
</span><span id="BNO055.begin-348"><a href="#BNO055.begin-348"><span class="linenos">348</span></a>			<span
                    class="c1"># this for this very first command to help get the BNO and board&#39;s</span>
</span><span id="BNO055.begin-349"><a href="#BNO055.begin-349"><span class="linenos">349</span></a>			<span
                    class="c1"># I2C into a clear state ready to accept the next commands.</span>
</span><span id="BNO055.begin-350"><a href="#BNO055.begin-350"><span class="linenos">350</span></a>			<span
                    class="k">pass</span>
</span><span id="BNO055.begin-351"><a href="#BNO055.begin-351"><span class="linenos">351</span></a>		<span
                    class="c1"># Make sure we&#39;re in config mode and on page 0.</span>
</span><span id="BNO055.begin-352"><a href="#BNO055.begin-352"><span class="linenos">352</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                    class="p">()</span>
</span><span id="BNO055.begin-353"><a href="#BNO055.begin-353"><span class="linenos">353</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_PAGE_ID_ADDR</span><span class="p">,</span> <span
                    class="mi">0</span><span class="p">)</span>
</span><span id="BNO055.begin-354"><a href="#BNO055.begin-354"><span class="linenos">354</span></a>		<span
                    class="c1"># Check the chip ID</span>
</span><span id="BNO055.begin-355"><a href="#BNO055.begin-355"><span class="linenos">355</span></a>		<span
                    class="n">bno_id</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_CHIP_ID_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.begin-356"><a href="#BNO055.begin-356"><span class="linenos">356</span></a>		<span
                    class="n">logger</span><span class="o">.</span><span class="n">debug</span><span
                    class="p">(</span><span class="s2">&quot;Read chip ID: 0x</span><span class="si">{0:02X}</span><span
                    class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span
                    class="p">(</span><span class="n">bno_id</span><span class="p">))</span>
</span><span id="BNO055.begin-357"><a href="#BNO055.begin-357"><span class="linenos">357</span></a>		<span
                    class="k">if</span> <span class="n">bno_id</span> <span class="o">!=</span> <span class="n">BNO055_ID</span><span
                    class="p">:</span>
</span><span id="BNO055.begin-358"><a href="#BNO055.begin-358"><span class="linenos">358</span></a>			<span
                    class="k">return</span> <span class="kc">False</span>
</span><span id="BNO055.begin-359"><a href="#BNO055.begin-359"><span class="linenos">359</span></a>		<span
                    class="c1"># Reset the device.</span>
</span><span id="BNO055.begin-360"><a href="#BNO055.begin-360"><span class="linenos">360</span></a>		<span
                    class="c1"># Else use the reset command.  Note that ack=False is sent because</span>
</span><span id="BNO055.begin-361"><a href="#BNO055.begin-361"><span class="linenos">361</span></a>		<span
                    class="c1"># the chip doesn&#39;t seem to ack a reset in serial mode (by design?).</span>
</span><span id="BNO055.begin-362"><a href="#BNO055.begin-362"><span class="linenos">362</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span
                    class="mh">0x20</span><span class="p">,</span> <span class="n">ack</span><span
                    class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="BNO055.begin-363"><a href="#BNO055.begin-363"><span class="linenos">363</span></a>		<span
                    class="c1"># Wait 650ms after reset for chip to be ready (as suggested</span>
</span><span id="BNO055.begin-364"><a href="#BNO055.begin-364"><span class="linenos">364</span></a>		<span
                    class="c1"># in datasheet).</span>
</span><span id="BNO055.begin-365"><a href="#BNO055.begin-365"><span class="linenos">365</span></a>		<span
                    class="n">time</span><span class="o">.</span><span class="n">sleep</span><span
                    class="p">(</span><span class="mf">0.65</span><span class="p">)</span>
</span><span id="BNO055.begin-366"><a href="#BNO055.begin-366"><span class="linenos">366</span></a>		<span
                    class="c1"># Set to normal power mode.</span>
</span><span id="BNO055.begin-367"><a href="#BNO055.begin-367"><span class="linenos">367</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_PWR_MODE_ADDR</span><span class="p">,</span> <span
                    class="n">POWER_MODE_NORMAL</span><span class="p">)</span>
</span><span id="BNO055.begin-368"><a href="#BNO055.begin-368"><span class="linenos">368</span></a>		<span
                    class="c1"># Default to internal oscillator.</span>
</span><span id="BNO055.begin-369"><a href="#BNO055.begin-369"><span class="linenos">369</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span
                    class="mh">0x0</span><span class="p">)</span>
</span><span id="BNO055.begin-370"><a href="#BNO055.begin-370"><span class="linenos">370</span></a>		<span
                    class="c1"># Enter normal operation mode.</span>
</span><span id="BNO055.begin-371"><a href="#BNO055.begin-371"><span class="linenos">371</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span><span id="BNO055.begin-372"><a href="#BNO055.begin-372"><span class="linenos">372</span></a>		<span
                    class="k">return</span> <span class="kc">True</span>
</span></pre>
            </div>


            <div class="docstring"><p>Initialize the BNO055 sensor. Must be called once before any other
                BNO055 library functions. Will return True if the BNO055 was
                successfully initialized, and False otherwise.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.set_mode">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.set_mode-view-source" tabindex="-1"
                   type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">set_mode</span><span class="signature pdoc-code condensed">(<span class="param"><span
                    class="bp">self</span>, </span><span class="param"><span class="n">mode</span></span><span
                    class="return-annotation">):</span></span>

                <label class="view-source-button" for="BNO055.set_mode-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.set_mode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.set_mode-374"><a
                    href="#BNO055.set_mode-374"><span class="linenos">374</span></a>	<span class="k">def</span> <span
                    class="nf">set_mode</span><span class="p">(</span><span class="bp">self</span><span
                    class="p">,</span> <span class="n">mode</span><span class="p">):</span>
</span><span id="BNO055.set_mode-375"><a href="#BNO055.set_mode-375"><span class="linenos">375</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Set operation mode for BNO055 sensor.&quot;&quot;&quot;</span>
</span><span id="BNO055.set_mode-376"><a href="#BNO055.set_mode-376"><span class="linenos">376</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_OPR_MODE_ADDR</span><span class="p">,</span> <span
                    class="n">mode</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span
                    class="p">)</span>
</span><span id="BNO055.set_mode-377"><a href="#BNO055.set_mode-377"><span class="linenos">377</span></a>		<span
                    class="c1"># Delay for 30 milliseconds (datsheet recommends 19ms, but a little more</span>
</span><span id="BNO055.set_mode-378"><a href="#BNO055.set_mode-378"><span class="linenos">378</span></a>		<span
                    class="c1"># can&#39;t hurt and the kernel is going to spend some unknown amount of time</span>
</span><span id="BNO055.set_mode-379"><a href="#BNO055.set_mode-379"><span class="linenos">379</span></a>		<span
                    class="c1"># too).</span>
</span><span id="BNO055.set_mode-380"><a href="#BNO055.set_mode-380"><span class="linenos">380</span></a>		<span
                    class="n">time</span><span class="o">.</span><span class="n">sleep</span><span
                    class="p">(</span><span class="mf">0.03</span><span class="p">)</span>
</span></pre>
            </div>


            <div class="docstring"><p>Set operation mode for BNO055 sensor.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.get_revision">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.get_revision-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">get_revision</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BNO055.get_revision-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.get_revision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.get_revision-382"><a
                    href="#BNO055.get_revision-382"><span class="linenos">382</span></a>	<span
                    class="k">def</span> <span class="nf">get_revision</span><span class="p">(</span><span class="bp">self</span><span
                    class="p">):</span>
</span><span id="BNO055.get_revision-383"><a href="#BNO055.get_revision-383"><span class="linenos">383</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Return a tuple with revision information about the BNO055 chip.  Will</span>
</span><span id="BNO055.get_revision-384"><a href="#BNO055.get_revision-384"><span class="linenos">384</span></a><span
                    class="sd">		return 5 values:</span>
</span><span id="BNO055.get_revision-385"><a href="#BNO055.get_revision-385"><span class="linenos">385</span></a><span
                    class="sd">		  - Software revision</span>
</span><span id="BNO055.get_revision-386"><a href="#BNO055.get_revision-386"><span class="linenos">386</span></a><span
                    class="sd">		  - Bootloader version</span>
</span><span id="BNO055.get_revision-387"><a href="#BNO055.get_revision-387"><span class="linenos">387</span></a><span
                    class="sd">		  - Accelerometer ID</span>
</span><span id="BNO055.get_revision-388"><a href="#BNO055.get_revision-388"><span class="linenos">388</span></a><span
                    class="sd">		  - Magnetometer ID</span>
</span><span id="BNO055.get_revision-389"><a href="#BNO055.get_revision-389"><span class="linenos">389</span></a><span
                    class="sd">		  - Gyro ID</span>
</span><span id="BNO055.get_revision-390"><a href="#BNO055.get_revision-390"><span class="linenos">390</span></a><span
                    class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.get_revision-391"><a href="#BNO055.get_revision-391"><span class="linenos">391</span></a>		<span
                    class="c1"># Read revision values.</span>
</span><span id="BNO055.get_revision-392"><a href="#BNO055.get_revision-392"><span class="linenos">392</span></a>		<span
                    class="n">accel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                    class="n">_read_byte</span><span class="p">(</span><span
                    class="n">BNO055_ACCEL_REV_ID_ADDR</span><span class="p">)</span>
</span><span id="BNO055.get_revision-393"><a href="#BNO055.get_revision-393"><span class="linenos">393</span></a>		<span
                    class="n">mag</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_MAG_REV_ID_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_revision-394"><a href="#BNO055.get_revision-394"><span class="linenos">394</span></a>		<span
                    class="n">gyro</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_GYRO_REV_ID_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_revision-395"><a href="#BNO055.get_revision-395"><span class="linenos">395</span></a>		<span
                    class="n">bl</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_BL_REV_ID_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_revision-396"><a href="#BNO055.get_revision-396"><span class="linenos">396</span></a>		<span
                    class="n">sw_lsb</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SW_REV_ID_LSB_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_revision-397"><a href="#BNO055.get_revision-397"><span class="linenos">397</span></a>		<span
                    class="n">sw_msb</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SW_REV_ID_MSB_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_revision-398"><a href="#BNO055.get_revision-398"><span class="linenos">398</span></a>		<span
                    class="n">sw</span> <span class="o">=</span> <span class="p">((</span><span class="n">sw_msb</span> <span
                    class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span
                    class="n">sw_lsb</span><span class="p">)</span> <span class="o">&amp;</span> <span
                    class="mh">0xFFFF</span>
</span><span id="BNO055.get_revision-399"><a href="#BNO055.get_revision-399"><span class="linenos">399</span></a>		<span
                    class="c1"># Return the results as a tuple of all 5 values.</span>
</span><span id="BNO055.get_revision-400"><a href="#BNO055.get_revision-400"><span class="linenos">400</span></a>		<span
                    class="k">return</span> <span class="p">(</span><span class="n">sw</span><span
                    class="p">,</span> <span class="n">bl</span><span class="p">,</span> <span
                    class="n">accel</span><span class="p">,</span> <span class="n">mag</span><span
                    class="p">,</span> <span class="n">gyro</span><span class="p">)</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return a tuple with revision information about the BNO055 chip. Will
                return 5 values:</p>

                <ul>
                    <li>Software revision</li>
                    <li>Bootloader version</li>
                    <li>Accelerometer ID</li>
                    <li>Magnetometer ID</li>
                    <li>Gyro ID</li>
                </ul>
            </div>


        </div>
        <div class="classattr" id="BNO055.set_external_crystal">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.set_external_crystal-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">set_external_crystal</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">external_crystal</span></span><span
                    class="return-annotation">):</span></span>

                <label class="view-source-button" for="BNO055.set_external_crystal-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.set_external_crystal"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.set_external_crystal-402"><a
                    href="#BNO055.set_external_crystal-402"><span class="linenos">402</span></a>	<span
                    class="k">def</span> <span class="nf">set_external_crystal</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">,</span> <span class="n">external_crystal</span><span
                    class="p">):</span>
</span><span id="BNO055.set_external_crystal-403"><a href="#BNO055.set_external_crystal-403"><span
                    class="linenos">403</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Set if an external crystal is being used by passing True, otherwise</span>
</span><span id="BNO055.set_external_crystal-404"><a href="#BNO055.set_external_crystal-404"><span
                    class="linenos">404</span></a><span class="sd">		use the internal oscillator by passing False (the default behavior).</span>
</span><span id="BNO055.set_external_crystal-405"><a href="#BNO055.set_external_crystal-405"><span
                    class="linenos">405</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.set_external_crystal-406"><a href="#BNO055.set_external_crystal-406"><span
                    class="linenos">406</span></a>		<span class="c1"># Switch to configuration mode.</span>
</span><span id="BNO055.set_external_crystal-407"><a href="#BNO055.set_external_crystal-407"><span
                    class="linenos">407</span></a>		<span class="bp">self</span><span class="o">.</span><span
                    class="n">_config_mode</span><span class="p">()</span>
</span><span id="BNO055.set_external_crystal-408"><a href="#BNO055.set_external_crystal-408"><span
                    class="linenos">408</span></a>		<span class="c1"># Set the clock bit appropriately in the SYS_TRIGGER register.</span>
</span><span id="BNO055.set_external_crystal-409"><a href="#BNO055.set_external_crystal-409"><span
                    class="linenos">409</span></a>		<span class="k">if</span> <span
                    class="n">external_crystal</span><span class="p">:</span>
</span><span id="BNO055.set_external_crystal-410"><a href="#BNO055.set_external_crystal-410"><span
                    class="linenos">410</span></a>			<span class="bp">self</span><span class="o">.</span><span
                    class="n">_write_byte</span><span class="p">(</span><span
                    class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span class="mh">0x80</span><span
                    class="p">)</span>
</span><span id="BNO055.set_external_crystal-411"><a href="#BNO055.set_external_crystal-411"><span
                    class="linenos">411</span></a>		<span class="k">else</span><span class="p">:</span>
</span><span id="BNO055.set_external_crystal-412"><a href="#BNO055.set_external_crystal-412"><span
                    class="linenos">412</span></a>			<span class="bp">self</span><span class="o">.</span><span
                    class="n">_write_byte</span><span class="p">(</span><span
                    class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span class="mh">0x00</span><span
                    class="p">)</span>
</span><span id="BNO055.set_external_crystal-413"><a href="#BNO055.set_external_crystal-413"><span
                    class="linenos">413</span></a>		<span class="c1"># Go back to normal operation mode.</span>
</span><span id="BNO055.set_external_crystal-414"><a href="#BNO055.set_external_crystal-414"><span
                    class="linenos">414</span></a>		<span class="bp">self</span><span class="o">.</span><span
                    class="n">_operation_mode</span><span class="p">()</span>
</span></pre>
            </div>


            <div class="docstring"><p>Set if an external crystal is being used by passing True, otherwise
                use the internal oscillator by passing False (the default behavior).</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.get_system_status">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.get_system_status-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">get_system_status</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span>, </span><span class="param"><span
                    class="n">run_self_test</span><span class="o">=</span><span class="kc">True</span></span><span
                    class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.get_system_status-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.get_system_status"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.get_system_status-416"><a
                    href="#BNO055.get_system_status-416"><span class="linenos">416</span></a>	<span
                    class="k">def</span> <span class="nf">get_system_status</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">,</span> <span class="n">run_self_test</span><span
                    class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="BNO055.get_system_status-417"><a href="#BNO055.get_system_status-417"><span class="linenos">417</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Return a tuple with status information.  Three values will be returned:</span>
</span><span id="BNO055.get_system_status-418"><a href="#BNO055.get_system_status-418"><span class="linenos">418</span></a><span
                    class="sd">		  - System status register value with the following meaning:</span>
</span><span id="BNO055.get_system_status-419"><a href="#BNO055.get_system_status-419"><span class="linenos">419</span></a><span
                    class="sd">		      0 = Idle</span>
</span><span id="BNO055.get_system_status-420"><a href="#BNO055.get_system_status-420"><span class="linenos">420</span></a><span
                    class="sd">		      1 = System Error</span>
</span><span id="BNO055.get_system_status-421"><a href="#BNO055.get_system_status-421"><span class="linenos">421</span></a><span
                    class="sd">		      2 = Initializing Peripherals</span>
</span><span id="BNO055.get_system_status-422"><a href="#BNO055.get_system_status-422"><span class="linenos">422</span></a><span
                    class="sd">		      3 = System Initialization</span>
</span><span id="BNO055.get_system_status-423"><a href="#BNO055.get_system_status-423"><span class="linenos">423</span></a><span
                    class="sd">		      4 = Executing Self-Test</span>
</span><span id="BNO055.get_system_status-424"><a href="#BNO055.get_system_status-424"><span class="linenos">424</span></a><span
                    class="sd">		      5 = Sensor fusion algorithm running</span>
</span><span id="BNO055.get_system_status-425"><a href="#BNO055.get_system_status-425"><span class="linenos">425</span></a><span
                    class="sd">		      6 = System running without fusion algorithms</span>
</span><span id="BNO055.get_system_status-426"><a href="#BNO055.get_system_status-426"><span class="linenos">426</span></a><span
                    class="sd">		  - Self test result register value with the following meaning:</span>
</span><span id="BNO055.get_system_status-427"><a href="#BNO055.get_system_status-427"><span class="linenos">427</span></a><span
                    class="sd">		      Bit value: 1 = test passed, 0 = test failed</span>
</span><span id="BNO055.get_system_status-428"><a href="#BNO055.get_system_status-428"><span class="linenos">428</span></a><span
                    class="sd">		      Bit 0 = Accelerometer self test</span>
</span><span id="BNO055.get_system_status-429"><a href="#BNO055.get_system_status-429"><span class="linenos">429</span></a><span
                    class="sd">		      Bit 1 = Magnetometer self test</span>
</span><span id="BNO055.get_system_status-430"><a href="#BNO055.get_system_status-430"><span class="linenos">430</span></a><span
                    class="sd">		      Bit 2 = Gyroscope self test</span>
</span><span id="BNO055.get_system_status-431"><a href="#BNO055.get_system_status-431"><span class="linenos">431</span></a><span
                    class="sd">		      Bit 3 = MCU self test</span>
</span><span id="BNO055.get_system_status-432"><a href="#BNO055.get_system_status-432"><span class="linenos">432</span></a><span
                    class="sd">		      Value of 0x0F = all good!</span>
</span><span id="BNO055.get_system_status-433"><a href="#BNO055.get_system_status-433"><span class="linenos">433</span></a><span
                    class="sd">		  - System error register value with the following meaning:</span>
</span><span id="BNO055.get_system_status-434"><a href="#BNO055.get_system_status-434"><span class="linenos">434</span></a><span
                    class="sd">		      0 = No error</span>
</span><span id="BNO055.get_system_status-435"><a href="#BNO055.get_system_status-435"><span class="linenos">435</span></a><span
                    class="sd">		      1 = Peripheral initialization error</span>
</span><span id="BNO055.get_system_status-436"><a href="#BNO055.get_system_status-436"><span class="linenos">436</span></a><span
                    class="sd">		      2 = System initialization error</span>
</span><span id="BNO055.get_system_status-437"><a href="#BNO055.get_system_status-437"><span class="linenos">437</span></a><span
                    class="sd">		      3 = Self test result failed</span>
</span><span id="BNO055.get_system_status-438"><a href="#BNO055.get_system_status-438"><span class="linenos">438</span></a><span
                    class="sd">		      4 = Register map value out of range</span>
</span><span id="BNO055.get_system_status-439"><a href="#BNO055.get_system_status-439"><span class="linenos">439</span></a><span
                    class="sd">		      5 = Register map address out of range</span>
</span><span id="BNO055.get_system_status-440"><a href="#BNO055.get_system_status-440"><span class="linenos">440</span></a><span
                    class="sd">		      6 = Register map write error</span>
</span><span id="BNO055.get_system_status-441"><a href="#BNO055.get_system_status-441"><span class="linenos">441</span></a><span
                    class="sd">		      7 = BNO low power mode not available for selected operation mode</span>
</span><span id="BNO055.get_system_status-442"><a href="#BNO055.get_system_status-442"><span class="linenos">442</span></a><span
                    class="sd">		      8 = Accelerometer power mode not available</span>
</span><span id="BNO055.get_system_status-443"><a href="#BNO055.get_system_status-443"><span class="linenos">443</span></a><span
                    class="sd">		      9 = Fusion algorithm configuration error</span>
</span><span id="BNO055.get_system_status-444"><a href="#BNO055.get_system_status-444"><span class="linenos">444</span></a><span
                    class="sd">		     10 = Sensor configuration error</span>
</span><span id="BNO055.get_system_status-445"><a href="#BNO055.get_system_status-445"><span class="linenos">445</span></a>
</span><span id="BNO055.get_system_status-446"><a href="#BNO055.get_system_status-446"><span class="linenos">446</span></a><span
                    class="sd">		If run_self_test is passed in as False then no self test is performed and</span>
</span><span id="BNO055.get_system_status-447"><a href="#BNO055.get_system_status-447"><span class="linenos">447</span></a><span
                    class="sd">		None will be returned for the self test result.  Note that running a</span>
</span><span id="BNO055.get_system_status-448"><a href="#BNO055.get_system_status-448"><span class="linenos">448</span></a><span
                    class="sd">		self test requires going into config mode which will stop the fusion</span>
</span><span id="BNO055.get_system_status-449"><a href="#BNO055.get_system_status-449"><span class="linenos">449</span></a><span
                    class="sd">		engine from running.</span>
</span><span id="BNO055.get_system_status-450"><a href="#BNO055.get_system_status-450"><span class="linenos">450</span></a><span
                    class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.get_system_status-451"><a href="#BNO055.get_system_status-451"><span class="linenos">451</span></a>		<span
                    class="n">self_test</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="BNO055.get_system_status-452"><a href="#BNO055.get_system_status-452"><span class="linenos">452</span></a>		<span
                    class="k">if</span> <span class="n">run_self_test</span><span class="p">:</span>
</span><span id="BNO055.get_system_status-453"><a href="#BNO055.get_system_status-453"><span class="linenos">453</span></a>			<span
                    class="c1"># Switch to configuration mode if running self test.</span>
</span><span id="BNO055.get_system_status-454"><a href="#BNO055.get_system_status-454"><span class="linenos">454</span></a>			<span
                    class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                    class="p">()</span>
</span><span id="BNO055.get_system_status-455"><a href="#BNO055.get_system_status-455"><span class="linenos">455</span></a>			<span
                    class="c1"># Perform a self test.</span>
</span><span id="BNO055.get_system_status-456"><a href="#BNO055.get_system_status-456"><span class="linenos">456</span></a>			<span
                    class="n">sys_trigger</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SYS_TRIGGER_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_system_status-457"><a href="#BNO055.get_system_status-457"><span class="linenos">457</span></a>			<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_SYS_TRIGGER_ADDR</span><span class="p">,</span> <span
                    class="n">sys_trigger</span> <span class="o">|</span> <span class="mh">0x1</span><span
                    class="p">)</span>
</span><span id="BNO055.get_system_status-458"><a href="#BNO055.get_system_status-458"><span class="linenos">458</span></a>			<span
                    class="c1"># Wait for self test to finish.</span>
</span><span id="BNO055.get_system_status-459"><a href="#BNO055.get_system_status-459"><span class="linenos">459</span></a>			<span
                    class="n">time</span><span class="o">.</span><span class="n">sleep</span><span
                    class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="BNO055.get_system_status-460"><a href="#BNO055.get_system_status-460"><span class="linenos">460</span></a>			<span
                    class="c1"># Read test result.</span>
</span><span id="BNO055.get_system_status-461"><a href="#BNO055.get_system_status-461"><span class="linenos">461</span></a>			<span
                    class="n">self_test</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SELFTEST_RESULT_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_system_status-462"><a href="#BNO055.get_system_status-462"><span class="linenos">462</span></a>			<span
                    class="c1"># Go back to operation mode.</span>
</span><span id="BNO055.get_system_status-463"><a href="#BNO055.get_system_status-463"><span class="linenos">463</span></a>			<span
                    class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span><span id="BNO055.get_system_status-464"><a href="#BNO055.get_system_status-464"><span class="linenos">464</span></a>		<span
                    class="c1"># Now read status and error registers.</span>
</span><span id="BNO055.get_system_status-465"><a href="#BNO055.get_system_status-465"><span class="linenos">465</span></a>		<span
                    class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SYS_STAT_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_system_status-466"><a href="#BNO055.get_system_status-466"><span class="linenos">466</span></a>		<span
                    class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                    class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_SYS_ERR_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_system_status-467"><a href="#BNO055.get_system_status-467"><span class="linenos">467</span></a>		<span
                    class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="BNO055.get_system_status-468"><a href="#BNO055.get_system_status-468"><span class="linenos">468</span></a>		<span
                    class="k">return</span> <span class="p">(</span><span class="n">status</span><span
                    class="p">,</span> <span class="n">self_test</span><span class="p">,</span> <span
                    class="n">error</span><span class="p">)</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return a tuple with status information. Three values will be returned:</p>

                <ul>
                    <li>System status register value with the following meaning:
                        0 = Idle
                        1 = System Error
                        2 = Initializing Peripherals
                        3 = System Initialization
                        4 = Executing Self-Test
                        5 = Sensor fusion algorithm running
                        6 = System running without fusion algorithms
                    </li>
                    <li>Self test result register value with the following meaning:
                        Bit value: 1 = test passed, 0 = test failed
                        Bit 0 = Accelerometer self test
                        Bit 1 = Magnetometer self test
                        Bit 2 = Gyroscope self test
                        Bit 3 = MCU self test
                        Value of 0x0F = all good!
                    </li>
                    <li>System error register value with the following meaning:
                        0 = No error
                        1 = Peripheral initialization error
                        2 = System initialization error
                        3 = Self test result failed
                        4 = Register map value out of range
                        5 = Register map address out of range
                        6 = Register map write error
                        7 = BNO low power mode not available for selected operation mode
                        8 = Accelerometer power mode not available
                        9 = Fusion algorithm configuration error
                        10 = Sensor configuration error
                    </li>
                </ul>

                <p>If run_self_test is passed in as False then no self test is performed and
                    None will be returned for the self test result. Note that running a
                    self test requires going into config mode which will stop the fusion
                    engine from running.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.get_calibration_status">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.get_calibration_status-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">get_calibration_status</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.get_calibration_status-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.get_calibration_status"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.get_calibration_status-470"><a
                    href="#BNO055.get_calibration_status-470"><span class="linenos">470</span></a>	<span class="k">def</span> <span
                    class="nf">get_calibration_status</span><span class="p">(</span><span class="bp">self</span><span
                    class="p">):</span>
</span><span id="BNO055.get_calibration_status-471"><a href="#BNO055.get_calibration_status-471"><span class="linenos">471</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Read the calibration status of the sensors and return a 4 tuple with</span>
</span><span id="BNO055.get_calibration_status-472"><a href="#BNO055.get_calibration_status-472"><span class="linenos">472</span></a><span
                    class="sd">		calibration status as follows:</span>
</span><span id="BNO055.get_calibration_status-473"><a href="#BNO055.get_calibration_status-473"><span class="linenos">473</span></a><span
                    class="sd">		  - System, 3=fully calibrated, 0=not calibrated</span>
</span><span id="BNO055.get_calibration_status-474"><a href="#BNO055.get_calibration_status-474"><span class="linenos">474</span></a><span
                    class="sd">		  - Gyroscope, 3=fully calibrated, 0=not calibrated</span>
</span><span id="BNO055.get_calibration_status-475"><a href="#BNO055.get_calibration_status-475"><span class="linenos">475</span></a><span
                    class="sd">		  - Accelerometer, 3=fully calibrated, 0=not calibrated</span>
</span><span id="BNO055.get_calibration_status-476"><a href="#BNO055.get_calibration_status-476"><span class="linenos">476</span></a><span
                    class="sd">		  - Magnetometer, 3=fully calibrated, 0=not calibrated</span>
</span><span id="BNO055.get_calibration_status-477"><a href="#BNO055.get_calibration_status-477"><span class="linenos">477</span></a><span
                    class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.get_calibration_status-478"><a href="#BNO055.get_calibration_status-478"><span class="linenos">478</span></a>		<span
                    class="c1"># Return the calibration status register value.</span>
</span><span id="BNO055.get_calibration_status-479"><a href="#BNO055.get_calibration_status-479"><span class="linenos">479</span></a>		<span
                    class="n">cal_status</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_CALIB_STAT_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_calibration_status-480"><a href="#BNO055.get_calibration_status-480"><span class="linenos">480</span></a>		<span
                    class="n">sys</span> <span class="o">=</span> <span class="p">(</span><span
                    class="n">cal_status</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span
                    class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055.get_calibration_status-481"><a href="#BNO055.get_calibration_status-481"><span class="linenos">481</span></a>		<span
                    class="n">gyro</span> <span class="o">=</span> <span class="p">(</span><span
                    class="n">cal_status</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span><span
                    class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055.get_calibration_status-482"><a href="#BNO055.get_calibration_status-482"><span class="linenos">482</span></a>		<span
                    class="n">accel</span> <span class="o">=</span> <span class="p">(</span><span
                    class="n">cal_status</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span
                    class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055.get_calibration_status-483"><a href="#BNO055.get_calibration_status-483"><span class="linenos">483</span></a>		<span
                    class="n">mag</span> <span class="o">=</span> <span class="n">cal_status</span> <span class="o">&amp;</span> <span
                    class="mh">0x03</span>
</span><span id="BNO055.get_calibration_status-484"><a href="#BNO055.get_calibration_status-484"><span class="linenos">484</span></a>		<span
                    class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="BNO055.get_calibration_status-485"><a href="#BNO055.get_calibration_status-485"><span class="linenos">485</span></a>		<span
                    class="k">return</span> <span class="p">(</span><span class="n">sys</span><span
                    class="p">,</span> <span class="n">gyro</span><span class="p">,</span> <span
                    class="n">accel</span><span class="p">,</span> <span class="n">mag</span><span class="p">)</span>
</span></pre>
            </div>


            <div class="docstring"><p>Read the calibration status of the sensors and return a 4 tuple with
                calibration status as follows:</p>

                <ul>
                    <li>System, 3=fully calibrated, 0=not calibrated</li>
                    <li>Gyroscope, 3=fully calibrated, 0=not calibrated</li>
                    <li>Accelerometer, 3=fully calibrated, 0=not calibrated</li>
                    <li>Magnetometer, 3=fully calibrated, 0=not calibrated</li>
                </ul>
            </div>


        </div>
        <div class="classattr" id="BNO055.get_calibration">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.get_calibration-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">get_calibration</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.get_calibration-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.get_calibration"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.get_calibration-487"><a
                    href="#BNO055.get_calibration-487"><span class="linenos">487</span></a>	<span
                    class="k">def</span> <span class="nf">get_calibration</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">):</span>
</span><span id="BNO055.get_calibration-488"><a href="#BNO055.get_calibration-488"><span
                    class="linenos">488</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Return the sensor&#39;s calibration data and return it as an array of</span>
</span><span id="BNO055.get_calibration-489"><a href="#BNO055.get_calibration-489"><span
                    class="linenos">489</span></a><span class="sd">		22 bytes. Can be saved and then reloaded with the set_calibration function</span>
</span><span id="BNO055.get_calibration-490"><a href="#BNO055.get_calibration-490"><span
                    class="linenos">490</span></a><span class="sd">		to quickly calibrate from a previously calculated set of calibration data.</span>
</span><span id="BNO055.get_calibration-491"><a href="#BNO055.get_calibration-491"><span
                    class="linenos">491</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.get_calibration-492"><a href="#BNO055.get_calibration-492"><span class="linenos">492</span></a>		<span
                    class="c1"># Switch to configuration mode, as mentioned in section 3.10.4 of datasheet.</span>
</span><span id="BNO055.get_calibration-493"><a href="#BNO055.get_calibration-493"><span class="linenos">493</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                    class="p">()</span>
</span><span id="BNO055.get_calibration-494"><a href="#BNO055.get_calibration-494"><span class="linenos">494</span></a>		<span
                    class="c1"># Read the 22 bytes of calibration data and convert it to a list (from</span>
</span><span id="BNO055.get_calibration-495"><a href="#BNO055.get_calibration-495"><span class="linenos">495</span></a>		<span
                    class="c1"># a bytearray) so it&#39;s more easily serialized should the caller want to</span>
</span><span id="BNO055.get_calibration-496"><a href="#BNO055.get_calibration-496"><span class="linenos">496</span></a>		<span
                    class="c1"># store it.</span>
</span><span id="BNO055.get_calibration-497"><a href="#BNO055.get_calibration-497"><span class="linenos">497</span></a>		<span
                    class="n">cal_data</span> <span class="o">=</span> <span class="nb">list</span><span
                    class="p">(</span><span class="bp">self</span><span class="o">.</span><span
                    class="n">_read_bytes</span><span class="p">(</span><span
                    class="n">ACCEL_OFFSET_X_LSB_ADDR</span><span class="p">,</span> <span class="mi">22</span><span
                    class="p">))</span>
</span><span id="BNO055.get_calibration-498"><a href="#BNO055.get_calibration-498"><span class="linenos">498</span></a>		<span
                    class="c1"># Go back to normal operation mode.</span>
</span><span id="BNO055.get_calibration-499"><a href="#BNO055.get_calibration-499"><span class="linenos">499</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span><span id="BNO055.get_calibration-500"><a href="#BNO055.get_calibration-500"><span class="linenos">500</span></a>		<span
                    class="k">return</span> <span class="n">cal_data</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the sensor's calibration data and return it as an array of
                22 bytes. Can be saved and then reloaded with the set_calibration function
                to quickly calibrate from a previously calculated set of calibration data.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.set_calibration">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.set_calibration-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">set_calibration</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span>, </span><span class="param"><span
                    class="n">data</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.set_calibration-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.set_calibration"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.set_calibration-502"><a
                    href="#BNO055.set_calibration-502"><span class="linenos">502</span></a>	<span
                    class="k">def</span> <span class="nf">set_calibration</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="BNO055.set_calibration-503"><a href="#BNO055.set_calibration-503"><span
                    class="linenos">503</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Set the sensor&#39;s calibration data using a list of 22 bytes that</span>
</span><span id="BNO055.set_calibration-504"><a href="#BNO055.set_calibration-504"><span
                    class="linenos">504</span></a><span class="sd">		represent the sensor offsets and calibration data.  This data should be</span>
</span><span id="BNO055.set_calibration-505"><a href="#BNO055.set_calibration-505"><span
                    class="linenos">505</span></a><span class="sd">		a value that was previously retrieved with get_calibration (and then</span>
</span><span id="BNO055.set_calibration-506"><a href="#BNO055.set_calibration-506"><span
                    class="linenos">506</span></a><span class="sd">		perhaps persisted to disk or other location until needed again).</span>
</span><span id="BNO055.set_calibration-507"><a href="#BNO055.set_calibration-507"><span
                    class="linenos">507</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.set_calibration-508"><a href="#BNO055.set_calibration-508"><span class="linenos">508</span></a>		<span
                    class="c1"># Check that 22 bytes were passed in with calibration data.</span>
</span><span id="BNO055.set_calibration-509"><a href="#BNO055.set_calibration-509"><span class="linenos">509</span></a>		<span
                    class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span
                    class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span
                    class="p">(</span><span class="n">data</span><span class="p">)</span> <span
                    class="o">!=</span> <span class="mi">22</span><span class="p">:</span>
</span><span id="BNO055.set_calibration-510"><a href="#BNO055.set_calibration-510"><span class="linenos">510</span></a>			<span
                    class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Expected a list of 22 bytes for calibration data.&quot;</span><span
                    class="p">)</span>
</span><span id="BNO055.set_calibration-511"><a href="#BNO055.set_calibration-511"><span class="linenos">511</span></a>		<span
                    class="c1"># Switch to configuration mode, as mentioned in section 3.10.4 of datasheet.</span>
</span><span id="BNO055.set_calibration-512"><a href="#BNO055.set_calibration-512"><span class="linenos">512</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                    class="p">()</span>
</span><span id="BNO055.set_calibration-513"><a href="#BNO055.set_calibration-513"><span class="linenos">513</span></a>		<span
                    class="c1"># Set the 22 bytes of calibration data.</span>
</span><span id="BNO055.set_calibration-514"><a href="#BNO055.set_calibration-514"><span class="linenos">514</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_bytes</span><span
                    class="p">(</span><span class="n">ACCEL_OFFSET_X_LSB_ADDR</span><span class="p">,</span> <span
                    class="n">data</span><span class="p">)</span>
</span><span id="BNO055.set_calibration-515"><a href="#BNO055.set_calibration-515"><span class="linenos">515</span></a>		<span
                    class="c1"># Go back to normal operation mode.</span>
</span><span id="BNO055.set_calibration-516"><a href="#BNO055.set_calibration-516"><span class="linenos">516</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span></pre>
            </div>


            <div class="docstring"><p>Set the sensor's calibration data using a list of 22 bytes that
                represent the sensor offsets and calibration data. This data should be
                a value that was previously retrieved with get_calibration (and then
                perhaps persisted to disk or other location until needed again).</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.get_axis_remap">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.get_axis_remap-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">get_axis_remap</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.get_axis_remap-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.get_axis_remap"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.get_axis_remap-518"><a
                    href="#BNO055.get_axis_remap-518"><span class="linenos">518</span></a>	<span class="k">def</span> <span
                    class="nf">get_axis_remap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="BNO055.get_axis_remap-519"><a href="#BNO055.get_axis_remap-519"><span
                    class="linenos">519</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Return a tuple with the axis remap register values.  This will return</span>
</span><span id="BNO055.get_axis_remap-520"><a href="#BNO055.get_axis_remap-520"><span
                    class="linenos">520</span></a><span class="sd">		6 values with the following meaning:</span>
</span><span id="BNO055.get_axis_remap-521"><a href="#BNO055.get_axis_remap-521"><span
                    class="linenos">521</span></a><span class="sd">		  - X axis remap (a value of AXIS_REMAP_X, AXIS_REMAP_Y, or AXIS_REMAP_Z.</span>
</span><span id="BNO055.get_axis_remap-522"><a href="#BNO055.get_axis_remap-522"><span
                    class="linenos">522</span></a><span class="sd">		                  which indicates that the physical X axis of the chip</span>
</span><span id="BNO055.get_axis_remap-523"><a href="#BNO055.get_axis_remap-523"><span
                    class="linenos">523</span></a><span class="sd">		                  is remapped to a different axis)</span>
</span><span id="BNO055.get_axis_remap-524"><a href="#BNO055.get_axis_remap-524"><span
                    class="linenos">524</span></a><span class="sd">		  - Y axis remap (see above)</span>
</span><span id="BNO055.get_axis_remap-525"><a href="#BNO055.get_axis_remap-525"><span
                    class="linenos">525</span></a><span class="sd">		  - Z axis remap (see above)</span>
</span><span id="BNO055.get_axis_remap-526"><a href="#BNO055.get_axis_remap-526"><span
                    class="linenos">526</span></a><span class="sd">		  - X axis sign (a value of AXIS_REMAP_POSITIVE or AXIS_REMAP_NEGATIVE</span>
</span><span id="BNO055.get_axis_remap-527"><a href="#BNO055.get_axis_remap-527"><span
                    class="linenos">527</span></a><span class="sd">		                 which indicates if the X axis values should be positive/</span>
</span><span id="BNO055.get_axis_remap-528"><a href="#BNO055.get_axis_remap-528"><span
                    class="linenos">528</span></a><span class="sd">		                 normal or negative/inverted.  The default is positive.)</span>
</span><span id="BNO055.get_axis_remap-529"><a href="#BNO055.get_axis_remap-529"><span
                    class="linenos">529</span></a><span class="sd">		  - Y axis sign (see above)</span>
</span><span id="BNO055.get_axis_remap-530"><a href="#BNO055.get_axis_remap-530"><span
                    class="linenos">530</span></a><span class="sd">		  - Z axis sign (see above)</span>
</span><span id="BNO055.get_axis_remap-531"><a href="#BNO055.get_axis_remap-531"><span class="linenos">531</span></a>
</span><span id="BNO055.get_axis_remap-532"><a href="#BNO055.get_axis_remap-532"><span
                    class="linenos">532</span></a><span class="sd">		Note that by default the axis orientation of the BNO chip looks like</span>
</span><span id="BNO055.get_axis_remap-533"><a href="#BNO055.get_axis_remap-533"><span
                    class="linenos">533</span></a><span class="sd">		the following (taken from section 3.4, page 24 of the datasheet).  Notice</span>
</span><span id="BNO055.get_axis_remap-534"><a href="#BNO055.get_axis_remap-534"><span
                    class="linenos">534</span></a><span class="sd">		the dot in the corner that corresponds to the dot on the BNO chip:</span>
</span><span id="BNO055.get_axis_remap-535"><a href="#BNO055.get_axis_remap-535"><span class="linenos">535</span></a>
</span><span id="BNO055.get_axis_remap-536"><a href="#BNO055.get_axis_remap-536"><span
                    class="linenos">536</span></a><span class="sd">		                   | Z axis</span>
</span><span id="BNO055.get_axis_remap-537"><a href="#BNO055.get_axis_remap-537"><span
                    class="linenos">537</span></a><span class="sd">		                   |</span>
</span><span id="BNO055.get_axis_remap-538"><a href="#BNO055.get_axis_remap-538"><span
                    class="linenos">538</span></a><span class="sd">		                   |   / X axis</span>
</span><span id="BNO055.get_axis_remap-539"><a href="#BNO055.get_axis_remap-539"><span
                    class="linenos">539</span></a><span class="sd">		               ____|__/____</span>
</span><span id="BNO055.get_axis_remap-540"><a href="#BNO055.get_axis_remap-540"><span
                    class="linenos">540</span></a><span class="sd">		  Y axis     / *   | /    /|</span>
</span><span id="BNO055.get_axis_remap-541"><a href="#BNO055.get_axis_remap-541"><span
                    class="linenos">541</span></a><span class="sd">		  _________ /______|/    //</span>
</span><span id="BNO055.get_axis_remap-542"><a href="#BNO055.get_axis_remap-542"><span
                    class="linenos">542</span></a><span class="sd">		           /___________ //</span>
</span><span id="BNO055.get_axis_remap-543"><a href="#BNO055.get_axis_remap-543"><span
                    class="linenos">543</span></a><span class="sd">		          |____________|/</span>
</span><span id="BNO055.get_axis_remap-544"><a href="#BNO055.get_axis_remap-544"><span
                    class="linenos">544</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.get_axis_remap-545"><a href="#BNO055.get_axis_remap-545"><span class="linenos">545</span></a>		<span
                    class="c1"># Get the axis remap register value.</span>
</span><span id="BNO055.get_axis_remap-546"><a href="#BNO055.get_axis_remap-546"><span class="linenos">546</span></a>		<span
                    class="n">map_config</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_AXIS_MAP_CONFIG_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_axis_remap-547"><a href="#BNO055.get_axis_remap-547"><span class="linenos">547</span></a>		<span
                    class="n">z</span> <span class="o">=</span> <span class="p">(</span><span
                    class="n">map_config</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span><span
                    class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055.get_axis_remap-548"><a href="#BNO055.get_axis_remap-548"><span class="linenos">548</span></a>		<span
                    class="n">y</span> <span class="o">=</span> <span class="p">(</span><span
                    class="n">map_config</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span
                    class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055.get_axis_remap-549"><a href="#BNO055.get_axis_remap-549"><span class="linenos">549</span></a>		<span
                    class="n">x</span> <span class="o">=</span> <span class="n">map_config</span> <span
                    class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055.get_axis_remap-550"><a href="#BNO055.get_axis_remap-550"><span class="linenos">550</span></a>		<span
                    class="c1"># Get the axis remap sign register value.</span>
</span><span id="BNO055.get_axis_remap-551"><a href="#BNO055.get_axis_remap-551"><span class="linenos">551</span></a>		<span
                    class="n">sign_config</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_byte</span><span class="p">(</span><span class="n">BNO055_AXIS_MAP_SIGN_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.get_axis_remap-552"><a href="#BNO055.get_axis_remap-552"><span class="linenos">552</span></a>		<span
                    class="n">x_sign</span> <span class="o">=</span> <span class="p">(</span><span
                    class="n">sign_config</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span
                    class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x01</span>
</span><span id="BNO055.get_axis_remap-553"><a href="#BNO055.get_axis_remap-553"><span class="linenos">553</span></a>		<span
                    class="n">y_sign</span> <span class="o">=</span> <span class="p">(</span><span
                    class="n">sign_config</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span
                    class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x01</span>
</span><span id="BNO055.get_axis_remap-554"><a href="#BNO055.get_axis_remap-554"><span class="linenos">554</span></a>		<span
                    class="n">z_sign</span> <span class="o">=</span> <span class="n">sign_config</span> <span class="o">&amp;</span> <span
                    class="mh">0x01</span>
</span><span id="BNO055.get_axis_remap-555"><a href="#BNO055.get_axis_remap-555"><span class="linenos">555</span></a>		<span
                    class="c1"># Return the results as a tuple of all 3 values.</span>
</span><span id="BNO055.get_axis_remap-556"><a href="#BNO055.get_axis_remap-556"><span class="linenos">556</span></a>		<span
                    class="k">return</span> <span class="p">(</span><span class="n">x</span><span
                    class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span
                    class="p">,</span> <span class="n">x_sign</span><span class="p">,</span> <span
                    class="n">y_sign</span><span class="p">,</span> <span class="n">z_sign</span><span
                    class="p">)</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return a tuple with the axis remap register values. This will return
                6 values with the following meaning:</p>

                <ul>
                    <li>X axis remap (a value of AXIS_REMAP_X, AXIS_REMAP_Y, or AXIS_REMAP_Z.
                        which indicates that the physical X axis of the chip
                        is remapped to a different axis)
                    </li>
                    <li>Y axis remap (see above)</li>
                    <li>Z axis remap (see above)</li>
                    <li>X axis sign (a value of AXIS_REMAP_POSITIVE or AXIS_REMAP_NEGATIVE
                        which indicates if the X axis values should be positive/
                        normal or negative/inverted. The default is positive.)
                    </li>
                    <li>Y axis sign (see above)</li>
                    <li>Z axis sign (see above)</li>
                </ul>

                <p>Note that by default the axis orientation of the BNO chip looks like
                    the following (taken from section 3.4, page 24 of the datasheet). Notice
                    the dot in the corner that corresponds to the dot on the BNO chip:</p>

                <pre><code>               | Z axis
               |
               |   / X axis
           ____|__/____
</code></pre>

                <p>Y axis / * | / /|
                    _________ /______|/ //
                    /___________ //
                    |____________|/</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.set_axis_remap">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.set_axis_remap-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">set_axis_remap</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span>, </span><span class="param"><span
                    class="n">x</span>, </span><span class="param"><span class="n">y</span>, </span><span class="param"><span
                    class="n">z</span>, </span><span class="param"><span class="n">x_sign</span><span class="o">=</span><span
                    class="mi">0</span>, </span><span class="param"><span class="n">y_sign</span><span
                    class="o">=</span><span class="mi">0</span>, </span><span class="param"><span
                    class="n">z_sign</span><span class="o">=</span><span class="mi">0</span></span><span
                    class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.set_axis_remap-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.set_axis_remap"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.set_axis_remap-558"><a
                    href="#BNO055.set_axis_remap-558"><span class="linenos">558</span></a>	<span class="k">def</span> <span
                    class="nf">set_axis_remap</span><span class="p">(</span>
</span><span id="BNO055.set_axis_remap-559"><a href="#BNO055.set_axis_remap-559"><span class="linenos">559</span></a>		<span
                    class="bp">self</span><span class="p">,</span>
</span><span id="BNO055.set_axis_remap-560"><a href="#BNO055.set_axis_remap-560"><span class="linenos">560</span></a>		<span
                    class="n">x</span><span class="p">,</span>
</span><span id="BNO055.set_axis_remap-561"><a href="#BNO055.set_axis_remap-561"><span class="linenos">561</span></a>		<span
                    class="n">y</span><span class="p">,</span>
</span><span id="BNO055.set_axis_remap-562"><a href="#BNO055.set_axis_remap-562"><span class="linenos">562</span></a>		<span
                    class="n">z</span><span class="p">,</span>
</span><span id="BNO055.set_axis_remap-563"><a href="#BNO055.set_axis_remap-563"><span class="linenos">563</span></a>		<span
                    class="n">x_sign</span><span class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span
                    class="p">,</span>
</span><span id="BNO055.set_axis_remap-564"><a href="#BNO055.set_axis_remap-564"><span class="linenos">564</span></a>		<span
                    class="n">y_sign</span><span class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span
                    class="p">,</span>
</span><span id="BNO055.set_axis_remap-565"><a href="#BNO055.set_axis_remap-565"><span class="linenos">565</span></a>		<span
                    class="n">z_sign</span><span class="o">=</span><span class="n">AXIS_REMAP_POSITIVE</span><span
                    class="p">,</span>
</span><span id="BNO055.set_axis_remap-566"><a href="#BNO055.set_axis_remap-566"><span class="linenos">566</span></a>	<span
                    class="p">):</span>
</span><span id="BNO055.set_axis_remap-567"><a href="#BNO055.set_axis_remap-567"><span
                    class="linenos">567</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Set axis remap for each axis.  The x, y, z parameter values should</span>
</span><span id="BNO055.set_axis_remap-568"><a href="#BNO055.set_axis_remap-568"><span
                    class="linenos">568</span></a><span class="sd">		be set to one of AXIS_REMAP_X, AXIS_REMAP_Y, or AXIS_REMAP_Z and will</span>
</span><span id="BNO055.set_axis_remap-569"><a href="#BNO055.set_axis_remap-569"><span
                    class="linenos">569</span></a><span class="sd">		change the BNO&#39;s axis to represent another axis.  Note that two axises</span>
</span><span id="BNO055.set_axis_remap-570"><a href="#BNO055.set_axis_remap-570"><span
                    class="linenos">570</span></a><span class="sd">		cannot be mapped to the same axis, so the x, y, z params should be a</span>
</span><span id="BNO055.set_axis_remap-571"><a href="#BNO055.set_axis_remap-571"><span
                    class="linenos">571</span></a><span class="sd">		unique combination of AXIS_REMAP_X, AXIS_REMAP_Y, AXIS_REMAP_Z values.</span>
</span><span id="BNO055.set_axis_remap-572"><a href="#BNO055.set_axis_remap-572"><span class="linenos">572</span></a>
</span><span id="BNO055.set_axis_remap-573"><a href="#BNO055.set_axis_remap-573"><span
                    class="linenos">573</span></a><span class="sd">		The x_sign, y_sign, z_sign values represent if the axis should be positive</span>
</span><span id="BNO055.set_axis_remap-574"><a href="#BNO055.set_axis_remap-574"><span
                    class="linenos">574</span></a><span class="sd">		or negative (inverted).</span>
</span><span id="BNO055.set_axis_remap-575"><a href="#BNO055.set_axis_remap-575"><span class="linenos">575</span></a>
</span><span id="BNO055.set_axis_remap-576"><a href="#BNO055.set_axis_remap-576"><span
                    class="linenos">576</span></a><span class="sd">		See the get_axis_remap documentation for information on the orientation</span>
</span><span id="BNO055.set_axis_remap-577"><a href="#BNO055.set_axis_remap-577"><span
                    class="linenos">577</span></a><span class="sd">		of the axises on the chip, and consult section 3.4 of the datasheet.</span>
</span><span id="BNO055.set_axis_remap-578"><a href="#BNO055.set_axis_remap-578"><span
                    class="linenos">578</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.set_axis_remap-579"><a href="#BNO055.set_axis_remap-579"><span class="linenos">579</span></a>		<span
                    class="c1"># Switch to configuration mode.</span>
</span><span id="BNO055.set_axis_remap-580"><a href="#BNO055.set_axis_remap-580"><span class="linenos">580</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_config_mode</span><span
                    class="p">()</span>
</span><span id="BNO055.set_axis_remap-581"><a href="#BNO055.set_axis_remap-581"><span class="linenos">581</span></a>		<span
                    class="c1"># Set the axis remap register value.</span>
</span><span id="BNO055.set_axis_remap-582"><a href="#BNO055.set_axis_remap-582"><span class="linenos">582</span></a>		<span
                    class="n">map_config</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="BNO055.set_axis_remap-583"><a href="#BNO055.set_axis_remap-583"><span class="linenos">583</span></a>		<span
                    class="n">map_config</span> <span class="o">|=</span> <span class="p">(</span><span
                    class="n">z</span> <span class="o">&amp;</span> <span class="mh">0x03</span><span class="p">)</span> <span
                    class="o">&lt;&lt;</span> <span class="mi">4</span>
</span><span id="BNO055.set_axis_remap-584"><a href="#BNO055.set_axis_remap-584"><span class="linenos">584</span></a>		<span
                    class="n">map_config</span> <span class="o">|=</span> <span class="p">(</span><span
                    class="n">y</span> <span class="o">&amp;</span> <span class="mh">0x03</span><span class="p">)</span> <span
                    class="o">&lt;&lt;</span> <span class="mi">2</span>
</span><span id="BNO055.set_axis_remap-585"><a href="#BNO055.set_axis_remap-585"><span class="linenos">585</span></a>		<span
                    class="n">map_config</span> <span class="o">|=</span> <span class="n">x</span> <span
                    class="o">&amp;</span> <span class="mh">0x03</span>
</span><span id="BNO055.set_axis_remap-586"><a href="#BNO055.set_axis_remap-586"><span class="linenos">586</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_AXIS_MAP_CONFIG_ADDR</span><span class="p">,</span> <span
                    class="n">map_config</span><span class="p">)</span>
</span><span id="BNO055.set_axis_remap-587"><a href="#BNO055.set_axis_remap-587"><span class="linenos">587</span></a>		<span
                    class="c1"># Set the axis remap sign register value.</span>
</span><span id="BNO055.set_axis_remap-588"><a href="#BNO055.set_axis_remap-588"><span class="linenos">588</span></a>		<span
                    class="n">sign_config</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="BNO055.set_axis_remap-589"><a href="#BNO055.set_axis_remap-589"><span class="linenos">589</span></a>		<span
                    class="n">sign_config</span> <span class="o">|=</span> <span class="p">(</span><span class="n">x_sign</span> <span
                    class="o">&amp;</span> <span class="mh">0x01</span><span class="p">)</span> <span
                    class="o">&lt;&lt;</span> <span class="mi">2</span>
</span><span id="BNO055.set_axis_remap-590"><a href="#BNO055.set_axis_remap-590"><span class="linenos">590</span></a>		<span
                    class="n">sign_config</span> <span class="o">|=</span> <span class="p">(</span><span class="n">y_sign</span> <span
                    class="o">&amp;</span> <span class="mh">0x01</span><span class="p">)</span> <span
                    class="o">&lt;&lt;</span> <span class="mi">1</span>
</span><span id="BNO055.set_axis_remap-591"><a href="#BNO055.set_axis_remap-591"><span class="linenos">591</span></a>		<span
                    class="n">sign_config</span> <span class="o">|=</span> <span class="n">z_sign</span> <span
                    class="o">&amp;</span> <span class="mh">0x01</span>
</span><span id="BNO055.set_axis_remap-592"><a href="#BNO055.set_axis_remap-592"><span class="linenos">592</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_write_byte</span><span
                    class="p">(</span><span class="n">BNO055_AXIS_MAP_SIGN_ADDR</span><span class="p">,</span> <span
                    class="n">sign_config</span><span class="p">)</span>
</span><span id="BNO055.set_axis_remap-593"><a href="#BNO055.set_axis_remap-593"><span class="linenos">593</span></a>		<span
                    class="c1"># Go back to normal operation mode.</span>
</span><span id="BNO055.set_axis_remap-594"><a href="#BNO055.set_axis_remap-594"><span class="linenos">594</span></a>		<span
                    class="bp">self</span><span class="o">.</span><span class="n">_operation_mode</span><span class="p">()</span>
</span></pre>
            </div>


            <div class="docstring"><p>Set axis remap for each axis. The x, y, z parameter values should
                be set to one of AXIS_REMAP_X, AXIS_REMAP_Y, or AXIS_REMAP_Z and will
                change the BNO's axis to represent another axis. Note that two axises
                cannot be mapped to the same axis, so the x, y, z params should be a
                unique combination of AXIS_REMAP_X, AXIS_REMAP_Y, AXIS_REMAP_Z values.</p>

                <p>The x_sign, y_sign, z_sign values represent if the axis should be positive
                    or negative (inverted).</p>

                <p>See the get_axis_remap documentation for information on the orientation
                    of the axises on the chip, and consult section 3.4 of the datasheet.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.read_euler">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.read_euler-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">read_euler</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BNO055.read_euler-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.read_euler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.read_euler-607"><a
                    href="#BNO055.read_euler-607"><span class="linenos">607</span></a>	<span
                    class="k">def</span> <span class="nf">read_euler</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">):</span>
</span><span id="BNO055.read_euler-608"><a href="#BNO055.read_euler-608"><span class="linenos">608</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current absolute orientation as a tuple of heading, roll,</span>
</span><span id="BNO055.read_euler-609"><a href="#BNO055.read_euler-609"><span class="linenos">609</span></a><span
                    class="sd">		and pitch euler angles in degrees.</span>
</span><span id="BNO055.read_euler-610"><a href="#BNO055.read_euler-610"><span class="linenos">610</span></a><span
                    class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.read_euler-611"><a href="#BNO055.read_euler-611"><span
                    class="linenos">611</span></a>		<span class="n">heading</span><span class="p">,</span> <span
                    class="n">roll</span><span class="p">,</span> <span class="n">pitch</span> <span class="o">=</span> <span
                    class="bp">self</span><span class="o">.</span><span class="n">_read_vector</span><span
                    class="p">(</span><span class="n">BNO055_EULER_H_LSB_ADDR</span><span class="p">)</span>
</span><span id="BNO055.read_euler-612"><a href="#BNO055.read_euler-612"><span
                    class="linenos">612</span></a>		<span class="k">return</span> <span
                    class="n">heading</span> <span class="o">/</span> <span class="mf">16.0</span><span
                    class="p">,</span> <span class="n">roll</span> <span class="o">/</span> <span class="mf">16.0</span><span
                    class="p">,</span> <span class="n">pitch</span> <span class="o">/</span> <span
                    class="mf">16.0</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the current absolute orientation as a tuple of heading, roll,
                and pitch euler angles in degrees.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.read_magnetometer">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.read_magnetometer-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">read_magnetometer</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.read_magnetometer-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.read_magnetometer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.read_magnetometer-614"><a
                    href="#BNO055.read_magnetometer-614"><span class="linenos">614</span></a>	<span
                    class="k">def</span> <span class="nf">read_magnetometer</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">):</span>
</span><span id="BNO055.read_magnetometer-615"><a href="#BNO055.read_magnetometer-615"><span class="linenos">615</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current magnetometer reading as a tuple of X, Y, Z values</span>
</span><span id="BNO055.read_magnetometer-616"><a href="#BNO055.read_magnetometer-616"><span class="linenos">616</span></a><span
                    class="sd">		in micro-Teslas.</span>
</span><span id="BNO055.read_magnetometer-617"><a href="#BNO055.read_magnetometer-617"><span class="linenos">617</span></a><span
                    class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.read_magnetometer-618"><a href="#BNO055.read_magnetometer-618"><span class="linenos">618</span></a>		<span
                    class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
                    class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_vector</span><span class="p">(</span><span class="n">BNO055_MAG_DATA_X_LSB_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.read_magnetometer-619"><a href="#BNO055.read_magnetometer-619"><span class="linenos">619</span></a>		<span
                    class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span
                    class="mf">16.0</span><span class="p">,</span> <span class="n">y</span> <span
                    class="o">/</span> <span class="mf">16.0</span><span class="p">,</span> <span
                    class="n">z</span> <span class="o">/</span> <span class="mf">16.0</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the current magnetometer reading as a tuple of X, Y, Z values
                in micro-Teslas.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.read_gyroscope">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.read_gyroscope-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">read_gyroscope</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.read_gyroscope-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.read_gyroscope"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.read_gyroscope-621"><a
                    href="#BNO055.read_gyroscope-621"><span class="linenos">621</span></a>	<span class="k">def</span> <span
                    class="nf">read_gyroscope</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="BNO055.read_gyroscope-622"><a href="#BNO055.read_gyroscope-622"><span
                    class="linenos">622</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current gyroscope (angular velocity) reading as a tuple of</span>
</span><span id="BNO055.read_gyroscope-623"><a href="#BNO055.read_gyroscope-623"><span
                    class="linenos">623</span></a><span class="sd">		X, Y, Z values in degrees per second.</span>
</span><span id="BNO055.read_gyroscope-624"><a href="#BNO055.read_gyroscope-624"><span
                    class="linenos">624</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.read_gyroscope-625"><a href="#BNO055.read_gyroscope-625"><span class="linenos">625</span></a>		<span
                    class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
                    class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_vector</span><span class="p">(</span><span class="n">BNO055_GYRO_DATA_X_LSB_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.read_gyroscope-626"><a href="#BNO055.read_gyroscope-626"><span class="linenos">626</span></a>		<span
                    class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span
                    class="mf">900.0</span><span class="p">,</span> <span class="n">y</span> <span
                    class="o">/</span> <span class="mf">900.0</span><span class="p">,</span> <span
                    class="n">z</span> <span class="o">/</span> <span class="mf">900.0</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the current gyroscope (angular velocity) reading as a tuple of
                X, Y, Z values in degrees per second.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.read_accelerometer">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.read_accelerometer-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">read_accelerometer</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.read_accelerometer-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.read_accelerometer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.read_accelerometer-628"><a
                    href="#BNO055.read_accelerometer-628"><span class="linenos">628</span></a>	<span
                    class="k">def</span> <span class="nf">read_accelerometer</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">):</span>
</span><span id="BNO055.read_accelerometer-629"><a href="#BNO055.read_accelerometer-629"><span
                    class="linenos">629</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current accelerometer reading as a tuple of X, Y, Z values</span>
</span><span id="BNO055.read_accelerometer-630"><a href="#BNO055.read_accelerometer-630"><span
                    class="linenos">630</span></a><span class="sd">		in meters/second^2.</span>
</span><span id="BNO055.read_accelerometer-631"><a href="#BNO055.read_accelerometer-631"><span
                    class="linenos">631</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.read_accelerometer-632"><a href="#BNO055.read_accelerometer-632"><span
                    class="linenos">632</span></a>		<span class="n">x</span><span class="p">,</span> <span
                    class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span
                    class="bp">self</span><span class="o">.</span><span class="n">_read_vector</span><span
                    class="p">(</span><span class="n">BNO055_ACCEL_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="BNO055.read_accelerometer-633"><a href="#BNO055.read_accelerometer-633"><span
                    class="linenos">633</span></a>		<span class="k">return</span> <span class="n">x</span> <span
                    class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                    class="n">y</span> <span class="o">/</span> <span class="mf">100.0</span><span
                    class="p">,</span> <span class="n">z</span> <span class="o">/</span> <span class="mf">100.0</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the current accelerometer reading as a tuple of X, Y, Z values
                in meters/second^2.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.read_linear_acceleration">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.read_linear_acceleration-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">read_linear_acceleration</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.read_linear_acceleration-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.read_linear_acceleration"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.read_linear_acceleration-635"><a
                    href="#BNO055.read_linear_acceleration-635"><span class="linenos">635</span></a>	<span class="k">def</span> <span
                    class="nf">read_linear_acceleration</span><span class="p">(</span><span class="bp">self</span><span
                    class="p">):</span>
</span><span id="BNO055.read_linear_acceleration-636"><a href="#BNO055.read_linear_acceleration-636"><span
                    class="linenos">636</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current linear acceleration (acceleration from movement,</span>
</span><span id="BNO055.read_linear_acceleration-637"><a href="#BNO055.read_linear_acceleration-637"><span
                    class="linenos">637</span></a><span class="sd">		not from gravity) reading as a tuple of X, Y, Z values in meters/second^2.</span>
</span><span id="BNO055.read_linear_acceleration-638"><a href="#BNO055.read_linear_acceleration-638"><span
                    class="linenos">638</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.read_linear_acceleration-639"><a href="#BNO055.read_linear_acceleration-639"><span
                    class="linenos">639</span></a>		<span class="n">x</span><span class="p">,</span> <span
                    class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span
                    class="bp">self</span><span class="o">.</span><span class="n">_read_vector</span><span
                    class="p">(</span><span class="n">BNO055_LINEAR_ACCEL_DATA_X_LSB_ADDR</span><span class="p">)</span>
</span><span id="BNO055.read_linear_acceleration-640"><a href="#BNO055.read_linear_acceleration-640"><span
                    class="linenos">640</span></a>		<span class="k">return</span> <span class="n">x</span> <span
                    class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                    class="n">y</span> <span class="o">/</span> <span class="mf">100.0</span><span
                    class="p">,</span> <span class="n">z</span> <span class="o">/</span> <span class="mf">100.0</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the current linear acceleration (acceleration from movement,
                not from gravity) reading as a tuple of X, Y, Z values in meters/second^2.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.read_gravity">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.read_gravity-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">read_gravity</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BNO055.read_gravity-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.read_gravity"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.read_gravity-642"><a
                    href="#BNO055.read_gravity-642"><span class="linenos">642</span></a>	<span
                    class="k">def</span> <span class="nf">read_gravity</span><span class="p">(</span><span class="bp">self</span><span
                    class="p">):</span>
</span><span id="BNO055.read_gravity-643"><a href="#BNO055.read_gravity-643"><span class="linenos">643</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current gravity acceleration reading as a tuple of X, Y, Z</span>
</span><span id="BNO055.read_gravity-644"><a href="#BNO055.read_gravity-644"><span class="linenos">644</span></a><span
                    class="sd">		values in meters/second^2.</span>
</span><span id="BNO055.read_gravity-645"><a href="#BNO055.read_gravity-645"><span class="linenos">645</span></a><span
                    class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.read_gravity-646"><a href="#BNO055.read_gravity-646"><span class="linenos">646</span></a>		<span
                    class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
                    class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span
                    class="o">.</span><span class="n">_read_vector</span><span class="p">(</span><span class="n">BNO055_GRAVITY_DATA_X_LSB_ADDR</span><span
                    class="p">)</span>
</span><span id="BNO055.read_gravity-647"><a href="#BNO055.read_gravity-647"><span class="linenos">647</span></a>		<span
                    class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span
                    class="mf">100.0</span><span class="p">,</span> <span class="n">y</span> <span
                    class="o">/</span> <span class="mf">100.0</span><span class="p">,</span> <span
                    class="n">z</span> <span class="o">/</span> <span class="mf">100.0</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the current gravity acceleration reading as a tuple of X, Y, Z
                values in meters/second^2.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.read_quaternion">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.read_quaternion-view-source"
                   tabindex="-1" type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">read_quaternion</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button"
                       for="BNO055.read_quaternion-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.read_quaternion"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.read_quaternion-649"><a
                    href="#BNO055.read_quaternion-649"><span class="linenos">649</span></a>	<span
                    class="k">def</span> <span class="nf">read_quaternion</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">):</span>
</span><span id="BNO055.read_quaternion-650"><a href="#BNO055.read_quaternion-650"><span
                    class="linenos">650</span></a><span class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current orientation as a tuple of X, Y, Z, W quaternion</span>
</span><span id="BNO055.read_quaternion-651"><a href="#BNO055.read_quaternion-651"><span
                    class="linenos">651</span></a><span class="sd">		values.</span>
</span><span id="BNO055.read_quaternion-652"><a href="#BNO055.read_quaternion-652"><span
                    class="linenos">652</span></a><span class="sd">		&quot;&quot;&quot;</span>
</span><span id="BNO055.read_quaternion-653"><a href="#BNO055.read_quaternion-653"><span class="linenos">653</span></a>		<span
                    class="n">w</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span
                    class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span
                    class="bp">self</span><span class="o">.</span><span class="n">_read_vector</span><span
                    class="p">(</span><span class="n">BNO055_QUATERNION_DATA_W_LSB_ADDR</span><span
                    class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span><span id="BNO055.read_quaternion-654"><a href="#BNO055.read_quaternion-654"><span class="linenos">654</span></a>		<span
                    class="c1"># Scale values, see 3.6.5.5 in the datasheet.</span>
</span><span id="BNO055.read_quaternion-655"><a href="#BNO055.read_quaternion-655"><span class="linenos">655</span></a>		<span
                    class="n">scale</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span
                    class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span
                    class="mi">14</span><span class="p">)</span>
</span><span id="BNO055.read_quaternion-656"><a href="#BNO055.read_quaternion-656"><span class="linenos">656</span></a>		<span
                    class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span
                    class="n">scale</span><span class="p">,</span> <span class="n">y</span> <span
                    class="o">*</span> <span class="n">scale</span><span class="p">,</span> <span
                    class="n">z</span> <span class="o">*</span> <span class="n">scale</span><span
                    class="p">,</span> <span class="n">w</span> <span class="o">*</span> <span class="n">scale</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the current orientation as a tuple of X, Y, Z, W quaternion
                values.</p>
            </div>


        </div>
        <div class="classattr" id="BNO055.read_temp">
            <input aria-hidden="true" class="view-source-toggle-state" id="BNO055.read_temp-view-source" tabindex="-1"
                   type="checkbox">
            <div class="attr function">

                <span class="def">def</span>
                <span class="name">read_temp</span><span class="signature pdoc-code condensed">(<span
                    class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BNO055.read_temp-view-source"><span>View Source</span></label>

            </div>
            <a class="headerlink" href="#BNO055.read_temp"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BNO055.read_temp-658"><a
                    href="#BNO055.read_temp-658"><span class="linenos">658</span></a>	<span
                    class="k">def</span> <span class="nf">read_temp</span><span class="p">(</span><span
                    class="bp">self</span><span class="p">):</span>
</span><span id="BNO055.read_temp-659"><a href="#BNO055.read_temp-659"><span class="linenos">659</span></a><span
                    class="w">		</span><span class="sd">&quot;&quot;&quot;Return the current temperature in Celsius.&quot;&quot;&quot;</span>
</span><span id="BNO055.read_temp-660"><a href="#BNO055.read_temp-660"><span class="linenos">660</span></a>		<span
                    class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_signed_byte</span><span
                    class="p">(</span><span class="n">BNO055_TEMP_ADDR</span><span class="p">)</span>
</span></pre>
            </div>


            <div class="docstring"><p>Return the current temperature in Celsius.</p>
            </div>


        </div>
    </section>
</main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script>
</body>
</html>